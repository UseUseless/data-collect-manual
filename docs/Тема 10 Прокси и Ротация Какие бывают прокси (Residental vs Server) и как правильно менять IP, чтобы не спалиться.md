# –¢–µ–º–∞ 10: –ü—Ä–æ–∫—Å–∏ –∏ –†–æ—Ç–∞—Ü–∏—è: –ö–∞–∫–∏–µ –±—ã–≤–∞—é—Ç –ø—Ä–æ–∫—Å–∏ (Residental vs Server) –∏ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–µ–Ω—è—Ç—å IP, —á—Ç–æ–±—ã –Ω–µ —Å–ø–∞–ª–∏—Ç—å—Å—è?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –≥—Ä–∞–±–∏—à—å –±–∞–Ω–∫. –¢—ã –Ω–∞–¥–µ–ª –º–∞—Å–∫—É (User-Agent), –Ω–∞—É—á–∏–ª—Å—è —Ö–æ–¥–∏—Ç—å –∫–∞–∫ –æ—Ö—Ä–∞–Ω–Ω–∏–∫ (TLS Fingerprint), –Ω–æ... —Ç—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å –≤ –±–∞–Ω–∫ **–∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ —á–µ—Ä–µ–∑ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –¥–≤–µ—Ä—å**.
–û—Ö—Ä–∞–Ω–Ω–∏–∫ –Ω–µ —Ç—É–ø–æ–π. –û–Ω –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä–æ–µ—Ç —ç—Ç—É –¥–≤–µ—Ä—å.

IP-–∞–¥—Ä–µ—Å ‚Äî —ç—Ç–æ —Ç–≤–æ–π —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥. –ß—Ç–æ–±—ã –ø–∞—Ä—Å–∏—Ç—å –º–∞—Å—à—Ç–∞–±–Ω–æ, —Ç–µ–±–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å "–¥–≤–µ—Ä–∏" –ø–æ—Å—Ç–æ—è–Ω–Ω–æ.

---

### 1. –ü–∏—Ä–∞–º–∏–¥–∞ –ü—Ä–æ–∫—Å–∏ (–¢–∏–ø—ã)

–ù–µ –≤—Å–µ IP –æ–¥–∏–Ω–∞–∫–æ–≤–æ –ø–æ–ª–µ–∑–Ω—ã. –ï—Å—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—è.

### –£—Ä–æ–≤–µ–Ω—å 1: Datacenter (–°–µ—Ä–≤–µ—Ä–Ω—ã–µ) ‚Äî "–î–µ—à–µ–≤–æ –∏ —Å–µ—Ä–¥–∏—Ç–æ"

–≠—Ç–æ IP-–∞–¥—Ä–µ—Å–∞ —Ö–æ—Å—Ç–∏–Ω–≥–æ–≤ (AWS, DigitalOcean, Hetzner).

- **–ü–ª—é—Å—ã:** –î–µ—à–µ–≤—ã–µ, –±–µ–∑—É–º–Ω–æ –±—ã—Å—Ç—Ä—ã–µ, —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ.
- **–ú–∏–Ω—É—Å—ã:** –£ –Ω–∏—Ö –Ω–∞ –ª–±—É –Ω–∞–ø–∏—Å–∞–Ω–æ "–Ø –°–ï–†–í–ï–†". –°–∞–π—Ç—ã –≤–∏–¥—è—Ç, —á—Ç–æ IP –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä—É, –∞ –∂–∏–≤—ã–µ –ª—é–¥–∏ –Ω–µ —Å–∏–¥—è—Ç —Å —Å–µ—Ä–≤–µ—Ä–æ–≤.
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–∞–π—Ç–æ–≤ –±–µ–∑ –∑–∞—â–∏—Ç—ã. –î–ª—è Avito –∏–ª–∏ Google ‚Äî –º—É—Å–æ—Ä, –∑–∞–±–∞–Ω—è—Ç –ø–æ–¥—Å–µ—Ç—å—é —Å—Ä–∞–∑—É.

### –£—Ä–æ–≤–µ–Ω—å 2: Residential (–†–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ) ‚Äî "–ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥ —Å–æ—Å–µ–¥–∞"

–≠—Ç–æ IP-–∞–¥—Ä–µ—Å–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ª—é–¥–µ–π (–¥–æ–º–∞—à–Ω–∏–π Wi-Fi). –ö–∞–∫ –æ–Ω–∏ –∏—Ö –ø–æ–ª—É—á–∞—é—Ç? –û–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ VPN-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—à–∏–≤–∞—é—Ç —é–∑–µ—Ä–∞–º SDK: "–¢—ã —é–∑–∞–µ—à—å VPN –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –∞ –º—ã —é–∑–∞–µ–º —Ç–≤–æ–π –∫–∞–Ω–∞–ª –∫–∞–∫ –ø—Ä–æ–∫—Å–∏".

- **–ü–ª—é—Å—ã:** –í—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –í–∞—Å—è –∏–∑ –°–∞—Ä–∞—Ç–æ–≤–∞. –¢—Ä–∞—Å—Ç (–¥–æ–≤–µ—Ä–∏–µ) –≤—ã—Å–æ–∫–∏–π.
- **–ú–∏–Ω—É—Å—ã:** –î–æ—Ä–æ–≥–∏–µ (–ø—Ä–æ–¥–∞—é—Ç—Å—è –∑–∞ –≥–∏–≥–∞–±–∞–π—Ç—ã —Ç—Ä–∞—Ñ–∏–∫–∞). –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (–∫–∞–Ω–∞–ª –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –í–∞—Å–∏). –ú–æ–≥—É—Ç –æ—Ç–≤–∞–ª–∏—Ç—å—Å—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç, –µ—Å–ª–∏ –í–∞—Å—è –≤—ã–∫–ª—é—á–∏–ª —Ä–æ—É—Ç–µ—Ä.
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ó–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤.

### –£—Ä–æ–≤–µ–Ω—å 3: Mobile (–ú–æ–±–∏–ª—å–Ω—ã–µ) ‚Äî "–†–µ–∂–∏–º –ë–æ–≥–∞"

–≠—Ç–æ IP-–∞–¥—Ä–µ—Å–∞ —Å–æ—Ç–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (4G/5G).

- **–°—É—Ç—å (CGNAT):** –£ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –º–∞–ª–æ IPv4 –∞–¥—Ä–µ—Å–æ–≤. –ü–æ—ç—Ç–æ–º—É –∑–∞ –æ–¥–Ω–∏–º IP –º–æ–∂–µ—Ç —Å–∏–¥–µ—Ç—å 1000 —Ä–µ–∞–ª—å–Ω—ã—Ö –ª—é–¥–µ–π.
- **–ü–æ—á–µ–º—É —ç—Ç–æ –∫—Ä—É—Ç–æ:** –°–∞–π—Ç **–ë–û–ò–¢–°–Ø** –±–∞–Ω–∏—Ç—å –º–æ–±–∏–ª—å–Ω—ã–π IP. –ï—Å–ª–∏ –æ–Ω –∑–∞–±–∞–Ω–∏—Ç —ç—Ç–æ—Ç IP, –æ–Ω –æ—Ç—Ä–µ–∂–µ—Ç –¥–æ—Å—Ç—É–ø —Ç—ã—Å—è—á–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
- **–ü–ª—é—Å—ã:** –ü–æ—á—Ç–∏ –±–µ—Å—Å–º–µ—Ä—Ç–Ω—ã–µ.
- **–ú–∏–Ω—É—Å—ã:** –û—á–µ–Ω—å –¥–æ—Ä–æ–≥–∏–µ.
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** Instagram, Facebook, —Å–∞–º—ã–µ –ª—é—Ç—ã–µ –∑–∞—â–∏—Ç—ã.

---

### 2. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –†–æ—Ç–∞—Ü–∏–∏: –ö–∞–∫ –º–µ–Ω—è—Ç—å IP?

–£ —Ç–µ–±—è –µ—Å—Ç—å –¥–≤–∞ –ø—É—Ç–∏, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ –∫–æ–¥–µ.

### –ü—É—Ç—å –ê: Gateway (–†–æ—Ç–∞—Ü–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ)

–¢—ã –ø–æ–∫—É–ø–∞–µ—à—å –¥–æ—Å—Ç—É–ø –∫ –ø—É–ª—É –ø—Ä–æ–∫—Å–∏. –¢–µ–±–µ –¥–∞—é—Ç **–æ–¥–∏–Ω** –∞–¥—Ä–µ—Å (Gateway), –Ω–∞–ø—Ä–∏–º–µ—Ä `proxy.provider.com:8000`.
–ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç—ã —à–ª–µ—à—å –∑–∞–ø—Ä–æ—Å –Ω–∞ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å, –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å–∞–º –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ —á–µ—Ä–µ–∑ –Ω–æ–≤—ã–π —Å–ª—É—á–∞–π–Ω—ã–π IP –∏–∑ –ø—É–ª–∞.

- **–ö–æ–¥:** –≠–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π. –¢—ã –ø—Ä–æ—Å—Ç–æ –¥–æ–ª–±–∏—à—å –≤ –æ–¥–Ω—É –¥—ã—Ä–∫—É.
- **–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:** –°–±–æ—Ä–∞ –æ–±—â–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ü–µ–Ω—ã, –∫–∞—Ç–∞–ª–æ–≥–∏), –≥–¥–µ –Ω–µ –Ω—É–∂–Ω–æ –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è.

### –ü—É—Ç—å –ë: Sticky Session (–õ–∏–ø–∫–∞—è —Å–µ—Å—Å–∏—è)

–ï—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ **–∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è** –∏ —Ö–æ–¥–∏—Ç—å –ø–æ –∫–∞–±–∏–Ω–µ—Ç—É, —Ç–µ–±–µ –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å IP –Ω–∞ –∫–∞–∂–¥–æ–º –∫–ª–∏–∫–µ (—Å–∞–π—Ç –æ—Ö—Ä–µ–Ω–µ–µ—Ç, —á—Ç–æ —Ç—ã –∑–∞ —Å–µ–∫—É–Ω–¥—É –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è –∏–∑ –¢–æ–∫–∏–æ –≤ –ü–∞—Ä–∏–∂).
–¢–µ–±–µ –Ω—É–∂–Ω–æ "–ø—Ä–∏–ª–∏–ø–Ω—É—Ç—å" –∫ –æ–¥–Ω–æ–º—É IP –Ω–∞ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ 10 –º–∏–Ω—É—Ç).

- **–ö–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è:** –û–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–µ username –ø—Ä–æ–∫—Å–∏.
    - –ó–∞–ø—Ä–æ—Å 1: `user-session-123:pass@host:port` -> IP A
    - –ó–∞–ø—Ä–æ—Å 2: `user-session-123:pass@host:port` -> IP A (—Ç–æ—Ç –∂–µ!)
    - –ó–∞–ø—Ä–æ—Å 3: `user-session-456:pass@host:port` -> IP B (–Ω–æ–≤—ã–π —é–∑–µ—Ä = –Ω–æ–≤—ã–π IP)

---

### 3. üë®‚Äçüíª –ö–û–î: –ü–æ–¥–∫–ª—é—á–∞–µ–º –ø—Ä–æ–∫—Å–∏

–í `httpx` (–∏ `requests`, –∏ `curl_cffi`) –ø—Ä–æ–∫—Å–∏ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–ª–æ–≤–∞—Ä—å `proxies`.

```python
import httpx

# –§–æ—Ä–º–∞—Ç: protocol://user:pass@host:port
PROXY_URL = "<http://myuser:mypassword@gate.proxyservice.com:8000>"

# –î–ª—è httpx –ø—Ä–æ–∫—Å–∏ –∑–∞–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ 'mounts' –∏–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç 'proxy' (–≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö)
# –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±:
proxies = {
    "http://": PROXY_URL,
    "https://": PROXY_URL,
}

# 1. –†–æ—Ç–∞—Ü–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ (–æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º)
with httpx.Client(proxies=proxies) as client:
    resp = client.get("<https://httpbin.org/ip>")
    print(f"–ú–æ–π IP: {resp.json()['origin']}")
    # –í—ã–≤–µ–¥–µ—Ç IP –ø—Ä–æ–∫—Å–∏, –∞ –Ω–µ —Ç–≤–æ–π

# 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ + –†–æ—Ç–∞—Ü–∏—è
async def fetch_with_proxy():
    async with httpx.AsyncClient(proxies=proxies) as client:
        resp = await client.get("<https://httpbin.org/ip>")
        print(resp.text)

```

### üß† –°–æ–≤–µ—Ç—ã –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞:

1. **–ù–µ –ø–æ–∫—É–ø–∞–π —Å–ø–∏—Å–∫–∏ –ø—Ä–æ–∫—Å–∏ (txt —Ñ–∞–π–ª—ã).** –≠—Ç–æ –ø—Ä–æ—à–ª—ã–π –≤–µ–∫. 90% –∏–∑ –Ω–∏—Ö –º–µ—Ä—Ç–≤—ã. –ü–æ–∫—É–ø–∞–π –¥–æ—Å—Ç—É–ø –∫ **Gateway** (—Å–µ—Ä–≤–∏—Å—ã —Ç–∏–ø–∞ Bright Data, Smartproxy, Soax, Webshare). –¢—ã –ø–ª–∞—Ç–∏—à—å –∑–∞ —Ç—Ä–∞—Ñ–∏–∫, –Ω–æ –ø–æ–ª—É—á–∞–µ—à—å —Ä–∞–±–æ—á–∏–π —Å–µ—Ä–≤–∏—Å.
2. **–≠–∫–æ–Ω–æ–º—å —Ç—Ä–∞—Ñ–∏–∫.** –ï—Å–ª–∏ —é–∑–∞–µ—à—å —Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–≤ (–æ–Ω–∏ –¥–æ—Ä–æ–≥–∏–µ), –±–ª–æ–∫–∏—Ä—É–π –∑–∞–≥—Ä—É–∑–∫—É –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∏ —à—Ä–∏—Ñ—Ç–æ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ Playwright). –¢—ã –ø–ª–∞—Ç–∏—à—å –∑–∞ –∫–∞–∂–¥—ã–π –≥–∏–≥–∞–±–∞–π—Ç. –ó–∞—á–µ–º —Ç–µ–±–µ –∫–∞—á–∞—Ç—å –±–∞–Ω–Ω–µ—Ä –Ω–∞ 5–ú–ë?
3. **–û—à–∏–±–∫–∞ 407 (Proxy Authentication Required):** –ó–Ω–∞—á–∏—Ç, —Ç—ã –∑–∞–±—ã–ª –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π IP –≤ "–±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫" –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –ª–∏–±–æ –æ—à–∏–±—Å—è –≤ –ª–æ–≥–∏–Ω–µ/–ø–∞—Ä–æ–ª–µ.

**–ë–ª–æ–∫ 3 (–í–∑–ª–æ–º) –∑–∞–∫—Ä—ã—Ç.**
–ú—ã –Ω–∞—É—á–∏–ª–∏—Å—å –ª–æ–º–∞—Ç—å API, –ø–æ–¥–¥–µ–ª—ã–≤–∞—Ç—å TLS –∏ –º–µ–Ω—è—Ç—å –º–∞—Å–∫–∏ (IP).
–¢–µ–ø–µ—Ä—å —Ç—ã —É–º–µ–µ—à—å –¥–æ–±—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ. –ù–æ –∫–∞–∫ –∏—Ö **—Ö—Ä–∞–Ω–∏—Ç—å** –∏ **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å**, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ –ø–æ–º–æ–π–∫—É?