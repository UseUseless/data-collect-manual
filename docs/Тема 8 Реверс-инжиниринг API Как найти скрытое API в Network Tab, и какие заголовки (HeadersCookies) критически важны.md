# –¢–µ–º–∞ 8: –†–µ–≤–µ—Ä—Å-–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥ API: –ö–∞–∫ –Ω–∞–π—Ç–∏ —Å–∫—Ä—ã—Ç–æ–µ API –≤ Network Tab, –∏ –∫–∞–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (Headers/Cookies) –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã?

–ó–∞–ø–æ–º–Ω–∏: –ü–∞—Ä—Å–∏—Ç—å HTML ‚Äî —ç—Ç–æ –∫–∞–∫ –≤–∑–ª–∞–º—ã–≤–∞—Ç—å –¥–≤–µ—Ä—å –ª–æ–º–æ–º. –ò—Å–∫–∞—Ç—å API ‚Äî —ç—Ç–æ –Ω–∞–π—Ç–∏ –∫–ª—é—á –ø–æ–¥ –∫–æ–≤—Ä–∏–∫–æ–º.
–ï—Å–ª–∏ —Ç—ã –Ω–∞—É—á–∏—à—å—Å—è —ç—Ç–æ–º—É –Ω–∞–≤—ã–∫—É, —Ç—ã –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—à—å –±—ã—Ç—å "–ø–∞—Ä—Å–µ—Ä–æ–º" –∏ —Å—Ç–∞–Ω–µ—à—å "Reverse Engineer-–æ–º".

–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –Ω–∞–π—Ç–∏ —Ç–æ—Ç —Å–∞–º—ã–π HTTP-–∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å–∞–π—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –±—ç–∫–µ–Ω–¥, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.

---

### üïµÔ∏è‚Äç‚ôÇÔ∏è –ê–õ–ì–û–†–ò–¢–ú: –û—Ö–æ—Ç–∞ –Ω–∞ JSON

### –®–∞–≥ 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∑–∞—Å–∞–¥—ã

1. –û—Ç–∫—Ä–æ–π —Å–∞–π—Ç –≤ Chrome/Firefox.
2. –ù–∞–∂–º–∏ `F12` (DevTools) -> –í–∫–ª–∞–¥–∫–∞ **Network**.
3. **–í–ê–ñ–ù–û:** –ü–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É **Preserve log** (–°–æ—Ö—Ä–∞–Ω—è—Ç—å –∂—É—Ä–Ω–∞–ª).
    - *–ó–∞—á–µ–º:* –ï—Å–ª–∏ —Å–∞–π—Ç –¥–µ–ª–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç, –Ω—É–∂–Ω—ã–π –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –∏—Å—á–µ–∑–Ω—É—Ç—å. –≠—Ç–∞ –≥–∞–ª–æ—á–∫–∞ –æ—Å—Ç–∞–≤–∏—Ç –µ–≥–æ –≤ —Å–ø–∏—Å–∫–µ.
4. **–í–ê–ñ–ù–û:** –ü–æ—Å—Ç–∞–≤—å –≥–∞–ª–æ—á–∫—É **Disable cache**. –ú—ã —Ö–æ—Ç–∏–º –≤–∏–¥–µ—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã "–∫–∞–∫ –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑".

### –®–∞–≥ 2. –ü—Ä–æ–≤–æ–∫–∞—Ü–∏—è

–°–∞–π—Ç –Ω–µ –æ—Ç–¥–∞—Å—Ç –¥–∞–Ω–Ω—ã–µ, –ø–æ–∫–∞ —Ç—ã –Ω–µ –ø–æ–ø—Ä–æ—Å–∏—à—å.

- –ï—Å–ª–∏ —ç—Ç–æ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤: –ø–µ—Ä–µ–π–¥–∏ –Ω–∞ 2-—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.
- –ï—Å–ª–∏ —ç—Ç–æ –ø–æ–∏—Å–∫: –≤–±–µ–π —Å–ª–æ–≤–æ –∏ –Ω–∞–∂–º–∏ Enter.
- –ï—Å–ª–∏ —ç—Ç–æ "–ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω": –Ω–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É.

### –®–∞–≥ 3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º—É—Å–æ—Ä–∞

–í Network –≤—ã—Å—ã–ø–µ—Ç—Å—è 200 –∑–∞–ø—Ä–æ—Å–æ–≤ (–∫–∞—Ä—Ç–∏–Ω–∫–∏, —à—Ä–∏—Ñ—Ç—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞). –¢–µ–±–µ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ **–ò–≥–ª—É**.

1. –ù–∞–∂–º–∏ —Ñ–∏–ª—å—Ç—Ä **Fetch/XHR** (—ç—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –¥–∞–Ω–Ω—ã—Ö).
2. –°–º–æ—Ç—Ä–∏ –Ω–∞ –∫–æ–ª–æ–Ω–∫—É **Name**. –ò—â–∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:
    - `api`, `v1`, `v2`
    - `search`, `query`, `list`, `catalog`
    - `graphql` (—ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–µ–º–∞, –Ω–æ —Å—É—Ç—å —Ç–∞ –∂–µ).
3. –°–º–æ—Ç—Ä–∏ –Ω–∞ –∫–æ–ª–æ–Ω–∫—É **Size**. API-–æ—Ç–≤–µ—Ç—ã –æ–±—ã—á–Ω–æ –≤–µ—Å—è—Ç –æ—Ç 1KB –¥–æ 50KB. –ï—Å–ª–∏ –≤–∏–¥–∏—à—å 0B ‚Äî —ç—Ç–æ –ø–∏–Ω–≥.

### –®–∞–≥ 4. –î–æ–ø—Ä–æ—Å (Preview)

–¢—ã–∫–∞–π –ø–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º –∏ —Å–º–æ—Ç—Ä–∏ –≤–∫–ª–∞–¥–∫—É **Preview** (–∏–ª–∏ Response).

- –í–∏–¥–∏—à—å HTML –∫–æ–¥? –ú–∏–º–æ.
- –í–∏–¥–∏—à—å –∫—Ä–∞—Å–∏–≤–æ–µ –¥–µ—Ä–µ–≤–æ JSON `{ "products": [...] }`? **–ü–û–ü–ê–õ–°–Ø, –ì–ê–î.**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ –ª–µ–∂–∞—Ç —Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –≤–∏–¥–∏—à—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ (—Ü–µ–Ω–∞, –Ω–∞–∑–≤–∞–Ω–∏–µ).

---

### üß™ –õ–ê–ë–û–†–ê–¢–û–†–ò–Ø: –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –∑–∞–ø—Ä–æ—Å –≤ Python-–∫–æ–¥

–¢—ã –Ω–∞—à–µ–ª –∑–∞–ø—Ä–æ—Å. –ù–æ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ö–∞–∫ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç–µ?

### –ú–µ—Ç–æ–¥ "Copy as cURL" (–ó–æ–ª–æ—Ç–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)

1. –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –∑–∞–ø—Ä–æ—Å –≤ Network -> **Copy** -> **Copy as cURL (bash)**.
2. –ò–¥–µ—à—å –Ω–∞ —Å–∞–π—Ç [**curlconverter.com**](https://curlconverter.com/) (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –ª–æ–∫–∞–ª—å–Ω—É—é —Ç—É–ª–∑—É).
3. –í—Å—Ç–∞–≤–ª—è–µ—à—å cURL.
4. –ü–æ–ª—É—á–∞–µ—à—å –≥–æ—Ç–æ–≤—ã–π –∫–æ–¥ –Ω–∞ Python `requests` / `httpx`.

### –ß–∏—Å—Ç–∫–∞ –ó–∞–≥–æ–ª–æ–≤–∫–æ–≤ (Sanitization)

–ë—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫—É—á—É –º—É—Å–æ—Ä–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å **–º–∏–Ω–∏–º—É–º**, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä —Ç–µ–±—è –ø—É—Å—Ç–∏–ª.

**–ß–µ–∫-–ª–∏—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (Headers):**

1. **`User-Agent`** (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û):
    - –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º. –ë–µ–∑ —ç—Ç–æ–≥–æ ‚Äî –±–∞–Ω —Å—Ä–∞–∑—É.
    - –ü—Ä–∏–º–µ—Ä: `Mozilla/5.0 (Windows NT 10.0; Win64; x64)...`
2. **`Authorization` / `X-API-Key`** (–ö–†–ò–¢–ò–ß–ù–û):
    - –ï—Å–ª–∏ —Å–∞–π—Ç —Ç—Ä–µ–±—É–µ—Ç –ª–æ–≥–∏–Ω–∞ –∏–ª–∏ —Ç–æ–∫–µ–Ω—ã.
    - –ò—â–∏ –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–∞ `Bearer eyJhbGciOiJIUz...`. –≠—Ç–æ—Ç —Ç–æ–∫–µ–Ω ‚Äî —Ç–≤–æ–π –ø—Ä–æ–ø—É—Å–∫. –ß–∞—Å—Ç–æ –æ–Ω –∂–∏–≤–µ—Ç –ø–∞—Ä—É —á–∞—Å–æ–≤.
3. **`Cookie`** (–°–õ–û–ñ–ù–û):
    - –ü–æ–ø—Ä–æ–±—É–π —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É —Å –∫—É–∫–∞–º–∏ –∏–∑ –∫–æ–¥–∞. –†–∞–±–æ—Ç–∞–µ—Ç? –û—Ç–ª–∏—á–Ω–æ, —Å–∞–π—Ç –±–µ–∑–∑–∞—â–∏—Ç–µ–Ω.
    - –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç? –ó–Ω–∞—á–∏—Ç, —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Å—Å–∏—é. –ü—Ä–∏–¥–µ—Ç—Å—è —Å–ª–∞—Ç—å –∫—É–∫–∏.
4. **`Referer` / `Origin`** (–í–ê–ñ–ù–û):
    - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä–≤–µ—Ä—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç: "–¢—ã –ø—Ä–∏—à–µ–ª —Å –Ω–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ –∏–ª–∏ –∏–∑ —Å–∫—Ä–∏–ø—Ç–∞?".
    - –í—Å–µ–≥–¥–∞ —Å—Ç–∞–≤—å `Referer` —Ä–∞–≤–Ω—ã–º –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∞–π—Ç–∞.
5. **`Content-Type`** (–¢–û–õ–¨–ö–û –î–õ–Ø POST):
    - –ï—Å–ª–∏ —à–ª–µ—à—å JSON (`application/json`) –∏–ª–∏ —Ñ–æ—Ä–º—É (`application/x-www-form-urlencoded`). –ï—Å–ª–∏ –ø–µ—Ä–µ–ø—É—Ç–∞–µ—à—å ‚Äî —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–π–º–µ—Ç —Ç–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ.

---

### üß† –ü–†–ò–ú–ï–† –ò–ó –ñ–ò–ó–ù–ò

–î–æ–ø—É—Å—Ç–∏–º, —Ç—ã –ø–∞—Ä—Å–∏—à—å "M-Video" (—É—Å–ª–æ–≤–Ω–æ).

1. –í Network –Ω–∞—à–µ–ª –∑–∞–ø—Ä–æ—Å: `POST /api/v2/product/list`.
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª cURL. –¢–∞–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –Ω–∞ 2 –∫–∏–ª–æ–º–µ—Ç—Ä–∞.
3. –ù–∞—á–∏–Ω–∞–µ–º "—Ä–∞–∑–¥–µ–≤–∞—Ç—å" –∑–∞–ø—Ä–æ—Å –≤ Python:

```python
import httpx

url = "<https://api.site.com/v2/product/list>"

# 1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –ú–ò–ù–ò–ú–£–ú
headers = {
    "User-Agent": "Mozilla/5.0 ...", # –ë–µ–∑ —ç—Ç–æ–≥–æ –Ω–∏–∫—É–¥–∞
    # "Cookie": "session_id=123..." # –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –ë–ï–ó –∫—É–∫!
}

# 2. –°–º–æ—Ç—Ä–∏–º Payload (—á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º)
payload = {
    "categoryId": "123",
    "offset": 0,
    "limit": 24
}

response = httpx.post(url, json=payload, headers=headers)

if response.status_code == 200:
    print("–£—Ä–∞, –æ—Ç–∫—Ä—ã—Ç–æ–µ API!")
    print(response.json())
elif response.status_code == 403:
    print("–ß–µ—Ä—Ç, –Ω—É–∂–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏.")
    # –î–æ–±–∞–≤–ª—è–µ–º Referer, –ø–æ—Ç–æ–º Cookie, –ø–æ–∫–∞ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç

```

### üí° –õ–∞–π—Ñ—Ö–∞–∫ –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –ü–∞–≥–∏–Ω–∞—Ü–∏—è

–í Payload –∑–∞–ø—Ä–æ—Å–∞ (–∏–ª–∏ –≤ URL) –≤—Å–µ–≥–¥–∞ –∏—â–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –æ—Ç–≤–µ—á–∞—é—â–∏–µ –∑–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

- `page`: 1, 2, 3...
- `offset`: 0, 24, 48... (—Å–º–µ—â–µ–Ω–∏–µ)
- `cursor`: "eyJ..." (—Å—Ç—Ä–æ–∫–∞-—É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é –ø–∞—á–∫—É).

–¢–≤–æ–π –ø–∞—Ä—Å–µ—Ä ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ü–∏–∫–ª `for`, –∫–æ—Ç–æ—Ä—ã–π –º–µ–Ω—è–µ—Ç —ç—Ç—É —Ü–∏—Ñ—Ä—É –∏ —à–ª–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ API.
–≠—Ç–æ –≤ 1000 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ, —á–µ–º –∫–ª–∏–∫–∞—Ç—å –∫–Ω–æ–ø–∫—É "–î–∞–ª–µ–µ" –≤ Selenium.