# –¢–µ–º–∞ 6: –ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: Selenium vs Playwright. –ü–æ—á–µ–º—É —Ç—ã –Ω–µ–Ω–∞–≤–∏–¥–∏—à—å –°–µ–ª–µ–Ω–∏—É–º –∏ —á–µ–º –ü–ª–µ–π—Ä–∞–π—Ç –∫—Ä—É—á–µ?

–ï—Å–ª–∏ `httpx` ‚Äî —ç—Ç–æ —Å–Ω–∞–π–ø–µ—Ä—Å–∫–∞—è –≤–∏–Ω—Ç–æ–≤–∫–∞, —Ç–æ –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ —Ç–∞–Ω–∫. –ì—Ä–æ–º–∫–æ, –º–µ–¥–ª–µ–Ω–Ω–æ, –∂—Ä–µ—Ç –º–Ω–æ–≥–æ —Ç–æ–ø–ª–∏–≤–∞, –Ω–æ –ø—Ä–æ–µ–∑–∂–∞–µ—Ç —Ç–∞–º, –≥–¥–µ –ø–µ—Ö–æ—Ç–∞ –ª–æ–∂–∏—Ç—Å—è.

–ù–æ —Ç–∞–Ω–∫–∏ –±—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ. –ï—Å—Ç—å –¢-34 –≤—Ä–µ–º–µ–Ω –¥–µ–¥–æ–≤ (Selenium), –∞ –µ—Å—Ç—å –ê–±—Ä–∞–º—Å —Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–æ–π (Playwright).

---

### 1. Selenium ‚Äî "–†–∂–∞–≤–æ–µ –í–µ–¥—Ä–æ"

–î–∞–≤–∞–π —á–µ—Å—Ç–Ω–æ. Selenium —Å–æ–∑–¥–∞–≤–∞–ª–∏ **–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤**, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –∫–Ω–æ–ø–∫–∞ "–ö—É–ø–∏—Ç—å". –ï–≥–æ –Ω–µ –¥–µ–ª–∞–ª–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü.

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (WebDriver):** –≠—Ç–æ "–ò—Å–ø–æ—Ä—á–µ–Ω–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω".
    - –¢–≤–æ–π –∫–æ–¥ -> –î—Ä–∞–π–≤–µ—Ä (exe-—Ñ–∞–π–ª) -> –ë—Ä–∞—É–∑–µ—Ä.
    - –≠—Ç–∞ –ø—Ä–æ—Å–ª–æ–π–∫–∞ —Ç–æ—Ä–º–æ–∑–∏—Ç, –≥–ª—é—á–∏—Ç –∏ –ø–∞–¥–∞–µ—Ç.
- **–ì–ª–∞–≤–Ω—ã–µ –≥—Ä–µ—Ö–∏:**
    1. **–°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:** –û–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫. –ó–∞–ø—É—Å—Ç–∏–ª 10 –±—Ä–∞—É–∑–µ—Ä–æ–≤ ‚Äî –ø–æ–ª–æ–∂–∏–ª —Å–µ—Ä–≤–µ—Ä.
    2. **Flaky (–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å):** –°–∞–º–∞—è —á–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞ ‚Äî `ElementNotVisibleException`. –¢—ã –∏—â–µ—à—å –∫–Ω–æ–ø–∫—É, –∞ –æ–Ω–∞ –µ—â–µ –Ω–µ –¥–æ—Ä–µ–Ω–¥–µ—Ä–∏–ª–∞—Å—å. –ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–∏—Å–∞—Ç—å –∫–æ—Å—Ç—ã–ª–∏: `time.sleep(5)` –∏–ª–∏ –≥—Ä–æ–º–æ–∑–¥–∫–∏–µ `WebDriverWait`.
    3. **–î–µ—Ç–µ–∫—Ç:** –°–∞–π—Ç—ã –ø–∞–ª—è—Ç Selenium –ø–æ –æ–¥–Ω–æ–º—É —â–µ–ª—á–∫—É –ø–∞–ª—å—Ü–µ–≤ (`navigator.webdriver = true`). –ù—É–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –ø–∞—Ç—á–∏, `undetected-chromedriver`, —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å —Å –±—É–±–Ω–æ–º.
    4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏:** –û–¥–∏–Ω –±—Ä–∞—É–∑–µ—Ä = –û–¥–∏–Ω –ø—Ä–æ—Ñ–∏–ª—å. –•–æ—á–µ—à—å 50 –ø–æ—Ç–æ–∫–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫—É–∫–∞–º–∏? –£ —Ç–µ–±—è —Å–≥–æ—Ä–∏—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–∫–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã –∑–∞–ø—É—Å—Ç–∏—à—å 50 –ø–æ–ª–Ω—ã—Ö –∫–æ–ø–∏–π –•—Ä–æ–º–∞.

**–í–µ—Ä–¥–∏–∫—Ç:** –í 2026 –≥–æ–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Selenium –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —ç—Ç–æ –º–∞–∑–æ—Ö–∏–∑–º. –û—Å—Ç–∞–≤—å –µ–≥–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ª–µ–≥–∞—Å–∏-–∫–æ–¥–∞ 2015 –≥–æ–¥–∞.

---

### 2. Playwright ‚Äî "–ö–∏–±–µ—Ä–ø–∞–Ω–∫ –ò–º–ø–ª–∞–Ω—Ç"

Microsoft –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∞ –Ω–∞ —Å—Ç—Ä–∞–¥–∞–Ω–∏—è —Å Selenium/Puppeteer –∏ —Å–¥–µ–ª–∞–ª–∞ –≤–µ—â—å.

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª CDP (Chrome DevTools Protocol) –∏–ª–∏ –µ–≥–æ –∞–Ω–∞–ª–æ–≥–∏. –û–±—â–∞–µ—Ç—Å—è —Å –±—Ä–∞—É–∑–µ—Ä–æ–º –Ω–∞–ø—Ä—è–º—É—é, "–ø–æ –≤–µ–Ω–∞–º".
- **–ö–∏–ª–ª–µ—Ä-—Ñ–∏—á–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞:**
    1. **–ö–æ–Ω—Ç–µ–∫—Å—Ç—ã (Contexts) ‚Äî –≠–¢–û –ì–õ–ê–í–ù–û–ï.**
        - –¢—ã –∑–∞–ø—É—Å–∫–∞–µ—à—å **–û–î–ò–ù** –∏–Ω—Å—Ç–∞–Ω—Å –±—Ä–∞—É–∑–µ—Ä–∞.
        - –í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ —Å–æ–∑–¥–∞–µ—à—å 100 –∏–∑–æ–ª–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö "–ö–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤" (–∫–∞–∫ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ-–≤–∫–ª–∞–¥–∫–∏).
        - –ö–∞–∂–¥—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–º–µ–µ—Ç —Å–≤–æ–∏ Cookies, —Å–≤–æ–∏ Proxy, —Å–≤–æ–π User-Agent.
        - *–ò—Ç–æ–≥:* –≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ –≤ 10 —Ä–∞–∑. –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ ‚Äî –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã.
    2. **Auto-Wait (–ê–≤—Ç–æ-–æ–∂–∏–¥–∞–Ω–∏–µ):**
        - –¢—ã –ø–∏—à–µ—à—å `page.click('button')`. Playwright **–°–ê–ú** –∂–¥–µ—Ç, –ø–æ–∫–∞ –∫–Ω–æ–ø–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è, –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π, –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –¥–≤–∏–≥–∞—Ç—å—Å—è –∏ —Å—Ç–∞–Ω–µ—Ç –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–π. –ù–∏–∫–∞–∫–∏—Ö `time.sleep()`. –°–∫—Ä–∏–ø—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∂–µ–ª–µ–∑–Ω—ã–º–∏.
    3. **–ü–µ—Ä–µ—Ö–≤–∞—Ç —Å–µ—Ç–∏ (Network Interception):**
        - –¢—ã –º–æ–∂–µ—à—å –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∫–∞—Ä—Ç–∏–Ω–æ–∫ (`.png`, `.jpg`) –∏ —à—Ä–∏—Ñ—Ç–æ–≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≥—Ä—É–∑–∏—Ç—Å—è –≤ 5 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ.
        - –¢—ã –º–æ–∂–µ—à—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å JSON-–æ—Ç–≤–µ—Ç—ã –æ—Ç API –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ (–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥).
    4. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:** `async/await` –∏–∑ –∫–æ—Ä–æ–±–∫–∏.

---

### ‚öîÔ∏è –°–†–ê–í–ù–ï–ù–ò–ï –í –¶–ò–§–†–ê–•

| –§–∏—á–∞ | Selenium | Playwright |
| --- | --- | --- |
| **–û–∂–∏–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** | –†—É—á–Ω–æ–µ (–ë–æ–ª—å–Ω–æ) | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ (–ú–∞–≥–∏—è) |
| **–ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Å—Å–∏–π** | –ù–æ–≤–æ–µ –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞ (–¢—è–∂–µ–ª–æ) | Browser Context (–õ–µ–≥–∫–æ) |
| **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ä–µ–∫–ª–∞–º—ã/–∫–∞—Ä—Ç–∏–Ω–æ–∫** | –ß–µ—Ä–µ–∑ –∫–æ—Å—Ç—ã–ª–∏ –ø—Ä–æ–∫—Å–∏ | –ù–∞—Ç–∏–≤–Ω–æ, –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π |
| **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞** | –ù–µ—Ç | `playwright codegen` (–ó–∞–ø–∏—à–µ—Ç —Ç–≤–æ–∏ –∫–ª–∏–∫–∏) |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤** | –í—Å–µ | Python, JS, C#, Java |

---

### üë®‚Äçüíª –ö–û–î: –ü–æ—á—É–≤—Å—Ç–≤—É–π –±–æ–ª—å –∏ –Ω–∞—Å–ª–∞–∂–¥–µ–Ω–∏–µ

### Selenium (–ö–∞–∫ –¥–µ–ª–∞–ª–∏ –¥–µ–¥—ã)

```python
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

driver = webdriver.Chrome() # –ó–∞–ø—É—Å–∫ —Ç—è–∂–µ–ª–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
driver.get("<https://site.com>")

# –†—É–∫–æ–ø–∞—à–Ω—ã–π –±–æ–π —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º
try:
    element = WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.ID, "myDynamicElement"))
    )
    element.click()
finally:
    driver.quit()

```

### Playwright (–ö–∞–∫ –¥–µ–ª–∞—é—Ç —Å–µ–Ω—å–æ—Ä—ã)

```python
import asyncio
from playwright.async_api import async_playwright

async def main():
    async with async_playwright() as p:
        # –ó–∞–ø—É—Å–∫–∞–µ–º –±—Ä–∞—É–∑–µ—Ä 1 —Ä–∞–∑
        browser = await p.chromium.launch(headless=True)

        # –°–æ–∑–¥–∞–µ–º –ª–µ–≥–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ø—Ä–æ–∫—Å–∏ —Ç—É—Ç)
        context = await browser.new_context(user_agent="Mozilla/5.0...")

        page = await context.new_page()

        # –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
        await page.route("**/*.{png,jpg,jpeg}", lambda route: route.abort())

        await page.goto("<https://site.com>")

        # –û–Ω —Å–∞–º –ø–æ–¥–æ–∂–¥–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏!
        await page.click("#myDynamicElement")

        # –ú–æ–∂–Ω–æ –¥–∞–∂–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –æ—Ç–≤–µ—Ç API
        # async with page.expect_response("**/api/data") as response:
        #     data = await response.value.json()

        await browser.close()

asyncio.run(main())

```

### üß† –í—ã–≤–æ–¥ –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞:

1. –ï—Å–ª–∏ —Å–∞–π—Ç –ø—Ä–æ—Å—Ç–æ–π ‚Äî –Ω–µ —é–∑–∞–π –±—Ä–∞—É–∑–µ—Ä –≤–æ–æ–±—â–µ (—Å–º. –ë–ª–æ–∫ 1).
2. –ï—Å–ª–∏ —Å–∞–π—Ç —Å–ª–æ–∂–Ω—ã–π (SPA, –∑–∞—â–∏—Ç—ã) ‚Äî **—Å—Ç–∞–≤—å Playwright**.
3. –ó–∞–±—É–¥—å Selenium –∫–∞–∫ —Å—Ç—Ä–∞—à–Ω—ã–π —Å–æ–Ω. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –µ—Å–ª–∏ —Ç—ã –ø–æ–ø–∞–ª –Ω–∞ –ø—Ä–æ–µ–∫—Ç, –≥–¥–µ —É–∂–µ –Ω–∞–ø–∏—Å–∞–Ω–æ 100 —Ç—ã—Å—è—á —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –Ω–∞ Selenium, –∏ —Ç–µ–±–µ –ø–ª–∞—Ç—è—Ç, —á—Ç–æ–±—ã —Ç—ã —Å—Ç—Ä–∞–¥–∞–ª.