{"config":{"lang":["ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\u041c\u0435\u0442\u043e\u0434\u0438\u0447\u043a\u0430 \u043f\u043e \u041f\u0430\u0440\u0441\u0438\u043d\u0433\u0443 \u043d\u0430 Python","text":"<p>\u041f\u0440\u0438\u0432\u0435\u0442. \u0413\u0430\u0439\u0434 \u0441\u043e\u0431\u0440\u0430\u043d \u043d\u0430 \u0441\u043a\u043e\u0440\u0443\u044e \u0440\u0443\u043a\u0443, \u043d\u043e \u043f\u043e\u043a\u0430 \u0431\u044b\u043b \u043e\u0447\u0435\u043d\u044c \u043f\u043e\u043b\u0435\u0437\u0435\u043d. \u041c\u043e\u0436\u0435\u0442 \u0438 \u0435\u0449\u0435 \u043a\u043e\u043c\u0443-\u0442\u043e \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u0437\u0430\u043c\u0435\u0442\u0438\u0442\u0435 \u043e\u0448\u0438\u0431\u043a\u0443 - \u043f\u0438\u0448\u0438\u0442\u0435 \u043c\u043d\u0435.</p>"},{"location":"#_1","title":"\ud83d\udcda \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043c\u0435\u0442\u043e\u0434\u0438\u0447\u043a\u0438","text":"<ul> <li>\u0422\u0435\u043e\u0440\u0438\u044f:</li> <li>\u0428\u0430\u0431\u043b\u043e\u043d\u044b: 8 \u0433\u043e\u0442\u043e\u0432\u044b\u0445 \u043a\u043b\u0430\u0441\u0441\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0440\u043e\u0435\u043a\u0442.</li> </ul>"},{"location":"#_2","title":"\ud83d\ude80 \u0421 \u0447\u0435\u0433\u043e \u043d\u0430\u0447\u0430\u0442\u044c?","text":"<ol> <li>\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u0439 \u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u043f\u043e \u0430\u043d\u0430\u043b\u0438\u0437\u0443.</li> <li>\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438 \u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430.</li> <li>\u0412\u044b\u0431\u0435\u0440\u0438 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0428\u0430\u0431\u043b\u043e\u043d.</li> </ol>"},{"location":"analysis_guide/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043f\u043e \u0430\u043d\u0430\u043b\u0438\u0437\u0443","text":""},{"location":"analysis_guide/#_2","title":"\ud83d\udee0\ufe0f \u041b\u0418\u041a\u0411\u0415\u0417: \u0413\u041e\u0420\u042f\u0427\u0418\u0415 \u041a\u041b\u0410\u0412\u0418\u0428\u0418","text":"<ul> <li>F12 (\u0438\u043b\u0438 <code>Ctrl+Shift+I</code>) \u2014 DevTools. \u0422\u0432\u043e\u0439 \u0440\u0430\u0434\u0430\u0440.</li> <li>Ctrl+U \u2014 \u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434. \u0422\u043e, \u0447\u0442\u043e \u0432\u0438\u0434\u0438\u0442 \u0440\u043e\u0431\u043e\u0442 (\u0431\u0435\u0437 JS).</li> <li>Ctrl+Shift+M (\u0432\u043d\u0443\u0442\u0440\u0438 F12) \u2014 \u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c.</li> <li>Ctrl+F \u2014 \u041f\u043e\u0438\u0441\u043a. \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432\u0435\u0437\u0434\u0435.</li> <li>F5 \u2014 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443.</li> </ul>"},{"location":"analysis_guide/#0-mindset","title":"\u042d\u0422\u0410\u041f 0: \u0423\u0421\u0422\u0410\u041d\u041e\u0412\u041a\u0410 (MINDSET)","text":"<ol> <li>\u0426\u0435\u043b\u044c: \u0427\u0438\u0441\u0442\u044b\u0439 JSON.</li> <li>\u041f\u0440\u0430\u0432\u0438\u043b\u043e: \u0411\u0440\u0430\u0443\u0437\u0435\u0440 (Selenium/Playwright) \u2014 \u044d\u0442\u043e \u043a\u0440\u0430\u0439\u043d\u044f\u044f \u043c\u0435\u0440\u0430.</li> <li>\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442: API &gt; Hydration &gt; HTML &gt; \u0411\u0440\u0430\u0443\u0437\u0435\u0440.</li> </ol>"},{"location":"analysis_guide/#1-reconnaissance","title":"\u042d\u0422\u0410\u041f 1: \u0420\u0410\u0417\u0412\u0415\u0414\u041a\u0410 \u0411\u041e\u0415\u041c (Reconnaissance)","text":"<p>\u0426\u0435\u043b\u044c: \u041f\u043e\u043d\u044f\u0442\u044c \u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430 \u0438 \u043d\u0430\u0439\u0442\u0438 \u043b\u0435\u0433\u043a\u0438\u0439 \u043f\u0443\u0442\u044c, \u043d\u0435 \u043a\u043e\u043f\u0430\u044f\u0441\u044c \u0432 \u0441\u0435\u0442\u0438.</p>"},{"location":"analysis_guide/#1-static-check","title":"\u0428\u0410\u0413 1. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 (Static Check)","text":"<ol> <li>\u041e\u0442\u043a\u0440\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443. \u041d\u0430\u0436\u043c\u0438 <code>Ctrl+U</code>.</li> <li>\u0416\u043c\u0438 <code>Ctrl+F</code>, \u0432\u0431\u0435\u0439 \u0446\u0435\u043d\u0443 \u0442\u043e\u0432\u0430\u0440\u0430 \u0438\u043b\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a.<ul> <li>\u041d\u0430\u0448\u0435\u043b \u0432\u043d\u0443\u0442\u0440\u0438 HTML-\u0442\u0435\u0433\u043e\u0432? (\u043f\u0440\u0438\u043c\u0435\u0440: <code>&lt;div class=\"price\"&gt;100&lt;/div&gt;</code>)<ul> <li>\ud83d\udc49 \u0420\u0415\u0428\u0415\u041d\u0418\u0415: \u042d\u0442\u043e SSR. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0428\u0410\u0411\u041b\u041e\u041d \u21163 (\u041a\u043b\u0430\u0441\u0441\u0438\u043a\u0430).</li> </ul> </li> <li>\u041d\u0430\u0448\u0435\u043b \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430? (\u043f\u0440\u0438\u043c\u0435\u0440: <code>&lt;script id=\"__NEXT_DATA__\"&gt;...</code>)<ul> <li>\ud83d\udc49 \u0420\u0415\u0428\u0415\u041d\u0418\u0415: \u042d\u0442\u043e Hydration. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0428\u0410\u0411\u041b\u041e\u041d \u21162 (\u0425\u0438\u0440\u0443\u0440\u0433).</li> </ul> </li> <li>\u041d\u0435 \u043d\u0430\u0448\u0435\u043b? (\u041f\u0443\u0441\u0442\u043e\u0442\u0430 \u0438\u043b\u0438 <code>{{price}}</code>)<ul> <li>\ud83d\udc49 \u0412\u042b\u0412\u041e\u0414: \u042d\u0442\u043e CSR. \u0414\u0430\u043d\u043d\u044b\u0435 \u0433\u0440\u0443\u0437\u044f\u0442\u0441\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438. \u0418\u0434\u0435\u043c \u0434\u0430\u043b\u044c\u0448\u0435.</li> </ul> </li> </ul> </li> </ol>"},{"location":"analysis_guide/#2-mobile-view","title":"\u0428\u0410\u0413 2. \u041c\u043e\u0431\u0438\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0431\u0430 (Mobile View)","text":"<ol> <li>\u041d\u0430\u0436\u043c\u0438 <code>F12</code>.</li> <li>\u041d\u0430\u0436\u043c\u0438 <code>Ctrl+Shift+M</code> (\u0438\u043a\u043e\u043d\u043a\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0441\u043b\u0435\u0432\u0430 \u0441\u0432\u0435\u0440\u0445\u0443 \u0432 \u043f\u0430\u043d\u0435\u043b\u0438).</li> <li>\u0412\u044b\u0431\u0435\u0440\u0438 iPhone 12.</li> <li>\ud83d\udd34 \u041d\u0410\u0416\u041c\u0418 F5 (\u041e\u0411\u041d\u041e\u0412\u0418\u0422\u042c)! \u0411\u0435\u0437 \u044d\u0442\u043e\u0433\u043e \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442.</li> <li>\u0410\u043d\u0430\u043b\u0438\u0437: \u0421\u0430\u0439\u0442 \u0441\u0442\u0430\u043b \u043f\u0440\u043e\u0441\u0442\u044b\u043c HTML? \u041a\u0430\u043f\u0447\u0430 \u043f\u0440\u043e\u043f\u0430\u043b\u0430?<ul> <li>\ud83d\udc49 \u0420\u0415\u0428\u0415\u041d\u0418\u0415: \u041f\u0430\u0440\u0441\u0438\u043c \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0447\u0435\u0440\u0435\u0437 \u0428\u0410\u0411\u041b\u041e\u041d \u21163 \u0438\u043b\u0438 \u0438\u0449\u0435\u043c API \u043c\u043e\u0431\u0438\u043b\u043a\u0438 (\u0428\u0410\u0411\u041b\u041e\u041d \u21161).</li> </ul> </li> </ol>"},{"location":"analysis_guide/#2-network-sniffing","title":"\u042d\u0422\u0410\u041f 2: \u041f\u0415\u0420\u0415\u0425\u0412\u0410\u0422 (Network Sniffing)","text":"<p>\u0426\u0435\u043b\u044c: \u041d\u0430\u0439\u0442\u0438 \u0441\u043a\u0440\u044b\u0442\u043e\u0435 API. \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0432 DevTools (F12).</p>"},{"location":"analysis_guide/#1","title":"\u0428\u0410\u0413 1. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0420\u0430\u0434\u0430\u0440\u0430","text":"<ol> <li>\u041e\u0442\u043a\u0440\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0443 Network.</li> <li>\u041f\u043e\u0441\u0442\u0430\u0432\u044c \u0433\u0430\u043b\u043e\u0447\u043a\u0438:<ul> <li>\u2705 Preserve log (\u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0442\u0435\u0440\u044f\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043f\u0440\u0438 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u0435).</li> <li>\u2705 Disable cache (\u0447\u0442\u043e\u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0441\u0432\u0435\u0436\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435).</li> </ul> </li> <li>\u0412\u043a\u043b\u044e\u0447\u0438 \u0444\u0438\u043b\u044c\u0442\u0440 Fetch/XHR.</li> </ol>"},{"location":"analysis_guide/#2-json","title":"\u0428\u0410\u0413 2. \u041e\u0445\u043e\u0442\u0430 \u043d\u0430 JSON","text":"<ol> <li>\u041e\u0431\u043d\u043e\u0432\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 (F5) \u0438\u043b\u0438 \u043a\u043b\u0438\u043a\u043d\u0438 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044e.</li> <li>\u0421\u043c\u043e\u0442\u0440\u0438 \u043a\u043e\u043b\u043e\u043d\u043a\u0443 <code>Name</code>. \u0418\u0449\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u044b.</li> <li>\u041a\u043b\u0438\u043a\u0430\u0439 \u043f\u043e \u0441\u0442\u0440\u043e\u043a\u0430\u043c -&gt; \u0441\u043c\u043e\u0442\u0440\u0438 \u0432\u043a\u043b\u0430\u0434\u043a\u0443 Preview (\u0441\u043f\u0440\u0430\u0432\u0430).<ul> <li>\u0412\u0438\u0434\u0438\u0448\u044c \u0434\u0435\u0440\u0435\u0432\u043e <code>{ \"items\": [...] }</code> \u0441 \u0442\u0432\u043e\u0438\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438?</li> <li>\ud83d\udc49 \u0420\u0415\u0428\u0415\u041d\u0418\u0415: \u042d\u0442\u043e \u0414\u0436\u0435\u043a\u043f\u043e\u0442. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0428\u0410\u0411\u041b\u041e\u041d \u21161 (\u0427\u0438\u0441\u0442\u044b\u0439 API).</li> <li>\u0412\u0430\u0436\u043d\u043e: \u0421\u0434\u0435\u043b\u0430\u0439 <code>Right Click -&gt; Copy as cURL</code>, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0442\u0430\u0449\u0438\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438.</li> </ul> </li> </ol>"},{"location":"analysis_guide/#3","title":"\u0428\u0410\u0413 3. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0412\u0435\u0431\u0441\u043e\u043a\u0435\u0442\u043e\u0432","text":"<ol> <li>\u0415\u0441\u043b\u0438 \u0432 XHR \u043f\u0443\u0441\u0442\u043e, \u0430 \u0446\u0438\u0444\u0440\u044b \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0431\u0435\u0433\u0443\u0442 \u0441\u0430\u043c\u0438 (\u0431\u0438\u0440\u0436\u0438, \u0441\u0442\u0430\u0432\u043a\u0438).</li> <li>\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438 \u0444\u0438\u043b\u044c\u0442\u0440 \u043d\u0430 WS.</li> <li>\u0412\u0438\u0434\u0438\u0448\u044c \u043f\u043e\u0442\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445?<ul> <li>\ud83d\udc49 \u0420\u0415\u0428\u0415\u041d\u0418\u0415: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0428\u0410\u0411\u041b\u041e\u041d \u21167 (\u0420\u0430\u0434\u0438\u0441\u0442).</li> </ul> </li> </ol>"},{"location":"analysis_guide/#devtools","title":"\ud83d\udee0\ufe0f \u0421\u0425\u0415\u041c\u0410 DEVTOOLS (\u0413\u0434\u0435 \u0447\u0442\u043e \u0438\u0441\u043a\u0430\u0442\u044c):","text":"<pre><code>[ NETWORK TAB ]\n---------------------------------------------------------\n| [x] Preserve log  [x] Disable cache                   |\n| \u0424\u0438\u043b\u044c\u0442\u0440\u044b: [All] [Fetch/XHR] [JS] [WS] &lt;-- \u0416\u041c\u0418 \u0421\u042e\u0414\u0410     |\n|-------------------------------------------------------|\n| Name          | Status | Type | Size |                |\n| api/products  | 200    | json | 5kb  | &lt;-- \u041a\u041b\u0418\u041a \u041b\u041a\u041c |\n| logo.png      | 200    | png  | 2kb  |                |\n|-------------------------------------------------------|\n| [Headers] [PREVIEW] [Response]                        |\n|            ^^^^^^^                                    |\n|       \u0421\u043c\u043e\u0442\u0440\u0438 JSON \u0437\u0434\u0435\u0441\u044c!                              |\n---------------------------------------------------------\n</code></pre>"},{"location":"analysis_guide/#3-api","title":"\u042d\u0422\u0410\u041f 3: \u041e\u0426\u0415\u041d\u041a\u0410 \u041e\u0411\u041e\u0420\u041e\u041d\u042b (\u0415\u0441\u043b\u0438 API \u043d\u0430\u0439\u0434\u0435\u043d\u043e, \u043d\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442)","text":"<p>\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439: \u0412 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 JSON \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f, \u0430 Python \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 403.</p> <ol> <li>\u0414\u0438\u0430\u0433\u043d\u043e\u0437: TLS Fingerprinting (\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0438\u0434\u0438\u0442, \u0447\u0442\u043e \u0442\u044b \u0441\u043a\u0440\u0438\u043f\u0442, \u0430 \u043d\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440).</li> <li>\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435:<ul> <li>\ud83d\udc49 \u0420\u0415\u0428\u0415\u041d\u0418\u0415: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0428\u0410\u0411\u041b\u041e\u041d \u21164 (\u0425\u0430\u043c\u0435\u043b\u0435\u043e\u043d). \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>curl_cffi</code> \u043f\u0440\u0438\u0442\u0432\u043e\u0440\u0438\u0442\u0441\u044f \u0425\u0440\u043e\u043c\u043e\u043c.</li> </ul> </li> </ol>"},{"location":"analysis_guide/#4","title":"\u042d\u0422\u0410\u041f 4: \u0422\u042f\u0416\u0415\u041b\u0410\u042f \u0410\u0420\u0422\u0418\u041b\u041b\u0415\u0420\u0418\u042f (\u041a\u043e\u0433\u0434\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u043c\u043e\u0433\u043b\u043e)","text":"<p>\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439: \u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442 \u0432 \u043a\u043e\u0434\u0435, API \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043e, HTML \u043f\u0443\u0441\u0442\u043e\u0439.</p> <ol> <li>\u0421\u043b\u0443\u0447\u0430\u0439 \u0410: \u041f\u0440\u043e\u0441\u0442\u043e \u0441\u043b\u043e\u0436\u043d\u044b\u0439 JS (SPA)<ul> <li>\u0421\u0430\u0439\u0442 \u0442\u043e\u0440\u043c\u043e\u0437\u0438\u0442, \u0433\u0440\u0443\u0437\u0438\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043a\u0443\u0441\u043a\u0430\u043c\u0438, \u043d\u043e \u044f\u0432\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u044b (\u043a\u0430\u043f\u0447\u0438) \u043d\u0435\u0442.</li> <li>\ud83d\udc49 \u0420\u0415\u0428\u0415\u041d\u0418\u0415: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0428\u0410\u0411\u041b\u041e\u041d \u21165 (\u0422\u0430\u043d\u043a / Playwright).</li> <li>\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e: \u0411\u043b\u043e\u043a\u0438\u0440\u0443\u0439 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (\u0441\u043c. \u043a\u043e\u0434 \u0448\u0430\u0431\u043b\u043e\u043d\u0430).</li> </ul> </li> <li>\u0421\u043b\u0443\u0447\u0430\u0439 \u0411: \u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u0430\u044f \u0417\u0430\u0449\u0438\u0442\u0430<ul> <li>Playwright \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0431\u0430\u043d. \u0412\u0438\u0434\u0438\u0448\u044c \"Checking your browser\" \u0438\u043b\u0438 \u0433\u0430\u043b\u043e\u0447\u043a\u0443 Turnstile.</li> <li>\ud83d\udc49 \u0420\u0415\u0428\u0415\u041d\u0418\u0415: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0428\u0410\u0411\u041b\u041e\u041d \u21166 (\u0421\u043f\u0435\u0446\u043d\u0430\u0437 / DrissionPage).</li> </ul> </li> <li>\u0421\u043b\u0443\u0447\u0430\u0439 \u0412: \u0412\u0435\u0431 \u043d\u0435\u043f\u0440\u043e\u0431\u0438\u0432\u0430\u0435\u043c<ul> <li>\u0421\u043a\u0430\u0447\u0430\u0439 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0431\u0440\u0435\u043d\u0434\u0430.</li> <li>\u041f\u043e\u0441\u0442\u0430\u0432\u044c \u0441\u043d\u0438\u0444\u0444\u0435\u0440 (Charles/Mitmproxy).</li> <li>\u041f\u043e\u0439\u043c\u0430\u043b JSON \u043e\u0442 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f?</li> <li>\ud83d\udc49 \u0420\u0415\u0428\u0415\u041d\u0418\u0415: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0428\u0410\u0411\u041b\u041e\u041d \u21168 (\u0427\u0435\u0440\u043d\u044b\u0439 \u0445\u043e\u0434).</li> </ul> </li> </ol>"},{"location":"analysis_guide/#_3","title":"\ud83d\ude80 \u0421\u0412\u041e\u0414\u041d\u0410\u042f \u0422\u0410\u0411\u041b\u0418\u0426\u0410: \u041a\u0410\u041a\u041e\u0419 \u0428\u0410\u0411\u041b\u041e\u041d \u0411\u0420\u0410\u0422\u042c?","text":"\u0427\u0442\u043e \u043c\u044b \u043d\u0430\u0448\u043b\u0438? \u0413\u0434\u0435 \u043d\u0430\u0448\u043b\u0438? \u041d\u041e\u041c\u0415\u0420 \u0428\u0410\u0411\u041b\u041e\u041d\u0410 JSON \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0412\u043a\u043b\u0430\u0434\u043a\u0430 Network (XHR) \u21161 (\u0427\u0438\u0441\u0442\u044b\u0439 API) JSON \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434 (<code>&lt;script&gt;</code>) \u21162 (\u0425\u0438\u0440\u0443\u0440\u0433) HTML \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434 (<code>&lt;div&gt;</code>) \u21163 (\u041a\u043b\u0430\u0441\u0441\u0438\u043a\u0430) API (\u043e\u0448\u0438\u0431\u043a\u0430 403) Network (\u043d\u043e Python \u043d\u0435 \u043c\u043e\u0436\u0435\u0442) \u21164 (\u0425\u0430\u043c\u0435\u043b\u0435\u043e\u043d) \u041d\u0438\u0447\u0435\u0433\u043e (JS) \u0411\u0440\u0430\u0443\u0437\u0435\u0440 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442 \u21165 (\u0422\u0430\u043d\u043a/Playwright) \u041a\u0430\u043f\u0447\u0430 / \u0411\u0430\u043d \u0411\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u21166 (\u0421\u043f\u0435\u0446\u043d\u0430\u0437/Drission) \u041f\u043e\u0442\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445 \u0412\u043a\u043b\u0430\u0434\u043a\u0430 Network (WS) \u21167 (\u0420\u0430\u0434\u0438\u0441\u0442) API \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0421\u043d\u0438\u0444\u0444\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u21168 (\u0427\u0435\u0440\u043d\u044b\u0439 \u0445\u043e\u0434)"},{"location":"analysis_guide/#6","title":"\u042d\u0422\u0410\u041f 6: \u041f\u0420\u041e\u0414\u0410\u041a\u0428\u041d (\u041d\u0435 \u0431\u0443\u0434\u044c \u0434\u0436\u0443\u043d\u043e\u043c)","text":"<ol> <li>\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f:<ul> <li>\u041f\u043e\u043b\u0443\u0447\u0438\u043b \u043a\u0443\u043a\u0438 \u043e\u0434\u0438\u043d \u0440\u0430\u0437 -&gt; \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u043b \u0432 \u0444\u0430\u0439\u043b -&gt; \u0413\u0440\u0443\u0437\u0438\u0448\u044c \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435.</li> <li>\u0421\u043c. \u0442\u0435\u043c\u0443 \u211613.</li> </ul> </li> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435:<ul> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0431\u0443\u0444\u0435\u0440. \u041f\u0438\u0448\u0438 \u0432 <code>.jsonl</code> \u043f\u0430\u0447\u043a\u0430\u043c\u0438 \u043f\u043e 100 \u0448\u0442\u0443\u043a.</li> <li>\u0421\u043c. \u0442\u0435\u043c\u0443 \u211614.</li> </ul> </li> <li>\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c:<ul> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u043e\u0447\u0435\u0440\u0435\u0434\u044c <code>asyncio.Queue</code>. \u041f\u0440\u043e\u0434\u044e\u0441\u0435\u0440 \u0438\u0449\u0435\u0442 \u0441\u0441\u044b\u043b\u043a\u0438, \u0412\u043e\u0440\u043a\u0435\u0440\u044b \u043f\u0430\u0440\u0441\u044f\u0442.</li> <li>\u0421\u043c. \u0442\u0435\u043c\u0443 \u211612.</li> </ul> </li> <li>\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f:<ul> <li>\u0412\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0433\u043e\u043d\u044f\u0439 \u0447\u0435\u0440\u0435\u0437 <code>Pydantic</code>. \u041d\u0438\u043a\u0430\u043a\u0438\u0445 \u0441\u044b\u0440\u044b\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439.</li> <li>\u0421\u043c. \u0442\u0435\u043c\u0443 \u211611.</li> </ul> </li> </ol>"},{"location":"tool_01_api/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 1: \"\u0427\u0438\u0441\u0442\u044b\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\" (Direct API)","text":"<p>\u0421\u0442\u0435\u043a: <code>httpx</code> (Async), <code>Pydantic</code>, <code>Asyncio</code>. \u0421\u0443\u0442\u044c: \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c. \u041c\u044b \u0438\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u0430 \u043a \u0431\u044d\u043a\u0435\u043d\u0434\u0443. \u041d\u0438\u043a\u0430\u043a\u043e\u0433\u043e HTML.</p> <pre><code>import asyncio\nimport httpx\nfrom pydantic import BaseModel, Field, ValidationError\nfrom typing import List, Optional\n\n# --- 1. CONFIG (\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438) ---\n# \u0421\u044e\u0434\u0430 \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u044b \u0443\u043a\u0440\u0430\u043b\u0438 \u0438\u0437 Network Tab (Copy as cURL -&gt; Python)\nHEADERS = {\n    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 ...\",\n    \"Accept\": \"application/json\",\n    # \"Authorization\": \"Bearer eyJ...\", # \u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u0435\u043d \u0442\u043e\u043a\u0435\u043d\n    # \"Referer\": \"&lt;https://site.com/&gt;\",   # \u0427\u0430\u0441\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\n}\n\nBASE_API_URL = \"&lt;https://api.site.com/v2/catalog/products&gt;\"\n\n# --- 2. DATA MODEL (\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f) ---\n# \u041e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0445\u043e\u0442\u0438\u043c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c. \u0413\u0440\u044f\u0437\u044c \u043e\u0442\u0441\u0435\u0435\u0442\u0441\u044f \u0441\u0430\u043c\u0430.\nclass ProductItem(BaseModel):\n    id: int\n    title: str = Field(alias=\"name\") # \u0415\u0441\u043b\u0438 \u0432 JSON \u043a\u043b\u044e\u0447 \"name\", \u0430 \u043c\u044b \u0445\u043e\u0442\u0438\u043c \"title\"\n    price: float\n    url_suffix: str = Field(alias=\"slug\")\n    is_available: bool = True\n\n    # \u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440 \u0434\u043b\u044f URL\n    @property\n    def full_url(self):\n        return f\"&lt;https://site.com/product/{self.url_suffix}&gt;\"\n\nclass APIResponse(BaseModel):\n    items: List[ProductItem]\n    total_pages: int\n    # cursor: Optional[str] = None # \u0415\u0441\u043b\u0438 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u043a\u0443\u0440\u0441\u043e\u0440\n\n# --- 3. PARSER CLASS ---\nclass ApiParser:\n    def __init__(self):\n        # \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c http2=True, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u0442\u044c \u043f\u043e\u0445\u043e\u0436\u0438\u043c\u0438 \u043d\u0430 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\n        self.client = httpx.AsyncClient(headers=HEADERS, http2=True, timeout=10.0)\n\n    async def fetch_page(self, page_num: int) -&gt; Optional[APIResponse]:\n        \"\"\"\u0414\u0435\u043b\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442\"\"\"\n        params = {\n            \"page\": page_num,\n            \"limit\": 20,\n            \"category_id\": 123\n        }\n\n        try:\n            response = await self.client.get(BASE_API_URL, params=params)\n            response.raise_for_status() # \u0415\u0441\u043b\u0438 403 \u0438\u043b\u0438 500 - \u0432\u044b\u043a\u0438\u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443\n\n            # \u041c\u0430\u0433\u0438\u044f Pydantic: \u0441\u044b\u0440\u043e\u0439 JSON \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\n            return APIResponse(**response.json())\n\n        except httpx.HTTPStatusError as e:\n            print(f\"\ud83d\udd34 \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438: {e.response.status_code}\")\n            if e.response.status_code == 403:\n                print(\"\u26d4 \u041d\u0430\u0441 \u0437\u0430\u0431\u0430\u043d\u0438\u043b\u0438 (WAF). \u041f\u0440\u043e\u0432\u0435\u0440\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0438\u043b\u0438 \u0441\u043c\u0435\u043d\u0438 IP.\")\n        except ValidationError as e:\n            print(f\"\u26a0\ufe0f API \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e\u0441\u044c! \u0414\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u043f\u043e\u0434 \u043c\u043e\u0434\u0435\u043b\u044c: {e}\")\n        except Exception as e:\n            print(f\"\ud83d\udc80 \u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430: {e}\")\n\n        return None\n\n    async def close(self):\n        await self.client.aclose()\n\n    async def run(self):\n        page = 1\n        max_pages = 5 # \u0417\u0430\u0433\u043b\u0443\u0448\u043a\u0430, \u0440\u0435\u0430\u043b\u044c\u043d\u043e \u0443\u0437\u043d\u0430\u0435\u043c \u0438\u0437 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u043e\u0442\u0432\u0435\u0442\u0430\n\n        while page &lt;= max_pages:\n            print(f\"\ud83d\ude80 \u041f\u0430\u0440\u0441\u0438\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 {page}...\")\n\n            data = await self.fetch_page(page)\n\n            if not data:\n                break # \u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043b\u0438 \u043a\u043e\u043d\u0435\u0446\n\n            # \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0438\u043d\u0444\u0443 \u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u0445 (\u0435\u0441\u043b\u0438 API \u044d\u0442\u043e \u043e\u0442\u0434\u0430\u0435\u0442)\n            if page == 1:\n                max_pages = data.total_pages\n\n            # --- \u0421\u041e\u0425\u0420\u0410\u041d\u0415\u041d\u0418\u0415 ---\n            # \u0422\u0443\u0442 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u043c \u043d\u0430\u0448 \u043a\u043b\u0430\u0441\u0441 Saver (\u0438\u0437 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445 \u0443\u0440\u043e\u043a\u043e\u0432)\n            for item in data.items:\n                # print(f\"\u2705 \u0422\u043e\u0432\u0430\u0440: {item.title} | {item.price}\")\n                pass # save_to_db(item)\n\n            page += 1\n            # \u041d\u0435 DDOS-\u0438\u043c!\n            await asyncio.sleep(0.5)\n\n# --- 4. ENTRY POINT ---\nasync def main():\n    parser = ApiParser()\n    try:\n        await parser.run()\n    finally:\n        await parser.close()\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041a\u0443\u0434\u0430 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c:</p> <ol> <li><code>HEADERS</code>: \u042d\u0442\u043e 90% \u0443\u0441\u043f\u0435\u0445\u0430. \u0415\u0441\u043b\u0438 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u2014 \u0437\u043d\u0430\u0447\u0438\u0442, \u0442\u044b \u043d\u0435 \u0432\u0441\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043b.</li> <li><code>ProductItem</code>: \u041c\u0435\u043d\u044f\u0439 \u043f\u043e\u043b\u044f \u043f\u043e\u0434 \u0441\u0432\u043e\u0439 JSON.</li> <li><code>params</code>: \u0412 \u043c\u0435\u0442\u043e\u0434\u0435 <code>fetch_page</code> \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0439 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044e (<code>offset</code>, <code>cursor</code>, <code>page</code>).</li> </ol>"},{"location":"tool_02_json/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 2: \"\u0425\u0438\u0440\u0443\u0440\u0433\" (Hydration Data / Hidden JSON)","text":"<p>\u0421\u0442\u0435\u043a: <code>httpx</code>, <code>Selectolax</code> (\u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0441\u043a\u0440\u0438\u043f\u0442\u0430), <code>json</code>, <code>Pydantic</code>. \u0421\u0443\u0442\u044c: \u041c\u044b \u043d\u0435 \u043f\u0430\u0440\u0441\u0438\u043c \u0432\u0435\u0440\u0441\u0442\u043a\u0443. \u041c\u044b \u0438\u0449\u0435\u043c \u0442\u0435\u0433 <code>&lt;script&gt;</code>, \u0433\u0434\u0435 \u043b\u0435\u0436\u0438\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b (State), \u0432\u044b\u0440\u0435\u0437\u0430\u0435\u043c \u0435\u0433\u043e \u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u043a\u0430\u043a \u0441 \u0447\u0438\u0441\u0442\u044b\u043c API.</p> <p>\u0413\u0434\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c: \u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u043e\u0432 (Nike, Adidas, Walmart), \u0441\u0430\u0439\u0442\u044b \u043d\u0430 Next.js / Nuxt.js.</p> <pre><code>import asyncio\nimport httpx\nimport json\nfrom selectolax.parser import HTMLParser\nfrom pydantic import BaseModel\nfrom typing import List, Dict, Any\n\n# --- 1. MODELS ---\nclass Product(BaseModel):\n    id: str\n    name: str\n    price: float\n    stock_status: str\n\n# --- 2. PARSER CLASS ---\nclass HydrationParser:\n    def __init__(self):\n        self.headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)...\"\n        }\n        self.client = httpx.AsyncClient(headers=self.headers, http2=True)\n\n    def extract_hidden_json(self, html: str) -&gt; Dict[str, Any]:\n        \"\"\"\n        \u0425\u0438\u0440\u0443\u0440\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f. \u0418\u0449\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438.\n        \u0427\u0430\u0441\u0442\u044b\u0435 ID: __NEXT_DATA__ (Next.js), __NUXT__ (Nuxt), initial-state\n        \"\"\"\n        tree = HTMLParser(html)\n\n        # 1. \u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0434\u043b\u044f Next.js (\u0441\u0430\u043c\u044b\u0439 \u0447\u0430\u0441\u0442\u044b\u0439 \u043a\u0435\u0439\u0441)\n        script_node = tree.css_first(\"script#__NEXT_DATA__\")\n\n        if script_node:\n            try:\n                # \u0412\u043d\u0443\u0442\u0440\u0438 \u043b\u0435\u0436\u0438\u0442 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 JSON. \u041f\u0440\u043e\u0441\u0442\u043e \u043f\u0430\u0440\u0441\u0438\u043c.\n                return json.loads(script_node.text())\n            except json.JSONDecodeError:\n                print(\"\ud83d\udc80 JSON \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0431\u0438\u0442\u044b\u0439!\")\n                return {}\n\n        # 2. \u0415\u0441\u043b\u0438 \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 - \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043a\u0430\u0442\u044c Nuxt \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 Regex (\u0434\u043b\u044f window.App = ...)\n        print(\"\u26a0\ufe0f \u0421\u043a\u0440\u044b\u0442\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u044d\u0442\u043e \u043d\u0435 Next.js.\")\n        return {}\n\n    async def fetch_product_page(self, url: str):\n        print(f\"\ud83d\udd0e \u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c HTML: {url}\")\n        resp = await self.client.get(url)\n\n        if resp.status_code != 200:\n            print(f\"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438: {resp.status_code}\")\n            return\n\n        # --- \u042d\u0422\u0410\u041f \u0425\u0418\u0420\u0423\u0420\u0413\u0418\u0418 ---\n        data = self.extract_hidden_json(resp.text)\n\n        if not data:\n            return\n\n        # --- \u042d\u0422\u0410\u041f \u041d\u0410\u0412\u0418\u0413\u0410\u0426\u0418\u0418 \u041f\u041e JSON (\u0421\u0430\u043c\u043e\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0435) ---\n        # \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 Next.js \u0432\u0441\u0435\u0433\u0434\u0430 \u0430\u0434\u0441\u043a\u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u0430\u044f.\n        # \u041f\u0440\u0438\u0434\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u043e\u0442\u043a\u0440\u044b\u0442\u044c JSON Viewer \u0438 \u043d\u0430\u0439\u0442\u0438 \u043f\u0443\u0442\u044c.\n        try:\n            # \u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0438\u043f\u0438\u0447\u043d\u043e\u0433\u043e \u043f\u0443\u0442\u0438 \u0432 Next.js:\n            props = data.get(\"props\", {}).get(\"pageProps\", {})\n            initial_state = props.get(\"initialState\", {})\n            products_raw = initial_state.get(\"products\", {}).get(\"list\", [])\n\n            # --- \u0412\u0410\u041b\u0418\u0414\u0410\u0426\u0418\u042f \u0418 \u0421\u041e\u0425\u0420\u0410\u041d\u0415\u041d\u0418\u0415 ---\n            for item in products_raw:\n                # \u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u043c \u0433\u0440\u044f\u0437\u043d\u044b\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0432 \u0447\u0438\u0441\u0442\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c\n                product = Product(\n                    id=str(item.get(\"productId\")),\n                    name=item.get(\"displayName\"),\n                    price=float(item.get(\"currentPrice\", 0)),\n                    stock_status=\"IN_STOCK\" if item.get(\"available\") else \"OUT\"\n                )\n                print(f\"\u2705 \u0423\u0441\u043f\u0435\u0445: {product.name} \u2014 {product.price}\")\n                # await saver.save(product)\n\n        except Exception as e:\n            print(f\"\ud83d\udca5 \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 JSON \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0430\u0441\u044c: {e}\")\n\n    async def close(self):\n        await self.client.aclose()\n\n# --- 3. ENTRY ---\nasync def main():\n    parser = HydrationParser()\n    try:\n        # \u041f\u0440\u0438\u043c\u0435\u0440: \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0438\u043b\u0438 \u0442\u043e\u0432\u0430\u0440\u0430\n        await parser.fetch_product_page(\"&lt;https://example-shop.com/shoes&gt;\")\n    finally:\n        await parser.close()\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041a\u0443\u0434\u0430 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c:</p> <ol> <li><code>tree.css_first(\"script#__NEXT_DATA__\")</code>: \u042d\u0442\u043e \u043a\u043b\u044e\u0447 \u043a \u043f\u043e\u0431\u0435\u0434\u0435. \u0415\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u043d\u0430 Nuxt, \u0438\u0449\u0438 <code>script</code> \u0433\u0434\u0435 \u0442\u0435\u043a\u0441\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 <code>window.__NUXT__</code> (\u0442\u0443\u0442 \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>chompjs</code>, \u043f\u0440\u043e \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u044f \u0433\u043e\u0432\u043e\u0440\u0438\u043b \u0432 \u0442\u0435\u043e\u0440\u0438\u0438).</li> <li>\u041f\u0443\u0442\u044c \u043a \u0434\u0430\u043d\u043d\u044b\u043c: \u0421\u0442\u0440\u043e\u043a\u0438 \u0442\u0438\u043f\u0430 <code>data['props']['pageProps']...</code> \u0442\u0435\u0431\u0435 \u043f\u0440\u0438\u0434\u0435\u0442\u0441\u044f \u043f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0432\u0440\u0443\u0447\u043d\u0443\u044e. \u041e\u0442\u043a\u0440\u043e\u0439 \u0441\u0430\u0439\u0442, \u043d\u0430\u0436\u043c\u0438 <code>Ctrl+U</code>, \u043d\u0430\u0439\u0434\u0438 JSON, \u0441\u043a\u043e\u043f\u0438\u0440\u0443\u0439 \u0432 \u043b\u044e\u0431\u043e\u0439 \u043e\u043d\u043b\u0430\u0439\u043d JSON Formatter \u0438 \u043d\u0430\u0439\u0434\u0438, \u0433\u0434\u0435 \u043b\u0435\u0436\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432.</li> <li>\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u043e: \u041c\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u0430\u0436\u0435 \u043d\u0435 \u043e\u0442\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u044b \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>stock_level</code> \u0438\u043b\u0438 <code>internal_id</code>).</li> </ol>"},{"location":"tool_03_html/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 3: \"\u041a\u043b\u0430\u0441\u0441\u0438\u043a\u0430\" (Static HTML Parsing)","text":"<p>\u0421\u0442\u0435\u043a: <code>httpx</code> (Async), <code>Selectolax</code> (\u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c), <code>Pydantic</code>. \u0421\u0443\u0442\u044c: \u0421\u0442\u0430\u0440\u044b\u0439 \u0434\u043e\u0431\u0440\u044b\u0439 \u043f\u0430\u0440\u0441\u0438\u043d\u0433 DOM. \u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c HTML, \u0441\u0442\u0440\u043e\u0438\u043c \u0434\u0435\u0440\u0435\u0432\u043e, \u0438\u0449\u0435\u043c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u043f\u043e CSS-\u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u0430\u043c. \u0412\u0430\u0436\u043d\u043e: \u042f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e <code>Selectolax</code>, \u0430 \u043d\u0435 <code>BeautifulSoup</code>, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043d\u0430 100 000 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 BS4 \u0441\u043e\u0436\u0440\u0435\u0442 \u0432\u0441\u044e \u043f\u0430\u043c\u044f\u0442\u044c \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440. Selectolax \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u0432 20 \u0440\u0430\u0437.</p> <p>\u0413\u0434\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c: \u0411\u043b\u043e\u0433\u0438, \u043d\u043e\u0432\u043e\u0441\u0442\u043d\u044b\u0435 \u0441\u0430\u0439\u0442\u044b, \u0441\u0442\u0430\u0440\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d\u044b, \u0412\u0438\u043a\u0438\u043f\u0435\u0434\u0438\u044f.</p> <pre><code>import asyncio\nimport httpx\nfrom selectolax.lexbor import LexborHTMLParser # Lexbor \u043a\u0440\u0443\u0447\u0435 Modern, \u043e\u043d \u043f\u0440\u043e\u0449\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 HTML\nfrom pydantic import BaseModel, HttpUrl, field_validator\nfrom typing import Optional\n\n# --- 1. DATA MODEL ---\nclass Article(BaseModel):\n    title: str\n    link: HttpUrl\n    author: str = \"Unknown\" # \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\n    tags: list[str] = []\n\n    # \u0427\u0438\u0441\u0442\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u043b\u0435\u0442\u0443\n    @field_validator('title')\n    def clean_title(cls, v):\n        return v.strip().replace(\"\\\\n\", \" \")\n\n# --- 2. PARSER CLASS ---\nclass HtmlParserWorker:\n    def __init__(self):\n        self.headers = {\n            # \u0412\u0441\u0435\u0433\u0434\u0430 \u0441\u0432\u0435\u0436\u0438\u0439 User-Agent\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) ...\"\n        }\n        self.client = httpx.AsyncClient(headers=self.headers, http2=True, follow_redirects=True)\n\n    def parse_html(self, html_content: str, base_url: str) -&gt; list[Article]:\n        \"\"\"\u041f\u0430\u0440\u0441\u0438\u043d\u0433 DOM \u0434\u0435\u0440\u0435\u0432\u0430 (CPU bound \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f)\"\"\"\n        tree = LexborHTMLParser(html_content)\n        results = []\n\n        # 1. \u0418\u0449\u0435\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b (\u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432/\u0441\u0442\u0430\u0442\u0435\u0439)\n        # \u041f\u0440\u0438\u043c\u0435\u0440: &lt;div class=\"article-card\"&gt;...&lt;/div&gt;\n        cards = tree.css(\"div.article-card\")\n\n        for card in cards:\n            try:\n                # 2. \u0418\u0449\u0435\u043c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0412\u041d\u0423\u0422\u0420\u0418 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438\n                # \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c css_first (\u0432\u0435\u0440\u043d\u0435\u0442 \u043f\u0435\u0440\u0432\u044b\u0439 \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0439 \u0438\u043b\u0438 None)\n\n                # \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a\n                title_node = card.css_first(\"h2.title a\")\n                if not title_node:\n                    continue # \u0411\u0438\u0442\u0430\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430, \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c\n\n                title_text = title_node.text(strip=True)\n\n                # \u0421\u0441\u044b\u043b\u043a\u0430 (\u0432\u044b\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0435\u043c \u0430\u0442\u0440\u0438\u0431\u0443\u0442 href)\n                link_href = title_node.attributes.get(\"href\")\n                if link_href.startswith(\"/\"):\n                    link_href = base_url + link_href # \u0414\u0435\u043b\u0430\u0435\u043c \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443\n\n                # \u0410\u0432\u0442\u043e\u0440 (\u043c\u043e\u0436\u0435\u0442 \u043d\u0435 \u0431\u044b\u0442\u044c)\n                author_node = card.css_first(\"span.author-name\")\n                author_text = author_node.text(strip=True) if author_node else \"Unknown\"\n\n                # \u0422\u0435\u0433\u0438 (\u0441\u043f\u0438\u0441\u043e\u043a)\n                tags = [t.text(strip=True) for t in card.css(\"ul.tags li\")]\n\n                # 3. \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 Pydantic\n                article = Article(\n                    title=title_text,\n                    link=link_href,\n                    author=author_text,\n                    tags=tags\n                )\n                results.append(article)\n\n            except Exception as e:\n                print(f\"\u26a0\ufe0f \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u043e\u0434\u043d\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438: {e}\")\n                # \u041d\u0435 \u043a\u0440\u0430\u0448\u0438\u043c \u0432\u0435\u0441\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0438\u0437-\u0437\u0430 \u043e\u0434\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438\n\n        return results\n\n    async def run(self, url: str):\n        print(f\"\ud83d\udce5 \u041a\u0430\u0447\u0430\u0435\u043c: {url}\")\n        try:\n            resp = await self.client.get(url)\n\n            if resp.status_code == 200:\n                # \u041f\u0430\u0440\u0441\u0438\u043d\u0433 \u0431\u044b\u0441\u0442\u0440\u044b\u0439, \u043d\u043e \u0435\u0441\u043b\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u043c\u043d\u043e\u0433\u043e - \u043b\u0443\u0447\u0448\u0435 \u0432\u044b\u043d\u0435\u0441\u0442\u0438 \u0432 ThreadPool\n                articles = self.parse_html(resp.text, \"&lt;https://example-blog.com&gt;\")\n\n                print(f\"\u2705 \u041d\u0430\u0439\u0434\u0435\u043d\u043e {len(articles)} \u0441\u0442\u0430\u0442\u0435\u0439.\")\n                for a in articles:\n                    print(f\"   - {a.title} ({a.link})\")\n            else:\n                print(f\"\u26d4 \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: {resp.status_code}\")\n\n        except Exception as e:\n            print(f\"\ud83d\udc80 \u0421\u0435\u0442\u0435\u0432\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430: {e}\")\n\n    async def close(self):\n        await self.client.aclose()\n\n# --- 3. ENTRY ---\nasync def main():\n    parser = HtmlParserWorker()\n    try:\n        await parser.run(\"&lt;https://example-blog.com/news&gt;\")\n    finally:\n        await parser.close()\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041a\u0443\u0434\u0430 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c:</p> <ol> <li><code>LexborHTMLParser</code>: \u042d\u0442\u043e \u0434\u0432\u0438\u0436\u043e\u043a. \u0415\u0441\u043b\u0438 \u043d\u0435 \u0441\u0442\u0430\u0432\u0438\u0442\u0441\u044f, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 <code>from selectolax.parser import HTMLParser</code> (\u044d\u0442\u043e \u0434\u0432\u0438\u0436\u043e\u043a Modest). Lexbor \u0447\u0443\u0442\u044c \u043b\u0443\u0447\u0448\u0435 \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442 \u043a\u0440\u0438\u0432\u043e\u0439 HTML.</li> <li><code>.css(\"selector\")</code>: \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432.</li> <li><code>.css_first(\"selector\")</code>: \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0434\u0438\u043d \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0438\u043b\u0438 <code>None</code>. \u0412\u0441\u0435\u0433\u0434\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0439 \u043d\u0430 <code>None</code> \u043f\u0435\u0440\u0435\u0434 \u0442\u0435\u043c \u043a\u0430\u043a \u0431\u0440\u0430\u0442\u044c <code>.text()</code>, \u0438\u043d\u0430\u0447\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0448\u044c <code>AttributeError</code>.</li> <li><code>attributes.get(\"href\")</code>: \u0422\u0430\u043a \u0434\u043e\u0441\u0442\u0430\u044e\u0442 \u0441\u0441\u044b\u043b\u043a\u0438 \u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (<code>src</code>).</li> </ol>"},{"location":"tool_04_tls/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 4: \"\u0425\u0430\u043c\u0435\u043b\u0435\u043e\u043d\" (TLS Impersonation)","text":"<p>\u0421\u0442\u0435\u043a: <code>curl_cffi</code> (Async), <code>Pydantic</code>. \u0421\u0443\u0442\u044c: \u041e\u0431\u044b\u0447\u043d\u044b\u0439 <code>httpx</code> \u043f\u0430\u043b\u0438\u0442\u0441\u044f \u043d\u0430 \u044d\u0442\u0430\u043f\u0435 \"\u0440\u0443\u043a\u043e\u043f\u043e\u0436\u0430\u0442\u0438\u044f\" (SSL Handshake), \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u044b\u0435. <code>curl_cffi</code> \u043f\u043e\u0434\u043c\u0435\u043d\u044f\u0435\u0442 \u043e\u0442\u043f\u0435\u0447\u0430\u0442\u043e\u043a (JA3 fingerprint) \u043d\u0430 \u043e\u0442\u043f\u0435\u0447\u0430\u0442\u043e\u043a \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0425\u0440\u043e\u043c\u0430. \u0413\u0434\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c: Avito, Cloudflare-protected \u0441\u0430\u0439\u0442\u044b, \u0441\u0430\u0439\u0442\u044b \u0441 \u0437\u0430\u0449\u0438\u0442\u043e\u0439 Akamai/Datadome. \u0415\u0441\u043b\u0438 <code>httpx</code> \u0434\u0430\u0435\u0442 403, \u0430 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u0441\u0430\u0439\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u2014 \u0431\u0435\u0440\u0438 \u044d\u0442\u043e\u0442 \u0448\u0430\u0431\u043b\u043e\u043d.</p> <p>\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435: \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430: <code>pip install curl_cffi</code></p> <pre><code>import asyncio\nfrom curl_cffi.requests import AsyncSession, RequestsError\nfrom pydantic import BaseModel\nfrom typing import Optional\n\n# --- 1. CONFIG ---\n# \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0431\u0435\u0440\u0435\u043c \u0438\u0437 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430. \u041e\u043d\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432\u0435\u0440\u0441\u0438\u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u0432 impersonate!\nHEADERS = {\n    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n    \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8\",\n    \"Accept-Language\": \"en-US,en;q=0.9\",\n}\n\n# --- 2. PARSER CLASS ---\nclass TlsKiller:\n    def __init__(self, proxy_url: Optional[str] = None):\n        self.proxy = proxy_url\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0435\u0441\u0441\u0438\u044e \u043e\u0434\u0438\u043d \u0440\u0430\u0437. \u041e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0445\u0440\u0430\u043d\u0438\u0442\u044c Cookies.\n        # \u0412\u0410\u0416\u041d\u041e: impersonate=\"chrome120\" \u2014 \u043c\u044b \u043f\u0440\u0438\u0442\u0432\u043e\u0440\u044f\u0435\u043c\u0441\u044f \u0425\u0440\u043e\u043c\u043e\u043c 120 \u0432\u0435\u0440\u0441\u0438\u0438.\n        self.session = AsyncSession(\n            impersonate=\"chrome120\",\n            headers=HEADERS,\n            proxies={\"http\": self.proxy, \"https\": self.proxy} if self.proxy else None\n        )\n\n    async def get_protected_json(self, url: str):\n        \"\"\"\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f JSON \u0441 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u0433\u043e API\"\"\"\n        print(f\"\ud83d\udd75\ufe0f \u041f\u0440\u043e\u0431\u0443\u0435\u043c \u043f\u0440\u043e\u0431\u0438\u0442\u044c \u0437\u0430\u0449\u0438\u0442\u0443: {url}\")\n\n        try:\n            # \u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043a\u0430\u043a requests, \u043d\u043e \u043f\u043e\u0434 \u043a\u0430\u043f\u043e\u0442\u043e\u043c \u043c\u0430\u0433\u0438\u044f C-\u043a\u043e\u0434\u0430\n            response = await self.session.get(url)\n\n            if response.status_code == 200:\n                print(\"\u2705 \u041f\u0440\u043e\u0431\u0438\u0442\u043e! 200 OK\")\n                # print(response.json()) # \u0415\u0441\u043b\u0438 \u0436\u0434\u0435\u043c JSON\n                return response\n\n            elif response.status_code == 403:\n                print(\"\u26d4 Cloudflare \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e \u043d\u0435 \u043f\u0443\u0441\u043a\u0430\u0435\u0442.\")\n                print(\"\u0421\u043e\u0432\u0435\u0442: \u041f\u0440\u043e\u0432\u0435\u0440\u044c IP \u043f\u0440\u043e\u043a\u0441\u0438 \u0438\u043b\u0438 \u0441\u043c\u0435\u043d\u0438 \u0432\u0435\u0440\u0441\u0438\u044e impersonate (\u043d\u0430 chrome110, safari15_3)\")\n\n            else:\n                print(f\"\u26a0\ufe0f \u0421\u0442\u0440\u0430\u043d\u043d\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441: {response.status_code}\")\n\n        except RequestsError as e:\n            print(f\"\ud83d\udc80 \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438 (\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u043a\u0441\u0438 \u0443\u043c\u0435\u0440): {e}\")\n\n    async def close(self):\n        # \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0441\u0435\u0441\u0441\u0438\u044e\n        self.session.close() # curl_cffi \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u044f\u0432\u043d\u043e\u0433\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f (\u0432 \u043d\u043e\u0432\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u044f\u0445 \u043c\u0431 \u0430\u0432\u0442\u043e)\n\n# --- 3. ENTRY ---\nasync def main():\n    # \u0411\u0435\u0437 \u0445\u043e\u0440\u043e\u0448\u0438\u0445 \u043f\u0440\u043e\u043a\u0441\u0438 Cloudflare \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0431\u0430\u043d\u0438\u0442\u044c \u0441\u0430\u043c IP, \u0434\u0430\u0436\u0435 \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c TLS\n    # proxy = \"&lt;http://user:pass@ip&gt;:port\"\n    proxy = None\n\n    parser = TlsKiller(proxy)\n    try:\n        # \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0441\u0430\u0439\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0442\u0432\u043e\u0439 TLS Fingerprint (JA3)\n        await parser.get_protected_json(\"&lt;https://tls.browserleaks.com/json&gt;\")\n    finally:\n        await parser.close()\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041a\u0443\u0434\u0430 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c:</p> <ol> <li><code>impersonate=\"chrome120\"</code>: \u042d\u0442\u043e \u0441\u0430\u043c\u044b\u0439 \u0433\u043b\u0430\u0432\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440. \u0415\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u043d\u0435 \u043f\u0443\u0441\u043a\u0430\u0435\u0442, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430 <code>chrome110</code>, <code>safari15_3</code> \u0438\u043b\u0438 <code>edge101</code>. \u0421\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439 \u0435\u0441\u0442\u044c \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 <code>curl_cffi</code>.</li> <li><code>AsyncSession</code>: \u041d\u0435 \u043f\u0435\u0440\u0435\u043f\u0443\u0442\u0430\u0439 \u0441 <code>httpx.AsyncClient</code>. \u0423 \u043d\u0438\u0445 \u043f\u043e\u0445\u043e\u0436\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, \u043d\u043e \u0440\u0430\u0437\u043d\u044b\u0435 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u0438.</li> <li>\u041f\u0440\u043e\u043a\u0441\u0438: \u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 <code>proxies</code> \u0442\u0443\u0442 \u0442\u0430\u043a\u043e\u0439 \u0436\u0435, \u043a\u0430\u043a \u0432 <code>requests</code> (\u0441\u043b\u043e\u0432\u0430\u0440\u044c <code>{\"http\": ..., \"https\": ...}</code>).</li> <li>Cookie: \u042d\u0442\u0430 \u0441\u0435\u0441\u0441\u0438\u044f \u0441\u0430\u043c\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u043a\u0443\u043a\u0438. \u0415\u0441\u043b\u0438 \u0442\u044b \u043f\u0440\u043e\u0431\u0438\u043b Cloudflare Challenge (\u0432\u0430\u0441 \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u0438\u043b\u043e), \u0441\u0435\u0441\u0441\u0438\u044f \u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442 <code>cf_clearance</code> \u043a\u0443\u043a\u0443 \u0438 \u0434\u0430\u043b\u044c\u0448\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0431\u0435\u0437 \u043f\u0440\u043e\u0431\u043b\u0435\u043c.</li> </ol>"},{"location":"tool_05_browser/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 5: \"\u0422\u0430\u043d\u043a\" (Headless Browser Automation)","text":"<p>\u0421\u0442\u0435\u043a: <code>Playwright</code> (Async), <code>Selectolax</code> (\u0413\u0438\u0431\u0440\u0438\u0434\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434). \u0421\u0443\u0442\u044c: \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0432\u0438\u0436\u043e\u043a Chromium (\u0431\u0435\u0437 \u043e\u043a\u043d\u0430). \u041e\u043d \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0432\u0435\u0441\u044c JS, \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442 React/Vue \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b. \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0444\u0438\u0448\u043a\u0430 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430: \u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0422\u041e\u041b\u042c\u041a\u041e \u0434\u043b\u044f \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0430 \u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 (\u043a\u043b\u0438\u043a, \u0441\u043a\u0440\u043e\u043b\u043b). \u041a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043f\u043e\u044f\u0432\u0438\u043b\u0441\u044f, \u043c\u044b \u0437\u0430\u0431\u0438\u0440\u0430\u0435\u043c HTML (<code>page.content()</code>) \u0438 \u043f\u0430\u0440\u0441\u0438\u043c \u0435\u0433\u043e \u0447\u0435\u0440\u0435\u0437 <code>Selectolax</code>. \u042d\u0442\u043e \u0432 100 \u0440\u0430\u0437 \u0431\u044b\u0441\u0442\u0440\u0435\u0435, \u0447\u0435\u043c \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 API \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430.</p> <p>\u0413\u0434\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c: \u0421\u043b\u043e\u0436\u043d\u044b\u0435 SPA, \u0441\u0430\u0439\u0442\u044b \u0441 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u043c \u0441\u043a\u0440\u043e\u043b\u043b\u043e\u043c, \u0441\u0430\u0439\u0442\u044b, \u0433\u0434\u0435 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u043a\u043b\u0438\u043a\u0430.</p> <p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430:<code>pip install playwright selectolaxplaywright install chromium</code></p> <pre><code>import asyncio\nfrom playwright.async_api import async_playwright, Page, BrowserContext\nfrom selectolax.parser import HTMLParser\nfrom typing import List\n\n# --- 1. CONFIG ---\n# \u0411\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u043c\u0443\u0441\u043e\u0440, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043a\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u0432 5 \u0440\u0430\u0437\nBLOCKED_RESOURCES = [\".png\", \".jpg\", \".jpeg\", \".gif\", \".svg\", \".css\", \".woff\", \".woff2\"]\n\n# --- 2. PARSER CLASS ---\nclass BrowserWorker:\n    def __init__(self):\n        self.playwright = None\n        self.browser = None\n\n    async def start(self):\n        \"\"\"\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u044f\u0436\u0435\u043b\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 (\u0434\u0435\u043b\u0430\u0435\u043c 1 \u0440\u0430\u0437)\"\"\"\n        self.playwright = await async_playwright().start()\n        # headless=False \u0435\u0441\u043b\u0438 \u0445\u043e\u0447\u0435\u0448\u044c \u0432\u0438\u0434\u0435\u0442\u044c \u0433\u043b\u0430\u0437\u0430\u043c\u0438, \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\n        self.browser = await self.playwright.chromium.launch(headless=True)\n\n    async def stop(self):\n        if self.browser:\n            await self.browser.close()\n        if self.playwright:\n            await self.playwright.stop()\n\n    async def _configure_page(self, context: BrowserContext) -&gt; Page:\n        \"\"\"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b: \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u0438 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u044b\"\"\"\n        page = await context.new_page()\n\n        # \u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u0438 \u0448\u0440\u0438\u0444\u0442\u043e\u0432 (\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u044f \u0442\u0440\u0430\u0444\u0438\u043a\u0430 \u0438 \u043f\u0430\u043c\u044f\u0442\u0438)\n        async def route_handler(route):\n            if any(ext in route.request.url for ext in BLOCKED_RESOURCES):\n                await route.abort()\n            else:\n                await route.continue_()\n\n        await page.route(\"**/*\", route_handler)\n        return page\n\n    async def parse_dynamic_page(self, url: str):\n        print(f\"\ud83d\ude9c \u0422\u0430\u043d\u043a \u0432\u044b\u0435\u0445\u0430\u043b \u043d\u0430: {url}\")\n\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (\u043a\u0430\u043a \u0438\u043d\u043a\u043e\u0433\u043d\u0438\u0442\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0430)\n        # \u0422\u0443\u0442 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0442\u044c user_agent, viewport, proxy\n        context = await self.browser.new_context(\n            user_agent=\"Mozilla/5.0 (Windows NT 10.0; Win64; x64)...\"\n        )\n\n        page = await self._configure_page(context)\n\n        try:\n            # 1. \u041f\u0435\u0440\u0435\u0445\u043e\u0434\n            await page.goto(url, wait_until=\"domcontentloaded\", timeout=30000)\n\n            # 2. \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f (\u041b\u043e\u0433\u0438\u043a\u0430 \"\u0427\u0435\u043b\u043e\u0432\u0435\u043a\u0430\")\n            # \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0436\u0434\u0435\u043c \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432\n            # \u0421\u0435\u043b\u0435\u043a\u0442\u043e\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u0434\u043b\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430\n            try:\n                await page.wait_for_selector(\"div.product-card\", timeout=10000)\n            except Exception:\n                print(\"\u26a0\ufe0f \u0422\u043e\u0432\u0430\u0440\u044b \u043d\u0435 \u043f\u043e\u044f\u0432\u0438\u043b\u0438\u0441\u044c. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0441\u0430\u0439\u0442 \u043b\u0430\u0433\u0430\u0435\u0442 \u0438\u043b\u0438 \u0437\u0430\u0449\u0438\u0442\u0430.\")\n                return\n\n            # \u041f\u0440\u0438\u043c\u0435\u0440: \u0421\u043a\u0440\u043e\u043b\u043b\u0438\u043c \u0432\u043d\u0438\u0437, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u0438\u0442\u044c Lazy Load\n            for _ in range(3):\n                await page.mouse.wheel(0, 5000)\n                await asyncio.sleep(1) # \u0414\u0430\u0435\u043c JS \u0432\u0440\u0435\u043c\u044f \u043d\u0430 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0443\n\n            # 3. \u0413\u0418\u0411\u0420\u0418\u0414\u041d\u042b\u0419 \u041f\u0410\u0420\u0421\u0418\u041d\u0413 (\u0421\u0430\u043c\u044b\u0439 \u0441\u043e\u043a)\n            # \u041d\u0435 \u043f\u0435\u0440\u0435\u0431\u0438\u0440\u0430\u0435\u043c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0447\u0435\u0440\u0435\u0437 await page.locator(...). \u042d\u0442\u043e \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e!\n            # \u0417\u0430\u0431\u0438\u0440\u0430\u0435\u043c \u0432\u0435\u0441\u044c HTML \u0441\u0442\u0440\u043e\u043a\u043e\u0439 \u0438 \u043e\u0442\u0434\u0430\u0435\u043c Selectolax.\n            html = await page.content()\n            self._parse_with_selectolax(html)\n\n        except Exception as e:\n            print(f\"\ud83d\udc80 \u0410\u0432\u0430\u0440\u0438\u044f \u0442\u0430\u043d\u043a\u0430: {e}\")\n        finally:\n            # \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442, \u0447\u0442\u043e\u0431\u044b \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c RAM\n            await context.close()\n\n    def _parse_with_selectolax(self, html: str):\n        \"\"\"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u043f\u0430\u0440\u0441\u0438\u043d\u0433 \u0441\u0442\u0430\u0442\u0438\u043a\u0438\"\"\"\n        tree = HTMLParser(html)\n        products = tree.css(\"div.product-card\")\n        print(f\"\u2705 \u041d\u0430\u0439\u0434\u0435\u043d\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432: {len(products)}\")\n\n        for node in products:\n            title = node.css_first(\".title\").text(strip=True)\n            print(f\"   - {title}\")\n\n# --- 3. ENTRY ---\nasync def main():\n    worker = BrowserWorker()\n    await worker.start()\n    try:\n        await worker.parse_dynamic_page(\"&lt;https://example-spa-shop.com&gt;\")\n    finally:\n        await worker.stop()\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041a\u0443\u0434\u0430 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c:</p> <ol> <li><code>BLOCKED_RESOURCES</code> + <code>page.route</code>: \u042d\u0442\u043e \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u0436\u043d\u043e. \u0411\u0435\u0437 \u044d\u0442\u043e\u0433\u043e Playwright \u0431\u0443\u0434\u0435\u0442 \u043a\u0430\u0447\u0430\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0435 \u0431\u0430\u043d\u043d\u0435\u0440\u044b \u043f\u043e 5 \u041c\u0431. \u0422\u0432\u043e\u0439 \u043f\u0430\u0440\u0441\u0435\u0440 \u0443\u0441\u043a\u043e\u0440\u0438\u0442\u0441\u044f \u0432 3-5 \u0440\u0430\u0437 \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u044d\u0442\u0438\u043c \u0441\u0442\u0440\u043e\u043a\u0430\u043c.</li> <li><code>wait_until=\"domcontentloaded\"</code>: \u041c\u044b \u043d\u0435 \u0436\u0434\u0435\u043c \u043f\u043e\u043b\u043d\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 (<code>networkidle</code>), \u0438\u043d\u0430\u0447\u0435 \u0431\u0443\u0434\u0435\u043c \u0432\u0438\u0441\u0435\u0442\u044c \u0432\u0435\u0447\u043d\u043e \u0438\u0437-\u0437\u0430 \u043a\u0430\u043a\u043e\u0439-\u043d\u0438\u0431\u0443\u0434\u044c \u043c\u0435\u0442\u0440\u0438\u043a\u0438. \u0416\u0434\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e DOM, \u0430 \u043d\u0443\u0436\u043d\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0436\u0434\u0435\u043c \u0447\u0435\u0440\u0435\u0437 <code>wait_for_selector</code>.</li> <li>\u0413\u0438\u0431\u0440\u0438\u0434: \u041e\u0431\u0440\u0430\u0442\u0438 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u044f \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u043c\u0435\u0442\u043e\u0434\u044b Playwright \u0434\u043b\u044f \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430. \u042f \u0437\u0430\u0431\u0438\u0440\u0430\u044e HTML \u0438 \u043f\u0430\u0440\u0448\u0443 \u0435\u0433\u043e \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e. \u042d\u0442\u043e Best Practice \u0434\u043b\u044f \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438.</li> </ol> <p>\u0416\u0434\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \"\u0414\u0430\u043b\u044c\u0448\u0435\" (\u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c 2 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430: \u0421\u0442\u0435\u043b\u0441 \u0438 \u0412\u0435\u0431\u0441\u043e\u043a\u0435\u0442\u044b).</p>"},{"location":"tool_06_stealth/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 6: \"\u0421\u043f\u0435\u0446\u043d\u0430\u0437\" (Stealth / Anti-Bot Bypass)","text":"<p>\u0421\u0442\u0435\u043a: <code>DrissionPage</code> (Sync). \u0421\u0443\u0442\u044c: \u042d\u0442\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \"\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0448\u0430\u043d\u0441\u0430\". \u041e\u043d\u0430 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 WebDriver (\u043a\u0430\u043a Selenium), \u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0447\u0435\u0440\u0435\u0437 Chrome DevTools Protocol (CDP). \u041f\u043e\u0447\u0435\u043c\u0443 \u044d\u0442\u043e \u043a\u0440\u0443\u0442\u043e:</p> <ol> <li>\u0423 \u043d\u0435\u0451 \u043d\u0435\u0442 \u0444\u043b\u0430\u0433\u043e\u0432 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 (<code>navigator.webdriver</code> \u0447\u0438\u0441\u0442\u044b\u0439).</li> <li>\u041e\u043d\u0430 \u0443\u043c\u0435\u0435\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043c\u044b\u0448\u044c\u044e \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b (\u043a\u043b\u0438\u043a\u0438 \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 100% \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u043e).</li> <li>\u041e\u043d\u0430 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 Cloudflare Turnstile (\u0433\u0430\u043b\u043e\u0447\u043a\u0443) \u0447\u0430\u0441\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0444\u0430\u043a\u0442\u043e\u043c \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f.</li> </ol> <p>\u0413\u0434\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c: \u041a\u043e\u0433\u0434\u0430 Playwright \u043b\u043e\u0432\u0438\u0442 \u0431\u0430\u043d, \u043a\u043e\u0433\u0434\u0430 \u0432\u0438\u0434\u0438\u0448\u044c \"Checking your browser...\", \u043a\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u043a\u043b\u0438\u043a\u0430\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u0443\u044e \u043a\u0430\u043f\u0447\u0443.</p> <p>\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435: \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f (\u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0438\u043c\u0438\u0442\u0430\u0446\u0438\u044f \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u043d\u0435 \u0442\u0435\u0440\u043f\u0438\u0442 \u0441\u043f\u0435\u0448\u043a\u0438).</p> <pre><code>from DrissionPage import ChromiumPage, ChromiumOptions\nimport time\nimport random\n\n# --- 1. CONFIG ---\n# \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \"\u041f\u0440\u043e\u0444\u0438\u043b\u044f\". DrissionPage \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u0432\u043e\u0439 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c Chrome,\n# \u0442\u043e\u0433\u0434\u0430 \u0442\u044b \u0431\u0443\u0434\u0435\u0448\u044c \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0435\u043d \u0432\u0435\u0437\u0434\u0435. \u041d\u043e \u0442\u0443\u0442 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0447\u0438\u0441\u0442\u044b\u0439 \u0438\u043d\u0441\u0442\u0430\u043d\u0441.\ndef get_options():\n    co = ChromiumOptions()\n    # co.headless(True) # \u0412\u043a\u043b\u044e\u0447\u0438, \u0435\u0441\u043b\u0438 \u043d\u0435 \u0445\u043e\u0447\u0435\u0448\u044c \u0432\u0438\u0434\u0435\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 (\u043d\u043e \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438 \u043b\u0443\u0447\u0448\u0435 False)\n    co.set_argument('--no-first-run')\n    # \u041c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u043a\u0441\u0438\n    # co.set_proxy('&lt;http://user:pass@ip&gt;:port')\n    return co\n\n# --- 2. PARSER CLASS ---\nclass StealthWorker:\n    def __init__(self):\n        # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\n        self.page = ChromiumPage(get_options())\n\n    def bypass_protection(self, url: str):\n        print(f\"\ud83e\udd77 \u0421\u043f\u0435\u0446\u043d\u0430\u0437 \u0437\u0430\u0445\u043e\u0434\u0438\u0442 \u043d\u0430: {url}\")\n        self.page.get(url)\n\n        # --- \u042d\u0422\u0410\u041f 1: \u041f\u0440\u043e\u0445\u043e\u0434 \u0437\u0430\u0449\u0438\u0442\u044b (Cloudflare / Turnstile) ---\n        # DrissionPage \u0447\u0430\u0441\u0442\u043e \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 Cloudflare \u0441\u0430\u043c, \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u0436\u0438\u0434\u0430\u044f.\n        # \u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \"Verify you are human\":\n\n        if self.page.ele('text:Verify you are human', timeout=2):\n            print(\"\u26a0\ufe0f \u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 Cloudflare...\")\n            time.sleep(random.uniform(2, 4))\n\n            # \u0418\u0449\u0435\u043c \u0447\u0435\u043a\u0431\u043e\u043a\u0441 (Shadow Root \u043f\u0440\u043e\u0431\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438!)\n            # \u042d\u0442\u043e \u043a\u0438\u043b\u043b\u0435\u0440-\u0444\u0438\u0447\u0430: \u043d\u0435 \u043d\u0430\u0434\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u044b\u0439 JS \u0434\u043b\u044f shadow-dom\n            checkbox = self.page.ele('@type=checkbox')\n            if checkbox:\n                print(\"\u26a1 \u041a\u043b\u0438\u043a\u0430\u0435\u043c \u0433\u0430\u043b\u043e\u0447\u043a\u0443...\")\n                checkbox.click() # \u041a\u043b\u0438\u043a \u043d\u0430\u0442\u0443\u0440\u0430\u043b\u044c\u043d\u044b\u0439\n                time.sleep(5) # \u0416\u0434\u0435\u043c \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438\n\n        # \u0416\u0434\u0435\u043c, \u043f\u043e\u043a\u0430 \u0438\u0441\u0447\u0435\u0437\u043d\u0435\u0442 \u043b\u043e\u0430\u0434\u0435\u0440 \u0438\u043b\u0438 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\n        # self.page.wait.ele_display('#product-list')\n\n    def parse_data(self):\n        # --- \u042d\u0422\u0410\u041f 2: \u041f\u0430\u0440\u0441\u0438\u043d\u0433 ---\n        title = self.page.title\n        print(f\"\u2705 \u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0448\u043b\u0438. \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a: {title}\")\n\n        # \u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 DrissionPage \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0439, \u043d\u043e \u043c\u043e\u0449\u043d\u044b\u0439\n        # .eles() = \u043d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b\n        products = self.page.eles('.product-card')\n\n        print(f\"\ud83d\udce6 \u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432: {len(products)}\")\n        for p in products:\n            # \u041e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a \u0432\u043d\u0443\u0442\u0440\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\n            name = p.ele('.name').text\n            price = p.ele('.price').text\n            print(f\"   - {name} | {price}\")\n\n    def switch_to_fast_mode(self):\n        \"\"\"\n        \u0420\u0415\u0416\u0418\u041c \u0411\u041e\u0413\u0410: \u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 requests.\n        \u041f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043a\u0430\u043f\u0447\u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0435\u0436\u0438\u043c \u0431\u0435\u0437 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0430,\n        \u0447\u0442\u043e\u0431\u044b \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043c\u043e\u043b\u043d\u0438\u0435\u043d\u043e\u0441\u043d\u043e, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043a\u0443\u043a\u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430.\n        \"\"\"\n        print(\"\ud83d\ude80 \u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u0432 \u0440\u0435\u0436\u0438\u043c s_mode (\u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b)...\")\n        self.page.change_mode() # \u0422\u0435\u043f\u0435\u0440\u044c self.page \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043a\u0430\u043a Session, \u0430 \u043d\u0435 \u043a\u0430\u043a \u0411\u0440\u0430\u0443\u0437\u0435\u0440\n\n        # \u0422\u0435\u043f\u0435\u0440\u044c \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 100 \u0440\u0430\u0437 \u0431\u044b\u0441\u0442\u0440\u0435\u0435 (\u043a\u0430\u043a requests)\n        resp = self.page.get(\"&lt;https://site.com/api/products&gt;\")\n        print(\"\u041e\u0442\u0432\u0435\u0442 API:\", resp.text[:100])\n\n    def close(self):\n        self.page.quit()\n\n# --- 3. ENTRY ---\ndef main():\n    worker = StealthWorker()\n    try:\n        # \u0422\u0435\u0441\u0442 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0431\u043e\u0442\u043e\u0432\n        worker.bypass_protection(\"&lt;https://nowsecure.nl&gt;\")\n\n        # worker.parse_data()\n        # worker.switch_to_fast_mode()\n\n    finally:\n        worker.close()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre> <p>\u041a\u0443\u0434\u0430 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c:</p> <ol> <li><code>page.change_mode()</code>: \u042d\u0442\u043e \u0433\u043b\u0430\u0432\u043d\u0430\u044f \u0444\u0438\u0448\u043a\u0430. \u0422\u044b \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0448\u044c \u043a\u0430\u043f\u0447\u0443 \u043a\u0430\u043a \u0431\u0440\u0430\u0443\u0437\u0435\u0440, \u0430 \u043f\u043e\u0442\u043e\u043c \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0435\u0448\u044c\u0441\u044f \u0432 \u0440\u0435\u0436\u0438\u043c \"\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432\" \u0438 \u043f\u0430\u0440\u0441\u0438\u0448\u044c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0430\u0439\u0442 \u0431\u044b\u0441\u0442\u0440\u043e, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u043a\u0443\u043a\u0438.</li> <li><code>page.ele('@type=checkbox')</code>: \u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 <code>@</code> \u0438\u0449\u0435\u0442 \u043f\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u043c. DrissionPage \u0441\u0430\u043c \u043f\u0440\u043e\u0431\u0438\u0432\u0430\u0435\u0442 Shadow DOM (\u0442\u0435\u043d\u0435\u0432\u043e\u0439 DOM), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u043a\u0430\u043f\u0447\u0438. \u0412 Selenium/Playwright \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u044b\u043d\u0438 \u043a\u043e\u0434\u0430.</li> <li>\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u044c: \u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 <code>asyncio</code> \u0438 <code>await</code> \u0441 \u044d\u0442\u043e\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u043e\u0439. \u041e\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0435\u043c \u0440\u0435\u0436\u0438\u043c\u0435.</li> </ol>"},{"location":"tool_07_websockets/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 7: \"\u0420\u0430\u0434\u0438\u0441\u0442\" (WebSockets)","text":"<p>\u0421\u0442\u0435\u043a: <code>aiohttp</code> (\u043b\u0443\u0447\u0448\u0438\u0439 \u0432\u044b\u0431\u043e\u0440, \u0442\u0430\u043a \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0438 HTTP, \u0438 WS \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 \u043e\u0434\u043d\u043e\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438) \u0438\u043b\u0438 <code>websockets</code>. \u0421\u0443\u0442\u044c: \u041c\u044b \u043d\u0435 \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c \"\u041a\u0430\u043a \u0434\u0435\u043b\u0430?\". \u041c\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c\u0441\u044f \u043a \"\u0442\u0440\u0443\u0431\u0435\" \u0438 \u0441\u043b\u0443\u0448\u0430\u0435\u043c \u043f\u043e\u0442\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445. \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c: \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0440\u0432\u0435\u0442\u0441\u044f. \u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f, \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043c\u043e\u0440\u0433\u0430\u0435\u0442. \u0422\u0432\u043e\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043c\u0435\u0442\u044c \u043f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0442\u044c\u0441\u044f (Reconnect) \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e.</p> <p>\u0413\u0434\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c: \u0411\u0438\u0440\u0436\u0438 (Binance, Bybit), \u0431\u0443\u043a\u043c\u0435\u043a\u0435\u0440\u0441\u043a\u0438\u0435 \u043a\u043e\u043d\u0442\u043e\u0440\u044b (Live-\u0441\u0442\u0430\u0432\u043a\u0438), \u043e\u043d\u043b\u0430\u0439\u043d-\u0438\u0433\u0440\u044b, \u0447\u0430\u0442\u044b.</p> <pre><code>import asyncio\nimport aiohttp\nimport json\nimport logging\nfrom typing import Dict\n\n# \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043b\u043e\u0433\u0438, \u0447\u0442\u043e\u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0440\u0430\u0437\u0440\u044b\u0432\u044b \u0441\u0432\u044f\u0437\u0438\nlogging.basicConfig(level=logging.INFO, format=\"%(asctime)s - %(levelname)s - %(message)s\")\nlogger = logging.getLogger(\"WSRadio\")\n\n# --- 1. CONFIG ---\n# \u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0433\u043e \u0432\u0435\u0431\u0441\u043e\u043a\u0435\u0442\u0430 Binance (\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u0441\u0434\u0435\u043b\u043a\u0438 \u043f\u043e BTC)\nWS_URL = \"wss://stream.binance.com:9443/ws/btcusdt@trade\"\n\n# \u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u044b \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c JSON, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0435\n# Binance \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 URL, \u043d\u043e \u0434\u0440\u0443\u0433\u0438\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0442 'subscribe' message.\nSUBSCRIPTION_PAYLOAD = {\n    \"method\": \"SUBSCRIBE\",\n    \"params\": [\"btcusdt@trade\"],\n    \"id\": 1\n}\n\n# --- 2. ARCHITECTURE CLASS ---\nclass WebSocketMonitor:\n    def __init__(self, url: str):\n        self.url = url\n        self.session = None\n        self.ws = None\n        self.keep_running = True\n\n    async def connect(self):\n        \"\"\"\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u0436\u0438\u0437\u043d\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f\"\"\"\n        self.session = aiohttp.ClientSession()\n\n        while self.keep_running:\n            try:\n                logger.info(f\"\ud83d\udd0c \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a {self.url}...\")\n\n                async with self.session.ws_connect(self.url) as ws:\n                    self.ws = ws\n                    logger.info(\"\u2705 \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e!\")\n\n                    # 1. \u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f - \u0448\u043b\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u0432\u0445\u043e\u0434\u0430\n                    # await ws.send_json(SUBSCRIPTION_PAYLOAD)\n\n                    # 2. \u0421\u043b\u0443\u0448\u0430\u0435\u043c \u044d\u0444\u0438\u0440 (\u0411\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0446\u0438\u043a\u043b, \u043f\u043e\u043a\u0430 \u0441\u043e\u043a\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0442)\n                    async for msg in ws:\n                        if msg.type == aiohttp.WSMsgType.TEXT:\n                            await self.process_message(msg.data)\n                        elif msg.type == aiohttp.WSMsgType.ERROR:\n                            logger.error(\"\ud83d\udca5 \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u043a\u0435\u0442\u0430!\")\n                            break\n\n                    logger.warning(\"\u26a0\ufe0f \u0421\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043a\u0440\u044b\u043b \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435.\")\n\n            except aiohttp.ClientError as e:\n                logger.error(f\"\ud83d\udc80 \u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438: {e}\")\n            except Exception as e:\n                logger.error(f\"\ud83d\udc80 \u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430: {e}\")\n\n            # --- RECONNECT LOGIC ---\n            # \u0415\u0441\u043b\u0438 \u043c\u044b \u0432\u044b\u043b\u0435\u0442\u0435\u043b\u0438 \u0438\u0437 \u0446\u0438\u043a\u043b\u0430 async for, \u0437\u043d\u0430\u0447\u0438\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043e\u0440\u0432\u0430\u043d\u043e.\n            # \u0416\u0434\u0435\u043c \u0438 \u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0441\u043d\u043e\u0432\u0430.\n            logger.info(\"\u23f3 \u0420\u0435\u043a\u043e\u043d\u043d\u0435\u043a\u0442 \u0447\u0435\u0440\u0435\u0437 5 \u0441\u0435\u043a\u0443\u043d\u0434...\")\n            await asyncio.sleep(5)\n\n    async def process_message(self, raw_data: str):\n        \"\"\"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f (\u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430)\"\"\"\n        try:\n            data = json.loads(raw_data)\n\n            # \u0424\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u043c \u043f\u0438\u043d\u0433\u0438/\u043f\u043e\u043d\u0433\u0438 \u0438\u043b\u0438 \u0441\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\n            if \"e\" not in data:\n                return # \u042d\u0442\u043e \u043d\u0435 \u0441\u0434\u0435\u043b\u043a\u0430, \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c\n\n            # \u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0441\u0434\u0435\u043b\u043a\u0438 Binance\n            trade = {\n                \"price\": float(data['p']),\n                \"qty\": float(data['q']),\n                \"time\": data['T']\n            }\n\n            # \u0422\u0423\u0422 \u041f\u0418\u0428\u0415\u041c \u0412 \u0411\u0414 \u0418\u041b\u0418 \u041e\u0427\u0415\u0420\u0415\u0414\u042c\n            print(f\"\ud83d\udcb0 \u0421\u0434\u0435\u043b\u043a\u0430: ${trade['price']} (\u041e\u0431\u044a\u0435\u043c: {trade['qty']})\")\n\n        except json.JSONDecodeError:\n            pass # \u0411\u044b\u0432\u0430\u0435\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u043c\u0443\u0441\u043e\u0440\n\n    async def stop(self):\n        \"\"\"\u0410\u043a\u043a\u0443\u0440\u0430\u0442\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435\"\"\"\n        self.keep_running = False\n        if self.ws:\n            await self.ws.close()\n        if self.session:\n            await self.session.close()\n        logger.info(\"\ud83d\uded1 \u041c\u043e\u043d\u0438\u0442\u043e\u0440 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d.\")\n\n# --- 3. ENTRY POINT ---\nasync def main():\n    monitor = WebSocketMonitor(WS_URL)\n\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043c\u043e\u043d\u0438\u0442\u043e\u0440 \u0432 \u0444\u043e\u043d\u0435\n    task = asyncio.create_task(monitor.connect())\n\n    try:\n        # \u0418\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u043c \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (\u043f\u0443\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0447\u0430\u0441)\n        await asyncio.sleep(3600)\n    except asyncio.CancelledError:\n        pass\n    finally:\n        await monitor.stop()\n        await task\n\nif __name__ == \"__main__\":\n    try:\n        asyncio.run(main())\n    except KeyboardInterrupt:\n        # \u0427\u0442\u043e\u0431\u044b Ctrl+C \u043d\u0435 \u0432\u044b\u043f\u043b\u0435\u0432\u044b\u0432\u0430\u043b \u0441\u0442\u0440\u0430\u0448\u043d\u044b\u0435 \u0442\u0440\u0435\u0439\u0441\u0431\u0435\u043a\u0438\n        pass\n</code></pre> <p>\u041a\u0443\u0434\u0430 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c:</p> <ol> <li><code>while self.keep_running</code>: \u042d\u0442\u043e \u0431\u0435\u0441\u0441\u043c\u0435\u0440\u0442\u0438\u0435 \u0442\u0432\u043e\u0435\u0433\u043e \u0441\u043a\u0440\u0438\u043f\u0442\u0430. \u0415\u0441\u043b\u0438 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 \u043f\u0440\u043e\u043f\u0430\u0434\u0435\u0442 \u043d\u0430 \u0447\u0430\u0441, \u0441\u043a\u0440\u0438\u043f\u0442 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u043b\u0431\u0438\u0442\u044c\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0435 5 \u0441\u0435\u043a\u0443\u043d\u0434, \u043f\u043e\u043a\u0430 \u0441\u0432\u044f\u0437\u044c \u043d\u0435 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f.</li> <li><code>async for msg in ws</code>: \u042d\u0442\u043e \u0441\u0430\u043c\u044b\u0439 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0447\u0442\u0435\u043d\u0438\u044f. \u041e\u043d \u043d\u0435 \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u0442\u043e\u043a, \u043f\u043e\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043d\u0435\u0442.</li> <li><code>SUBSCRIPTION_PAYLOAD</code>: \u0427\u0430\u0441\u0442\u043e \u0432\u0435\u0431\u0441\u043e\u043a\u0435\u0442\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c \"\u041f\u0440\u0438\u0432\u0435\u0442, \u044f \u0445\u043e\u0447\u0443 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u043c\u0430\u0442\u0447\u0443 ID 123\". \u042d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 <code>ws.send_json()</code> \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u0430.</li> <li>Heartbeat (\u041f\u0438\u043d\u0433): <code>aiohttp</code> \u043e\u0431\u044b\u0447\u043d\u043e \u0441\u0430\u043c \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u0438\u043d\u0433\u0438 (Ping/Pong frames). \u041d\u043e \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 API \u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u0441\u043b\u0430\u0442\u044c <code>{ \"type\": \"ping\" }</code> \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0440\u0430\u0437 \u0432 30 \u0441\u0435\u043a\u0443\u043d\u0434. \u0415\u0441\u043b\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0440\u0432\u0435\u0442\u0441\u044f \u0440\u043e\u0432\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u043d\u0443\u0442\u0443 \u2014 \u0434\u043e\u0431\u0430\u0432\u044c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443 (<code>asyncio.create_task</code>), \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0448\u043b\u0435\u0442 \u043f\u0438\u043d\u0433\u0438.</li> </ol>"},{"location":"tool_08_mobile/","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 8: \"\u0427\u0435\u0440\u043d\u044b\u0439 \u0445\u043e\u0434\" (Mobile App API Replay)","text":"<p>\u0421\u0442\u0435\u043a: <code>httpx</code> (Async), <code>hashlib</code> (\u0434\u043b\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0438), <code>uuid</code>. \u0421\u0443\u0442\u044c: \u0422\u044b \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442\u0438\u043b \u0437\u0430\u043f\u0440\u043e\u0441 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c (\u0447\u0435\u0440\u0435\u0437 Charles/Mitmproxy). \u0422\u044b \u0443\u0432\u0438\u0434\u0435\u043b, \u0447\u0442\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0448\u043b\u0435\u0442 JSON, \u043d\u043e \u0442\u0430\u043c \u0435\u0441\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0442\u0438\u043f\u0430 <code>X-Signature</code>, <code>timestamp</code>, <code>nonce</code>. \u0422\u0432\u043e\u044f \u0437\u0430\u0434\u0430\u0447\u0430: \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u044d\u0442\u0438\u0445 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 \u043d\u0430 Python, \u0447\u0442\u043e\u0431\u044b \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u0443\u043c\u0430\u043b, \u0447\u0442\u043e \u0442\u044b \u2014 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0410\u0439\u0444\u043e\u043d\u0435.</p> <p>\u0413\u0434\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c: \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0435\u0434\u044b, \u0422\u0430\u043a\u0441\u0438, \u041c\u0430\u0440\u043a\u0435\u0442\u043f\u043b\u0435\u0439\u0441\u044b (Ozon/WB \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438), \u0411\u0430\u043d\u043a\u0438 (\u0430\u043a\u043a\u0443\u0440\u0430\u0442\u043d\u043e!).</p> <p>\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f:</p> <ol> <li>\u0422\u044b \u0443\u0436\u0435 \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442\u0438\u043b \u0437\u0430\u043f\u0440\u043e\u0441 \u0438 \u0437\u043d\u0430\u0435\u0448\u044c URL \u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443.</li> <li>\u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c (Signature), \u0442\u044b \u0434\u0435\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043b APK (\u0447\u0435\u0440\u0435\u0437 <code>jadx-gui</code>) \u0438 \u043d\u0430\u0448\u0435\u043b \"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447\" (Salt/Secret), \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u044b.</li> </ol> <pre><code>import asyncio\nimport httpx\nimport time\nimport hashlib\nimport uuid\nfrom urllib.parse import urlencode\n\n# --- 1. CONFIG (\u0423\u043a\u0440\u0430\u0434\u0435\u043d\u043e \u0438\u0437 APK) ---\n# \u042d\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043c\u044b \u0434\u043e\u0441\u0442\u0430\u0435\u043c \u0438\u0437 \u0434\u0435\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442\u0430\nAPI_BASE_URL = \"&lt;https://api-mobile.target-shop.com/v3&gt;\"\nAPP_VERSION = \"4.20.0\"\nDEVICE_ID = str(uuid.uuid4()) # \u0418\u043b\u0438 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 ID, \u0435\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u0435\u0433\u043e \u0447\u0435\u043a\u0430\u0435\u0442\nSECRET_KEY = \"super_secret_salt_from_apk_code\" # \u041a\u043b\u044e\u0447, \u0437\u0430\u0448\u0438\u0442\u044b\u0439 \u0432 \u043a\u043e\u0434\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\n\n# --- 2. PARSER CLASS ---\nclass MobileAppClient:\n    def __init__(self):\n        self.client = httpx.AsyncClient(http2=True)\n        # \u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u0438\u043d\u0430\u0447\u0435, \u0447\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u044b\u0435!\n        self.base_headers = {\n            \"Host\": \"api-mobile.target-shop.com\",\n            \"Accept\": \"application/json\",\n            \"User-Agent\": \"TargetShop/4.20.0 (Android 13; Pixel 7 Pro)\",\n            \"X-App-Version\": APP_VERSION,\n            \"X-Device-ID\": DEVICE_ID,\n            \"Connection\": \"keep-alive\",\n            # \u0427\u0430\u0441\u0442\u043e \u0431\u044b\u0432\u0430\u0435\u0442 \u0441\u0436\u0430\u0442\u0438\u0435 gzip\n            \"Accept-Encoding\": \"gzip\",\n        }\n\n    def _generate_signature(self, endpoint: str, params: dict, timestamp: str) -&gt; str:\n        \"\"\"\n        \u0421\u0410\u041c\u041e\u0415 \u0413\u041b\u0410\u0412\u041d\u041e\u0415: \u0418\u043c\u0438\u0442\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430.\n        \u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0443 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0439. \u0415\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u043a\u043e\u0434\u0435 APK.\n        \u041e\u0431\u044b\u0447\u043d\u043e \u044d\u0442\u043e MD5 \u0438\u043b\u0438 SHA256 \u043e\u0442 (URL + \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b + Timestamp + SecretKey).\n        \"\"\"\n        # \u041f\u0440\u0438\u043c\u0435\u0440 \u0442\u0438\u043f\u0438\u0447\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438:\n        # sorted_params = \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443\n        # string_to_sign = endpoint + sorted_params + timestamp + SECRET_KEY\n\n        # \u0421\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b (\u0447\u0430\u0441\u0442\u043e\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435)\n        sorted_keys = sorted(params.keys())\n        query_string = \"&amp;\".join([f\"{k}={params[k]}\" for k in sorted_keys])\n\n        # \u0421\u043e\u0431\u0438\u0440\u0430\u0435\u043c \u0441\u0442\u0440\u043e\u043a\u0443\n        raw_string = f\"{endpoint}?{query_string}{timestamp}{SECRET_KEY}\"\n\n        # \u0425\u0435\u0448\u0438\u0440\u0443\u0435\u043c (MD5 - \u043a\u043b\u0430\u0441\u0441\u0438\u043a\u0430 \u0441\u0442\u0430\u0440\u044b\u0445 \u0430\u043f\u043f, SHA256 - \u043d\u043e\u0432\u044b\u0445)\n        signature = hashlib.md5(raw_string.encode('utf-8')).hexdigest()\n\n        return signature\n\n    async def get_items(self, category_id: int):\n        endpoint = \"/catalog/list\"\n        url = f\"{API_BASE_URL}{endpoint}\"\n\n        # \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0430\n        params = {\n            \"category\": category_id,\n            \"offset\": 0,\n            \"limit\": 20\n        }\n\n        # 1. \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438\n        ts = str(int(time.time())) # \u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f (Timestamp)\n\n        # \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c \u043f\u043e\u0434\u043f\u0438\u0441\u044c (\u0447\u0442\u043e\u0431\u044b \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0432\u0435\u0440\u0438\u043b, \u0447\u0442\u043e \u043c\u044b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435)\n        sign = self._generate_signature(endpoint, params, ts)\n\n        headers = self.base_headers.copy()\n        headers.update({\n            \"X-Timestamp\": ts,\n            \"X-Signature\": sign, # &lt;-- \u0412\u043e\u0442 \u043d\u0430\u0448 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\n            # \u0418\u043d\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u0435\u043d X-Auth-Token, \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0435\u043d\n        })\n\n        print(f\"\ud83d\udcf1 \u0428\u043b\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441 \u043a\u0430\u043a Android App... (Sign: {sign})\")\n\n        try:\n            resp = await self.client.get(url, params=params, headers=headers)\n\n            if resp.status_code == 200:\n                data = resp.json()\n                print(\"\u2705 \u0423\u0441\u043f\u0435\u0445! \u0427\u0438\u0441\u0442\u044b\u0439 JSON:\")\n                # print(data['items'][0]) # \u0412\u044b\u0432\u043e\u0434 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430\n                return data\n            elif resp.status_code == 401:\n                print(\"\u26d4 \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 (Signature) \u0438\u043b\u0438 \u0442\u043e\u043a\u0435\u043d\u0430.\")\n            else:\n                print(f\"\u26a0\ufe0f \u0421\u0442\u0430\u0442\u0443\u0441: {resp.status_code} | {resp.text}\")\n\n        except Exception as e:\n            print(f\"\ud83d\udc80 \u041e\u0448\u0438\u0431\u043a\u0430: {e}\")\n\n    async def close(self):\n        await self.client.aclose()\n\n# --- 3. ENTRY ---\nasync def main():\n    mobile_bot = MobileAppClient()\n    try:\n        await mobile_bot.get_items(category_id=555)\n    finally:\n        await mobile_bot.close()\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre>"},{"location":"tool_08_mobile/#architect-notes","title":"\ud83e\udde0 \u041a\u0443\u0434\u0430 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c (Architect Notes):","text":"<ol> <li><code>User-Agent</code>: \u041e\u0431\u0440\u0430\u0442\u0438 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u043e\u043d \u043d\u0435 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 <code>Mozilla</code>. \u042d\u0442\u043e <code>okhttp/4.9.0</code> \u0438\u043b\u0438 <code>AppName/Version</code>. \u0415\u0441\u043b\u0438 \u043f\u043e\u0448\u043b\u0435\u0448\u044c <code>Mozilla</code>, \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0439\u043c\u0435\u0442, \u0447\u0442\u043e \u0442\u044b \u0431\u0440\u0430\u0443\u0437\u0435\u0440, \u0430 \u043d\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d, \u0438 \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043a\u0430\u0437\u0430\u0442\u044c.</li> <li><code>_generate_signature</code>: \u042d\u0442\u043e \u0441\u0435\u0440\u0434\u0446\u0435 \u043c\u0435\u0442\u043e\u0434\u0430. \u0415\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0442\u043e\u043a\u0435\u043d \u2014 \u0442\u0435\u0431\u0435 \u043f\u043e\u0432\u0435\u0437\u043b\u043e. \u041d\u043e \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a <code>Sign</code> \u0438\u043b\u0438 <code>Signature</code>, \u0442\u0435\u0431\u0435 \u043f\u0440\u0438\u0434\u0435\u0442\u0441\u044f \u0441\u043a\u0430\u0447\u0430\u0442\u044c APK, \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0435\u0433\u043e \u0432 <code>JADX-GUI</code>, \u043d\u0430\u0439\u0442\u0438 \u0441\u0442\u0440\u043e\u043a\u0443 \"Signature\" \u0438 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043a\u0443 \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0430 Python.<ul> <li>\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430: \u0418\u0449\u0438 \u0441\u043b\u043e\u0432\u0430 <code>HMAC</code>, <code>MD5</code>, <code>SHA256</code>, <code>append</code>, <code>StringBuilder</code> \u0432 \u043a\u043e\u0434\u0435 Java/Kotlin.</li> </ul> </li> <li>SSL Pinning: \u0415\u0441\u043b\u0438 <code>mitmproxy</code> \u043d\u0435 \u0432\u0438\u0434\u0438\u0442 \u0442\u0440\u0430\u0444\u0438\u043a (\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u0438\u0448\u0435\u0442 \"\u041d\u0435\u0442 \u0441\u0435\u0442\u0438\"), \u0437\u043d\u0430\u0447\u0438\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0442\u043e\u0438\u0442 \u0437\u0430\u0449\u0438\u0442\u0430 SSL Pinning. \u0427\u0442\u043e\u0431\u044b \u0435\u0451 \u043e\u0431\u043e\u0439\u0442\u0438, \u043d\u0443\u0436\u0435\u043d \u0440\u0443\u0442\u043e\u0432\u0430\u043d\u043d\u044b\u0439 Android \u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 Frida (\u0441\u043a\u0440\u0438\u043f\u0442 <code>frida-ssl-pinning-bypass</code>). \u042d\u0442\u043e \u0443\u0436\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u0437\u043b\u043e\u043c\u0430, \u0432\u044b\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0437\u0430 \u0440\u0430\u043c\u043a\u0438 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e Python.</li> </ol>"},{"location":"tools_overview/","title":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432","text":"<p>\u0414\u0435\u0440\u0436\u0438 \u044d\u0442\u043e\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0435\u0440\u0435\u0434 \u0433\u043b\u0430\u0437\u0430\u043c\u0438, \u043a\u043e\u0433\u0434\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0435\u0448\u044c \u043d\u043e\u0432\u044b\u0439 \u0441\u0430\u0439\u0442. \u0418\u0434\u0435\u043c \u043e\u0442 \u043b\u0435\u0433\u043a\u043e\u0433\u043e \u043a \u0442\u044f\u0436\u0435\u043b\u043e\u043c\u0443 (\u0441\u0432\u0435\u0440\u0445\u0443 \u0432\u043d\u0438\u0437).</p>"},{"location":"tools_overview/#1-direct-api","title":"1. \"\u0427\u0438\u0441\u0442\u044b\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\" (Direct API)","text":"<ul> <li>\u0421\u0442\u0435\u043a: <code>httpx</code> (Async) + <code>Pydantic</code>.</li> <li>\u0414\u043b\u044f \u0447\u0435\u0433\u043e: \u0418\u0434\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439. \u0422\u044b \u043d\u0430\u0448\u0435\u043b \u0432 Network \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0449\u0438\u0435 JSON.</li> <li>\u0421\u0443\u0442\u044c: \u0422\u044b \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0448\u044c HTML \u0438 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e. \u0422\u0432\u043e\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u0440\u0438\u0442\u0432\u043e\u0440\u044f\u0435\u0442\u0441\u044f \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u043e\u043c \u0438 \u043e\u0431\u0449\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0441 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u0447\u0435\u0440\u0435\u0437 API. \u042d\u0442\u043e \u0434\u0430\u0435\u0442 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c (\u0442\u044b\u0441\u044f\u0447\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0443) \u0438 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0442\u0440\u0430\u0444\u0438\u043a, \u0442\u0430\u043a \u043a\u0430\u043a \u0442\u044b \u043d\u0435 \u043a\u0430\u0447\u0430\u0435\u0448\u044c \u043c\u0443\u0441\u043e\u0440. \u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u2014 \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u044b\u0431\u0438\u0440\u0430\u0439 \u0435\u0433\u043e.</li> </ul>"},{"location":"tools_overview/#2-hydration-data-hidden-json","title":"2. \"\u0425\u0438\u0440\u0443\u0440\u0433\" (Hydration Data / Hidden JSON)","text":"<ul> <li>\u0421\u0442\u0435\u043a: <code>httpx</code> + <code>json</code> (\u0438\u043b\u0438 <code>chompjs</code> \u0434\u043b\u044f \u0433\u0440\u044f\u0437\u043d\u043e\u0433\u043e JS) + <code>Selectolax</code>.</li> <li>\u0414\u043b\u044f \u0447\u0435\u0433\u043e: \u0421\u0430\u0439\u0442\u044b \u043d\u0430 Next.js, Nuxt.js \u0438\u043b\u0438 React, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 SSR. \u0414\u0430\u043d\u043d\u044b\u0435 \u0432 Network \u043d\u0435 \u043b\u0435\u0442\u0430\u044e\u0442, \u043d\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0433\u0440\u0443\u0437\u0438\u0442\u0441\u044f \u0431\u044b\u0441\u0442\u0440\u043e.</li> <li>\u0421\u0443\u0442\u044c: \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u0432\u0448\u0438\u0432\u0430\u044e\u0442 \"\u0441\u043b\u0435\u043f\u043e\u043a\" \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u044f\u043c\u043e \u0432 HTML-\u043a\u043e\u0434 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b (\u043e\u0431\u044b\u0447\u043d\u043e \u0432 \u0442\u0435\u0433\u0438 <code>&lt;script id=\"__NEXT_DATA__\"&gt;</code> \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e <code>window.__STATE__</code>). \u0412\u043c\u0435\u0441\u0442\u043e \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u0442\u044b\u0441\u044f\u0447\u0438 \u0442\u0435\u0433\u043e\u0432 <code>&lt;div&gt;</code>, \u0442\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0448\u044c \u044d\u0442\u043e\u0442 \u0441\u043a\u0440\u0438\u043f\u0442, \u0432\u044b\u0440\u0435\u0437\u0430\u0435\u0448\u044c \u0442\u0435\u043a\u0441\u0442 \u0438 \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0448\u044c \u0435\u0433\u043e \u0432 \u0447\u0438\u0441\u0442\u044b\u0439 JSON. \u042d\u0442\u043e \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u0438 \u043d\u0430\u0434\u0435\u0436\u043d\u0435\u0435 \u043a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430, \u0442\u0430\u043a \u043a\u0430\u043a \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0440\u0435\u0436\u0435, \u0447\u0435\u043c \u0432\u0435\u0440\u0441\u0442\u043a\u0430.</li> </ul>"},{"location":"tools_overview/#3-static-html-parsing","title":"3. \"\u041a\u043b\u0430\u0441\u0441\u0438\u043a\u0430\" (Static HTML Parsing)","text":"<ul> <li>\u0421\u0442\u0435\u043a: <code>httpx</code> + <code>Selectolax</code> (\u0434\u043b\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438) \u0438\u043b\u0438 <code>lxml</code> (\u0434\u043b\u044f \u0441\u043b\u043e\u0436\u043d\u043e\u0433\u043e XPath).</li> <li>\u0414\u043b\u044f \u0447\u0435\u0433\u043e: \u0421\u0442\u0430\u0440\u044b\u0435 \u0441\u0430\u0439\u0442\u044b, \u0431\u043b\u043e\u0433\u0438, \u0444\u043e\u0440\u0443\u043c\u044b, SSR \u0431\u0435\u0437 \u0433\u0438\u0434\u0440\u0430\u0442\u0430\u0446\u0438\u0438. \u0414\u0430\u043d\u043d\u044b\u0435 \u043b\u0435\u0436\u0430\u0442 \u0442\u0443\u043f\u043e \u0432 \u0442\u0435\u043a\u0441\u0442\u0435 \u0432\u043d\u0443\u0442\u0440\u0438 \u0442\u0435\u0433\u043e\u0432 <code>&lt;div&gt;</code>, <code>&lt;span&gt;</code>, <code>&lt;table&gt;</code>.</li> <li>\u0421\u0443\u0442\u044c: \u0422\u044b \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u0448\u044c HTML \u043a\u0430\u043a \u0442\u0435\u043a\u0441\u0442 \u0438 \u0441\u043a\u0430\u0440\u043c\u043b\u0438\u0432\u0430\u0435\u0448\u044c \u0435\u0433\u043e \u043f\u0430\u0440\u0441\u0435\u0440\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0442\u0440\u043e\u0438\u0442 DOM-\u0434\u0435\u0440\u0435\u0432\u043e. \u0414\u0430\u043b\u044c\u0448\u0435 \u0442\u044b \u043f\u0438\u0448\u0435\u0448\u044c CSS-\u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u044b \u0438\u043b\u0438 XPath, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043d\u0443\u0436\u043d\u044b\u0435 \u043a\u0443\u0441\u043a\u0438 \u0442\u0435\u043a\u0441\u0442\u0430. \u041c\u0435\u0442\u043e\u0434 \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439, \u043d\u043e \u043b\u043e\u043c\u0430\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440 \u0440\u0435\u0448\u0438\u0442 \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441\u044b \u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0435\u0440\u0441\u0442\u043a\u0443. \u0422\u0440\u0435\u0431\u0443\u0435\u0442 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438.</li> </ul>"},{"location":"tools_overview/#4-tls-impersonation","title":"4. \"\u0425\u0430\u043c\u0435\u043b\u0435\u043e\u043d\" (TLS Impersonation)","text":"<ul> <li>\u0421\u0442\u0435\u043a: <code>curl_cffi</code> \u0438\u043b\u0438 <code>tls_client</code>.</li> <li>\u0414\u043b\u044f \u0447\u0435\u0433\u043e: \u0417\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u0435 API, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0442\u0434\u0430\u044e\u0442 <code>403 Forbidden</code> \u043e\u0431\u044b\u0447\u043d\u044b\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430\u043c, \u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435. (Cloudflare, Akamai).</li> <li>\u0421\u0443\u0442\u044c: \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0435 \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u0445, \u0430 \u0432 \"\u043f\u043e\u0447\u0435\u0440\u043a\u0435\" \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f (TLS Fingerprint). \u041e\u0431\u044b\u0447\u043d\u044b\u0439 Python \u043f\u0430\u043b\u0438\u0442\u0441\u044f \u0441\u0440\u0430\u0437\u0443. \u042d\u0442\u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u043f\u043e\u0434\u043c\u0435\u043d\u044f\u044e\u0442 \u043d\u0438\u0437\u043a\u043e\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0440\u0443\u043a\u043e\u043f\u043e\u0436\u0430\u0442\u0438\u044f (Handshake), \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0438\u043c\u0438\u0442\u0438\u0440\u0443\u044f \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e Chrome \u0438\u043b\u0438 Safari. \u0421\u0435\u0440\u0432\u0435\u0440 \u0434\u0443\u043c\u0430\u0435\u0442, \u0447\u0442\u043e \u0442\u044b \u0431\u0440\u0430\u0443\u0437\u0435\u0440, \u0438 \u043e\u0442\u0434\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0435\u0437 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0442\u044f\u0436\u0435\u043b\u043e\u0433\u043e Selenium.</li> </ul>"},{"location":"tools_overview/#5-headless-browser-automation","title":"5. \"\u0422\u0430\u043d\u043a\" (Headless Browser Automation)","text":"<ul> <li>\u0421\u0442\u0435\u043a: <code>Playwright</code> (Python version).</li> <li>\u0414\u043b\u044f \u0447\u0435\u0433\u043e: \u0421\u043b\u043e\u0436\u043d\u044b\u0435 SPA (Single Page Applications), \u0433\u0434\u0435 \u043b\u043e\u0433\u0438\u043a\u0430 \u0440\u0430\u0437\u043c\u0430\u0437\u0430\u043d\u0430 \u043f\u043e \u0441\u043e\u0442\u043d\u0435 JS-\u0444\u0430\u0439\u043b\u043e\u0432, API \u043d\u0435\u0442 \u0438\u043b\u0438 \u043e\u043d\u043e \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043e, \u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u043a\u043b\u0438\u043a\u043e\u0432 \u0438 \u0441\u043a\u0440\u043e\u043b\u043b\u0430.</li> <li>\u0421\u0443\u0442\u044c: \u0422\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0448\u044c \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 (Chromium) \u0431\u0435\u0437 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430. \u0421\u043a\u0440\u0438\u043f\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0438\u043c: \u043d\u0430\u0436\u0438\u043c\u0430\u0435\u0442 \u043a\u043d\u043e\u043f\u043a\u0438, \u0436\u0434\u0435\u0442 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432, \u0441\u043a\u0440\u043e\u043b\u043b\u0438\u0442. \u042d\u0442\u043e \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e \u0438 \u0436\u0440\u0435\u0442 \u043c\u043d\u043e\u0433\u043e \u043f\u0430\u043c\u044f\u0442\u0438 (RAM), \u043d\u043e \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u0441\u0430\u0439\u0442 \u0432\u0438\u0434\u0438\u0442 \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u044b\u0439 \u0434\u0432\u0438\u0436\u043e\u043a \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0430. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u044b \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438.</li> </ul>"},{"location":"tools_overview/#6-stealth-anti-bot-bypass","title":"6. \"\u0421\u043f\u0435\u0446\u043d\u0430\u0437\" (Stealth / Anti-Bot Bypass)","text":"<ul> <li>\u0421\u0442\u0435\u043a: <code>DrissionPage</code>.</li> <li>\u0414\u043b\u044f \u0447\u0435\u0433\u043e: \u0421\u0430\u0439\u0442\u044b \u0441 \u0430\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043d\u043e\u0439 \u0437\u0430\u0449\u0438\u0442\u043e\u0439, \u043a\u0430\u043f\u0447\u0430\u043c\u0438 (Turnstile, ReCaptcha) \u0438 \u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u0430\u043c\u0438 \u0431\u043e\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0430\u043d\u044f\u0442 \u0434\u0430\u0436\u0435 Playwright.</li> <li>\u0421\u0443\u0442\u044c: \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b CDP, \u043c\u0438\u043d\u0443\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b (WebDriver), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043b\u0435\u0433\u043a\u043e \u0434\u0435\u0442\u0435\u043a\u0442\u044f\u0442\u0441\u044f. \u041e\u043d \u0443\u043c\u0435\u0435\u0442 \u0438\u043c\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f \u043c\u044b\u0448\u0438, \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \"\u042f \u043d\u0435 \u0440\u043e\u0431\u043e\u0442\" \u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u044c\u0441\u044f \u043c\u0435\u0436\u0434\u0443 \u0440\u0435\u0436\u0438\u043c\u043e\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u0438 \u0440\u0435\u0436\u0438\u043c\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u043b\u0435\u0442\u0443. \u042d\u0442\u043e \"\u0442\u044f\u0436\u0435\u043b\u0430\u044f \u0430\u0440\u0442\u0438\u043b\u043b\u0435\u0440\u0438\u044f\" \u0434\u043b\u044f \u0441\u0430\u043c\u044b\u0445 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0446\u0435\u043b\u0435\u0439.</li> </ul>"},{"location":"tools_overview/#7-websockets","title":"7. \"\u0420\u0430\u0434\u0438\u0441\u0442\" (WebSockets)","text":"<ul> <li>\u0421\u0442\u0435\u043a: <code>websockets</code> \u0438\u043b\u0438 <code>aiohttp</code> (ws mode).</li> <li>\u0414\u043b\u044f \u0447\u0435\u0433\u043e: \u0416\u0438\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0440\u0435\u043c\u0435\u043d\u0438: \u0431\u0438\u0440\u0436\u0435\u0432\u044b\u0435 \u043a\u043e\u0442\u0438\u0440\u043e\u0432\u043a\u0438, \u0441\u0442\u0430\u0432\u043a\u0438 \u043d\u0430 \u0441\u043f\u043e\u0440\u0442, \u0447\u0430\u0442\u044b, \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u044b.</li> <li>\u0421\u0443\u0442\u044c: \u0412\u043c\u0435\u0441\u0442\u043e \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u043b\u0431\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 (\"\u0446\u0435\u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0430\u0441\u044c?\"), \u0442\u044b \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0448\u044c \u043e\u0434\u043d\u043e \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435. \u0421\u0435\u0440\u0432\u0435\u0440 \u0441\u0430\u043c \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u0435\u0442 \u0442\u0435\u0431\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f (Push-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f) \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 JSON, \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e-\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442. \u042d\u0442\u043e \u0441\u0430\u043c\u044b\u0439 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0441\u0431\u043e\u0440\u0430 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u043e \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u044f (<code>while True</code>).</li> </ul>"},{"location":"tools_overview/#8-mobile-app-api-mitm","title":"8. \"\u0427\u0435\u0440\u043d\u044b\u0439 \u0445\u043e\u0434\" (Mobile App API / MITM)","text":"<ul> <li>\u0421\u0442\u0435\u043a: <code>mitmproxy</code> / <code>Charles Proxy</code> (\u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442\u0430) -&gt; <code>httpx</code> (\u0434\u043b\u044f \u043f\u043e\u0432\u0442\u043e\u0440\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432).</li> <li>\u0414\u043b\u044f \u0447\u0435\u0433\u043e: \u041a\u043e\u0433\u0434\u0430 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442 \u0437\u0430\u0449\u0438\u0449\u0435\u043d \u043a\u0430\u043a \u041f\u0435\u043d\u0442\u0430\u0433\u043e\u043d (Cloudflare, Captcha \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u043a\u043b\u0438\u043a\u0435), \u0430 \u0443 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0435\u0441\u0442\u044c \u041c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435.</li> <li>\u0421\u0443\u0442\u044c: \u0417\u0430\u0449\u0438\u0442\u0443 \u043d\u0430 \u0432\u0435\u0431 \u0441\u0442\u0430\u0432\u044f\u0442 \u0447\u0430\u0441\u0442\u043e, \u0430 \u043f\u0440\u043e API \u0434\u043b\u044f \u043c\u043e\u0431\u0438\u043b\u043e\u043a \u0437\u0430\u0431\u044b\u0432\u0430\u044e\u0442 \u0438\u043b\u0438 \u043b\u0435\u043d\u044f\u0442\u0441\u044f. \u0422\u044b \u0431\u0435\u0440\u0435\u0448\u044c \u044d\u043c\u0443\u043b\u044f\u0442\u043e\u0440 Android, \u0441\u0442\u0430\u0432\u0438\u0448\u044c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 <code>mitmproxy</code>, \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0448\u044c \u0438\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438 \u0441\u043c\u043e\u0442\u0440\u0438\u0448\u044c, \u043a\u0443\u0434\u0430 \u043e\u043d\u043e \u0441\u0442\u0443\u0447\u0438\u0442\u0441\u044f. \u0427\u0430\u0441\u0442\u043e \u0442\u0430\u043c \u043b\u0435\u0442\u0430\u0435\u0442 \u0447\u0438\u0441\u0442\u0435\u0439\u0448\u0438\u0439 JSON \u0432\u043e\u043e\u0431\u0449\u0435 \u0431\u0435\u0437 \u0437\u0430\u0449\u0438\u0442\u044b \u0438\u043b\u0438 \u0441 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043d\u044b\u043c \u0442\u043e\u043a\u0435\u043d\u043e\u043c. \u042d\u0442\u043e \"\u0417\u043e\u043b\u043e\u0442\u0430\u044f \u0436\u0438\u043b\u0430\", \u043f\u0440\u043e \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0437\u0430\u0431\u044b\u0432\u0430\u044e\u0442 \u043d\u043e\u0432\u0438\u0447\u043a\u0438, \u0434\u043e\u043b\u0431\u044f\u0441\u044c \u0432 \u0437\u0430\u043a\u0440\u044b\u0442\u0443\u044e \u0432\u0435\u0431-\u0434\u0432\u0435\u0440\u044c.</li> </ul>"},{"location":"topic_01_intro/","title":"\u0422\u0435\u043c\u0430 1: \u0412\u0432\u043e\u0434\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c: SSR, CSR, SPA \u0438 Hydration. \u0412 \u0447\u0435\u043c \u0440\u0430\u0437\u043d\u0438\u0446\u0430 \u0438 \u043a\u0430\u043a \u0438\u0445 \u043e\u0442\u043b\u0438\u0447\u0438\u0442\u044c \u0437\u0430 5 \u0441\u0435\u043a\u0443\u043d\u0434?","text":"<p>\u0427\u0442\u043e\u0431\u044b \u043d\u0435 \u0442\u0443\u043f\u0438\u0442\u044c \u043d\u0430\u0434 \u043f\u0443\u0441\u0442\u044b\u043c \u0441\u0443\u043f\u043e\u043c \u0438\u0437 <code>BeautifulSoup</code>, \u0442\u044b \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u043e\u043d\u0438\u043c\u0430\u0442\u044c, \u041a\u0422\u041e \u0438 \u0413\u0414\u0415 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443. \u0415\u0441\u0442\u044c \u0432\u0441\u0435\u0433\u043e \u0442\u0440\u0438 \u0441\u0442\u0443\u043b\u0430. \u041d\u0430 \u043a\u0430\u043a\u043e\u0439 \u0441\u044f\u0434\u0435\u0448\u044c \u2014 \u0442\u0430\u043a \u043f\u0430\u0440\u0441\u0435\u0440 \u0438 \u043d\u0430\u043f\u0438\u0448\u0435\u0448\u044c.</p>"},{"location":"topic_01_intro/#1-ssr-server-side-rendering","title":"1. SSR (Server-Side Rendering) \u2014 \"\u041a\u043b\u0430\u0441\u0441\u0438\u043a\u0430\"","text":"<p>\u042d\u0442\u043e \u0441\u0442\u0430\u0440\u0430\u044f \u0448\u043a\u043e\u043b\u0430 (Django, PHP, WordPress).</p> <ul> <li>\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442: \u0422\u0432\u043e\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u0435\u043b\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441. \u0421\u0435\u0440\u0432\u0435\u0440 \u043d\u0430 \u0431\u044d\u043a\u0435\u043d\u0434\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 HTML, \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0442\u0443\u0434\u0430 \u0446\u0435\u043d\u044b, \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438, \u0442\u0435\u043a\u0441\u0442 \u0438 \u043e\u0442\u043f\u043b\u0435\u0432\u044b\u0432\u0430\u0435\u0442 \u0442\u0435\u0431\u0435 \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442.</li> <li>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0422\u044b \u0437\u0430\u043a\u0430\u0437\u0430\u043b \u043f\u0438\u0446\u0446\u0443. \u0422\u0435\u0431\u0435 \u043f\u0440\u0438\u0432\u0435\u0437\u043b\u0438 \u0433\u043e\u0440\u044f\u0447\u0443\u044e \u043f\u0438\u0446\u0446\u0443 \u0432 \u043a\u043e\u0440\u043e\u0431\u043a\u0435. \u041e\u0442\u043a\u0440\u044b\u043b \u2014 \u0435\u0448\u044c.</li> <li>\u0414\u043b\u044f \u043f\u0430\u0440\u0441\u0435\u0440\u0430: \u0420\u0430\u0439. \u0422\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c \u0432\u0441\u0451 \u0438 \u0441\u0440\u0430\u0437\u0443 \u0432 \u043f\u0435\u0440\u0432\u043e\u043c \u0436\u0435 \u043e\u0442\u0432\u0435\u0442\u0435.</li> <li>\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442: <code>httpx</code> + <code>lxml</code> (\u0438\u043b\u0438 <code>BeautifulSoup</code>).</li> <li>\u041f\u0440\u0438\u0437\u043d\u0430\u043a: \u041e\u0442\u043a\u0440\u044b\u043b <code>Ctrl+U</code> (\u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u043a\u043e\u0434), \u043d\u0430\u0436\u0430\u043b <code>Ctrl+F</code>, \u0432\u0431\u0438\u043b \u0446\u0435\u043d\u0443 \u2014 \u043d\u0430\u0448\u0435\u043b.</li> </ul>"},{"location":"topic_01_intro/#2-csr-client-side-rendering","title":"2. CSR (Client-Side Rendering) \u2014 \"\u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0410\u0434\"","text":"<p>\u042d\u0442\u043e React, Vue, Angular \u0432 \u0447\u0438\u0441\u0442\u043e\u043c \u0432\u0438\u0434\u0435.</p> <ul> <li> <p>\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442: \u0422\u0432\u043e\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u0435\u043b\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441. \u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0442\u0434\u0430\u0435\u0442 \u043f\u043e\u0447\u0442\u0438 \u043f\u0443\u0441\u0442\u043e\u0439 HTML: \u0411\u0440\u0430\u0443\u0437\u0435\u0440 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u044d\u0442\u043e\u0442 \u0441\u043a\u0435\u043b\u0435\u0442, \u043a\u0430\u0447\u0430\u0435\u0442 \u0436\u0438\u0440\u043d\u044b\u0439 JS-\u0444\u0430\u0439\u043b, \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u0435\u0433\u043e, \u0438 \u044d\u0442\u043e\u0442 JS \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u0441\u0442\u0443\u0447\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 (API), \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432.</p> <pre><code>&lt;body&gt;\n    &lt;div id=\"app\"&gt;&lt;/div&gt;\n    &lt;script src=\"bundle.js\"&gt;&lt;/script&gt; &lt;!-- \u0412\u0441\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u0442\u0443\u0442 --&gt;\n&lt;/body&gt;\n</code></pre> </li> <li> <p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0422\u044b \u0437\u0430\u043a\u0430\u0437\u0430\u043b \u043f\u0438\u0446\u0446\u0443. \u0422\u0435\u0431\u0435 \u043f\u0440\u0438\u0432\u0435\u0437\u043b\u0438 \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u0441 \u0441\u044b\u0440\u044b\u043c \u0442\u0435\u0441\u0442\u043e\u043c, \u043f\u043e\u043c\u0438\u0434\u043e\u0440\u0430\u043c\u0438 \u0438 \u043f\u043e\u0432\u0430\u0440\u043e\u043c-\u0438\u0442\u0430\u043b\u044c\u044f\u043d\u0446\u0435\u043c. \u041f\u043e\u0432\u0430\u0440 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u043f\u0438\u0446\u0446\u0443 \u0443 \u0442\u0435\u0431\u044f \u043d\u0430 \u043a\u0443\u0445\u043d\u0435.</p> </li> <li>\u0414\u043b\u044f \u043f\u0430\u0440\u0441\u0435\u0440\u0430: \u0415\u0441\u043b\u0438 \u0442\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043a\u0430\u0447\u0430\u0435\u0448\u044c HTML (<code>requests.get</code>), \u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0448\u044c \u043f\u0443\u0441\u0442\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 (<code>&lt;div id=\"app\"&gt;</code>). \u0414\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u043c \u043d\u0435\u0442.</li> <li>\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442:<ul> <li>\u041f\u0443\u0442\u044c \u0434\u0436\u0435\u0434\u0430\u044f: \u0418\u0441\u043a\u0430\u0442\u044c API (\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u0435\u043b\u0430\u0435\u0442 \u043f\u043e\u0432\u0430\u0440).</li> <li>\u041f\u0443\u0442\u044c \u0442\u0430\u043d\u043a\u0430: \u042d\u043c\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 (<code>Playwright</code>), \u0447\u0442\u043e\u0431\u044b JS \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043b.</li> </ul> </li> <li>\u041f\u0440\u0438\u0437\u043d\u0430\u043a: \u041e\u0442\u043a\u0440\u044b\u043b <code>Ctrl+U</code>, \u0432\u0431\u0438\u043b \u0446\u0435\u043d\u0443 \u2014 \u043d\u0435 \u043d\u0430\u0448\u0435\u043b. \u0412 \u043a\u043e\u0434\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043a\u0440\u0438\u043f\u0442\u044b.</li> </ul>"},{"location":"topic_01_intro/#3-spa-single-page-application","title":"3. SPA (Single Page Application)","text":"<p>\u042d\u0442\u043e \u043f\u043e\u0434\u0432\u0438\u0434 CSR. \u0421\u0430\u0439\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437, \u0430 \u0434\u0430\u043b\u044c\u0448\u0435 \u043f\u0440\u0438 \u043a\u043b\u0438\u043a\u0430\u0445 \u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e, \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442.</p> <ul> <li>\u0414\u043b\u044f \u043f\u0430\u0440\u0441\u0435\u0440\u0430: \u042d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e URL \u0432 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u043c\u043e\u0436\u0435\u0442 \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f, \u0430 HTML \u2014 \u043d\u0435\u0442. \u0422\u0443\u0442 \u043f\u0430\u0440\u0441\u0438\u043d\u0433 \u0447\u0435\u0440\u0435\u0437 API \u2014 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0430\u0434\u0435\u043a\u0432\u0430\u0442\u043d\u044b\u0439 \u043f\u0443\u0442\u044c.</li> </ul>"},{"location":"topic_01_intro/#4-hydration-universal-rendering","title":"4. Hydration (Universal Rendering) \u2014 \"\u0421\u043a\u0440\u044b\u0442\u043e\u0435 \u0421\u043e\u043a\u0440\u043e\u0432\u0438\u0449\u0435\"","text":"<p>\u042d\u0442\u043e \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0442\u0438\u043f\u0430 Next.js \u0438\u043b\u0438 Nuxt.js. \u041e\u043d\u0438 \u043f\u044b\u0442\u0430\u044e\u0442\u0441\u044f \u0443\u0441\u0438\u0434\u0435\u0442\u044c \u043d\u0430 \u0434\u0432\u0443\u0445 \u0441\u0442\u0443\u043b\u044c\u044f\u0445: \u0447\u0442\u043e\u0431\u044b \u0438 \u0440\u043e\u0431\u043e\u0442\u044b (SEO) \u0432\u0438\u0434\u0435\u043b\u0438 \u0442\u0435\u043a\u0441\u0442, \u0438 \u044e\u0437\u0435\u0440\u0430\u043c \u0431\u044b\u043b\u043e \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e.</p> <ul> <li>\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442: \u0421\u0435\u0440\u0432\u0435\u0440 \u043e\u0442\u0434\u0430\u0435\u0442 \u0433\u043e\u0442\u043e\u0432\u044b\u0439 HTML (\u043a\u0430\u043a \u0432 SSR), \u041d\u041e... \u0447\u0442\u043e\u0431\u044b React \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0435 \"\u043e\u0436\u0438\u043b\" (\u0433\u0438\u0434\u0440\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0441\u044f) \u0438 \u043d\u0435 \u043f\u0435\u0440\u0435\u0440\u0438\u0441\u043e\u0432\u044b\u0432\u0430\u043b \u0432\u0441\u0451 \u0437\u0430\u043d\u043e\u0432\u043e, \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0448\u0438\u0432\u0430\u0435\u0442 \u0412\u0421\u0415 \u0414\u0410\u041d\u041d\u042b\u0415 \u0432 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432 \u0432\u0438\u0434\u0435 JSON.</li> <li>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0422\u0435\u0431\u0435 \u043f\u0440\u0438\u0432\u0435\u0437\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0443\u044e \u043f\u0438\u0446\u0446\u0443, \u0430 \u043d\u0430 \u0434\u043d\u0435 \u043a\u043e\u0440\u043e\u0431\u043a\u0438 \u043f\u0440\u0438\u043a\u043b\u0435\u0435\u043d \u0447\u0435\u043a \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u0432\u0441\u0435\u0445 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u043e\u0432 \u0432 \u0433\u0440\u0430\u043c\u043c\u0430\u0445.</li> <li>\u0413\u0434\u0435 \u0438\u0441\u043a\u0430\u0442\u044c: \u041e\u0431\u044b\u0447\u043d\u043e \u044d\u0442\u043e \u0442\u0435\u0433 <code>&lt;script id=\"__NEXT_DATA__\" type=\"application/json\"&gt;</code> \u0438\u043b\u0438 <code>window.__NUXT__</code>.</li> <li>\u0414\u043b\u044f \u043f\u0430\u0440\u0441\u0435\u0440\u0430: \u042d\u0442\u043e \u0434\u0436\u0435\u043a\u043f\u043e\u0442. \u0422\u0435\u0431\u0435 \u043d\u0435 \u043d\u0430\u0434\u043e \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u043a\u0440\u0438\u0432\u043e\u0439 HTML \u0441 \u0442\u0435\u0433\u0430\u043c\u0438 <code>div</code>. \u0422\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u043e\u0441\u0442\u0430\u0435\u0448\u044c \u044d\u0442\u043e\u0442 JSON \u0438 \u0443 \u0442\u0435\u0431\u044f \u0435\u0441\u0442\u044c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0447\u0438\u0449\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 API.</li> <li>\u041f\u0440\u0438\u0437\u043d\u0430\u043a: \u0412 <code>Ctrl+U</code> \u0434\u0430\u043d\u043d\u044b\u0435 \u0435\u0441\u0442\u044c, \u043d\u043e \u0432\u043e\u043a\u0440\u0443\u0433 \u043c\u043d\u043e\u0433\u043e \u0441\u0442\u0440\u0430\u043d\u043d\u044b\u0445 \u0442\u0435\u0433\u043e\u0432, \u0430 \u0432\u043d\u0438\u0437\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u043a\u0443\u0441\u043e\u043a \u043a\u043e\u0434\u0430 \u0441 JSON.</li> </ul>"},{"location":"topic_01_intro/#5","title":"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f \u0410\u041b\u0413\u041e\u0420\u0418\u0422\u041c: \u0414\u0435\u0442\u0435\u043a\u0442\u0438\u043c \u0442\u0438\u043f \u0441\u0430\u0439\u0442\u0430 \u0437\u0430 5 \u0441\u0435\u043a\u0443\u043d\u0434","text":"<p>\u0422\u044b \u0437\u0430\u0448\u0435\u043b \u043d\u0430 \u0441\u0430\u0439\u0442 \u0436\u0435\u0440\u0442\u0432\u044b. \u0422\u0432\u043e\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f:</p> <ol> <li>\u041c\u0435\u0442\u043e\u0434 \"\u041c\u043e\u0440\u0433\u0430\u043d\u0438\u0435\":<ul> <li>\u0416\u043c\u0435\u0448\u044c F5.</li> <li>\u0415\u0441\u043b\u0438 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043f\u043e\u044f\u0432\u0438\u043b\u0441\u044f \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u2014 SSR \u0438\u043b\u0438 Hydration.</li> <li>\u0415\u0441\u043b\u0438 \u0443\u0432\u0438\u0434\u0435\u043b \u0431\u0435\u043b\u044b\u0439 \u044d\u043a\u0440\u0430\u043d/\u043b\u043e\u0430\u0434\u0435\u0440 \u043d\u0430 \u0434\u043e\u043b\u044e \u0441\u0435\u043a\u0443\u043d\u0434\u044b \u2014 CSR.</li> </ul> </li> <li>\u041c\u0435\u0442\u043e\u0434 \"Ctrl+U\" (\u0416\u0435\u043b\u0435\u0437\u043d\u0430\u044f \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f):<ul> <li>\u041f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 -&gt; \"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u0434\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\" (View Source).</li> <li><code>Ctrl+F</code> -&gt; \u0412\u0431\u0438\u0432\u0430\u0435\u0448\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0441\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0446\u0435\u043d\u0443 \"12 990 \u20bd\" \u0438\u043b\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430).</li> <li>\ud83d\udd34 \u041d\u0430\u0448\u0435\u043b \u0432\u043d\u0443\u0442\u0440\u0438 HTML-\u0442\u0435\u0433\u043e\u0432 (<code>&lt;h1&gt;\u0422\u043e\u0432\u0430\u0440&lt;/h1&gt;</code>) -&gt; SSR.<ul> <li>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u041f\u0430\u0440\u0441\u0438\u043c HTML (<code>lxml</code>, <code>BS4</code>).</li> </ul> </li> <li>\ud83d\udfe1 \u041d\u0430\u0448\u0435\u043b \u0432\u043d\u0443\u0442\u0440\u0438 <code>&lt;script&gt;</code> \u0438\u043b\u0438 JSON-\u0441\u0442\u0440\u043e\u043a\u0438 -&gt; Hydration.<ul> <li>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u0412\u044b\u0440\u0435\u0437\u0430\u0435\u043c JSON (<code>re</code>, <code>json</code>), HTML \u043d\u0435 \u0442\u0440\u043e\u0433\u0430\u0435\u043c.</li> </ul> </li> <li>\u26ab \u041d\u0435 \u043d\u0430\u0448\u0435\u043b \u0432\u043e\u043e\u0431\u0449\u0435 -&gt; CSR.<ul> <li>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u0418\u0434\u0435\u043c \u0432 Network \u0438\u0441\u043a\u0430\u0442\u044c API. HTML \u0431\u0435\u0441\u043f\u043e\u043b\u0435\u0437\u0435\u043d.</li> </ul> </li> </ul> </li> </ol> <p>\u0420\u0435\u0437\u044e\u043c\u0435 \u0434\u043b\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430: \u041d\u0435 \u043f\u044b\u0442\u0430\u0439\u0441\u044f \u043f\u0430\u0440\u0441\u0438\u0442\u044c CSR \u0447\u0435\u0440\u0435\u0437 <code>BeautifulSoup</code> \u2014 \u043f\u043e\u043b\u0443\u0447\u0438\u0448\u044c \u043f\u0443\u0441\u0442\u043e\u0442\u0443. \u041d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0439 <code>Playwright</code> \u043d\u0430 SSR \u0441\u0430\u0439\u0442\u0435 \u2014 \u044d\u0442\u043e \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u0430 \u0438\u0437 \u043f\u0443\u0448\u043a\u0438 \u043f\u043e \u0432\u043e\u0440\u043e\u0431\u044c\u044f\u043c. \u0412\u0441\u0435\u0433\u0434\u0430 \u0438\u0449\u0438 Hydration-\u0434\u0430\u043d\u043d\u044b\u0435 \u2014 \u044d\u0442\u043e \u0441\u0430\u043c\u044b\u0439 \u0447\u0438\u0441\u0442\u044b\u0439 \u043d\u0430\u0440\u043a\u043e\u0442\u0438\u043a \u0434\u043b\u044f \u043f\u0430\u0440\u0441\u0435\u0440\u0430.</p>"},{"location":"topic_02_hidden_json/","title":"\u0422\u0435\u043c\u0430 2: \u0421\u043a\u0440\u044b\u0442\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435: \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 Next.js Data / Nuxt State \u0438 \u043a\u0430\u043a \u0432\u044b\u0442\u0430\u0449\u0438\u0442\u044c JSON \u043f\u0440\u044f\u043c\u043e \u0438\u0437 HTML \u0431\u0435\u0437 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0442\u0435\u0433\u043e\u0432?","text":"<p>\u0417\u0430\u0431\u0443\u0434\u044c \u043f\u0440\u043e <code>soup.find('div', class_='price-v2-red')</code>. \u042d\u0442\u043e \u0434\u043b\u044f \u0448\u043a\u043e\u043b\u044c\u043d\u0438\u043a\u043e\u0432. \u041a\u043b\u0430\u0441\u0441\u044b \u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f, \u0432\u0435\u0440\u0441\u0442\u043a\u0430 \u0435\u0434\u0435\u0442, \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u044b \u0434\u0432\u0438\u0433\u0430\u044e\u0442 \u043a\u043d\u043e\u043f\u043a\u0438. \u0414\u0430\u043d\u043d\u044b\u0435 (\"State\" \u0438\u043b\u0438 \"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\") \u2014 \u0432\u0435\u0447\u043d\u044b.</p> <p>\u0415\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u043d \u043d\u0430 Next.js (React) \u0438\u043b\u0438 Nuxt.js (Vue), \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u043d\u0430\u043c \u043f\u043e\u0434\u0430\u0440\u043e\u043a. \u041e\u043d\u0438 \u043e\u0431\u044f\u0437\u0430\u043d\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0443 \"\u0441\u043b\u0435\u043f\u043e\u043a\" \u0432\u0441\u0435\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u0447\u0442\u043e\u0431\u044b JS-\u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0437\u043d\u0430\u043b, \u0447\u0442\u043e \u0440\u0438\u0441\u043e\u0432\u0430\u0442\u044c. \u0418 \u044d\u0442\u043e\u0442 \u0441\u043b\u0435\u043f\u043e\u043a \u043b\u0435\u0436\u0438\u0442 \u0432 HTML \u0432 \u0432\u0438\u0434\u0435 \u0442\u0435\u043a\u0441\u0442\u0430.</p> <p>\u041d\u0430\u0448\u0430 \u0437\u0430\u0434\u0430\u0447\u0430: \u0425\u0438\u0440\u0443\u0440\u0433\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u044b\u0440\u0435\u0437\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u043a\u0443\u0441\u043e\u043a \u0438 \u043f\u0440\u0435\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u0432 Python Dictionary.</p>"},{"location":"topic_02_hidden_json/#1","title":"1. \u0413\u0434\u0435 \u043b\u0435\u0436\u0438\u0442 \u043a\u043b\u0430\u0434? (\u0410\u043d\u0430\u0442\u043e\u043c\u0438\u044f)","text":""},{"location":"topic_02_hidden_json/#nextjs","title":"\u0422\u0438\u043f \u0410: Next.js (\u0421\u0430\u043c\u044b\u0439 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0439)","text":"<p>\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 Next.js \u2014 \u0441\u0432\u044f\u0442\u044b\u0435 \u043b\u044e\u0434\u0438. \u041e\u043d\u0438 \u043a\u043b\u0430\u0434\u0443\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0442\u0435\u0433 \u0441 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c ID. \u042d\u0442\u043e \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 JSON.</p> <ul> <li> <p>\u041a\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442:</p> <pre><code>&lt;script id=\"__NEXT_DATA__\" type=\"application/json\"&gt;\n{\"props\":{\"pageProps\":{\"product\":{\"id\":123,\"name\":\"Iphone\",\"price\":999}}}}\n&lt;/script&gt;\n</code></pre> </li> <li> <p>\u0427\u0442\u043e \u0432\u043d\u0443\u0442\u0440\u0438: \u0412\u043e\u043e\u0431\u0449\u0435 \u0432\u0441\u0451. \u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u0442\u043e\u0432\u0430\u0440\u0435, \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438, \u0445\u043b\u0435\u0431\u043d\u044b\u0435 \u043a\u0440\u043e\u0448\u043a\u0438, \u0438 \u0447\u0430\u0441\u0442\u043e \u0434\u0430\u0436\u0435 \u0442\u043e, \u0447\u0442\u043e \u0441\u043a\u0440\u044b\u0442\u043e \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 (\u043e\u0441\u0442\u0430\u0442\u043a\u0438 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435, \u0441\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 ID).</p> </li> </ul>"},{"location":"topic_02_hidden_json/#nuxtjs-redux-state-global-variables","title":"\u0422\u0438\u043f \u0411: Nuxt.js / Redux State / Global Variables","text":"<p>\u0422\u0443\u0442 \u0441\u043b\u043e\u0436\u043d\u0435\u0435. \u042d\u0442\u043e \u043d\u0435 \u0447\u0438\u0441\u0442\u044b\u0439 JSON, \u0430 JavaScript-\u043e\u0431\u044a\u0435\u043a\u0442. \u041a\u043b\u044e\u0447\u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0431\u0435\u0437 \u043a\u0430\u0432\u044b\u0447\u0435\u043a, \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c <code>undefined</code>.</p> <ul> <li> <p>\u041a\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442: \u0418\u043b\u0438:</p> <pre><code>&lt;script&gt;window.__NUXT__=(function(a,b){return {state:{product:{name:\"Iphone\"}}...}});&lt;/script&gt;\n</code></pre> <pre><code>&lt;script&gt;window.initialState = {user: {id: 1, name: 'Alex'}}&lt;/script&gt;\n</code></pre> </li> </ul>"},{"location":"topic_02_hidden_json/#2","title":"2. \u0427\u0435\u043c \u0434\u043e\u0431\u044b\u0432\u0430\u0442\u044c? (\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439)","text":""},{"location":"topic_02_hidden_json/#nextjs-json","title":"\u0414\u043b\u044f Next.js (\u0427\u0438\u0441\u0442\u044b\u0439 JSON)","text":"<p>\u0422\u0435\u0431\u0435 \u043d\u0443\u0436\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 <code>json</code> \u0438 \u043b\u044e\u0431\u043e\u0439 HTML-\u043f\u0430\u0440\u0441\u0435\u0440 (\u0445\u043e\u0442\u044c <code>BeautifulSoup</code>, \u0445\u043e\u0442\u044c <code>Selectolax</code>), \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0442\u0435\u0433.</p>"},{"location":"topic_02_hidden_json/#nuxtjs-js-chompjs","title":"\u0414\u043b\u044f Nuxt.js \u0438 \"\u0413\u0440\u044f\u0437\u043d\u043e\u0433\u043e JS\" (\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>chompjs</code>)","text":"<p>\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 <code>json.loads()</code> \u0443\u043f\u0430\u0434\u0435\u0442 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e <code>{key: \"value\"}</code> (\u0431\u0435\u0437 \u043a\u0430\u0432\u044b\u0447\u0435\u043a \u0443 \u043a\u043b\u044e\u0447\u0430) \u2014 \u044d\u0442\u043e \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 JS, \u043d\u043e \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 JSON. \u0422\u0443\u0442 \u043d\u0430 \u0441\u0446\u0435\u043d\u0443 \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>chompjs</code>.</p> <ul> <li>\u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442: \u041e\u043d\u0430 \u0431\u0435\u0440\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u043a\u0440\u0438\u0432\u044b\u043c JS-\u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u0438 \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0435\u0451 \u0432 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 Python dict. \u041e\u043d\u0430 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0438 \u043c\u0443\u0441\u043e\u0440, \u0432\u044b\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u0430\u043d\u043d\u044b\u0435.</li> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430: <code>pip install chompjs</code></li> </ul>"},{"location":"topic_02_hidden_json/#3-code-snippets","title":"3. \u0422\u0435\u0445\u043d\u0438\u043a\u0430 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f (Code Snippets)","text":""},{"location":"topic_02_hidden_json/#1-nextjs","title":"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 1: \u0418\u0434\u0435\u0430\u043b\u044c\u043d\u044b\u0439 Next.js","text":"<pre><code>import json\nfrom bs4 import BeautifulSoup # \u0418\u043b\u0438 Selectolax, \u043d\u0435\u0432\u0430\u0436\u043d\u043e\nimport httpx\n\nhtml = httpx.get(\"&lt;https://example-nextjs-site.com&gt;\").text\nsoup = BeautifulSoup(html, \"lxml\")\n\n# 1. \u0418\u0449\u0435\u043c \u0442\u0435\u0433 \u043f\u043e ID\nscript_tag = soup.find(\"script\", id=\"__NEXT_DATA__\")\n\nif script_tag:\n    # 2. \u0411\u0435\u0440\u0435\u043c \u0442\u0435\u043a\u0441\u0442 \u0432\u043d\u0443\u0442\u0440\u0438\n    json_text = script_tag.string\n\n    # 3. \u041f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c\n    data = json.loads(json_text)\n\n    # 4. \u0420\u0430\u0434\u0443\u0435\u043c\u0441\u044f. \u041f\u0443\u0442\u044c \u0434\u043e \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044b\u0447\u043d\u043e \u0434\u043b\u0438\u043d\u043d\u044b\u0439, \u043d\u043e \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439:\n    product = data['props']['pageProps']['product']\n    print(f\"\u0422\u043e\u0432\u0430\u0440: {product['name']}, \u0426\u0435\u043d\u0430: {product['price']}\")\n</code></pre>"},{"location":"topic_02_hidden_json/#2-js-nuxtother","title":"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 2: \u0413\u0440\u044f\u0437\u043d\u044b\u0439 JS (Nuxt/Other)","text":"<pre><code>import chompjs\nimport httpx\nfrom bs4 import BeautifulSoup\n\nhtml = httpx.get(\"&lt;https://example-nuxt-site.com&gt;\").text\nsoup = BeautifulSoup(html, \"lxml\")\n\n# 1. \u0418\u0449\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u043a\u043b\u044e\u0447\u0435\u0432\u0443\u044e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e\n# \u0422\u0443\u0442 \u043f\u0440\u0438\u0434\u0435\u0442\u0441\u044f \u043f\u043e\u0438\u0441\u043a\u0430\u0442\u044c \u0433\u043b\u0430\u0437\u0430\u043c\u0438 \u0432 Ctrl+U, \u043a\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f:\n# __NUXT__, __INITIAL_STATE__, window.App\nscripts = soup.find_all(\"script\")\ntarget_script = None\n\nfor script in scripts:\n    if script.string and \"window.__NUXT__\" in script.string:\n        target_script = script.string\n        break\n\nif target_script:\n    # 2. \u0421\u043a\u0430\u0440\u043c\u043b\u0438\u0432\u0430\u0435\u043c \u0412\u0415\u0421\u042c \u043a\u0443\u0441\u043e\u043a \u043a\u043e\u0434\u0430 \u0432 chompjs\n    # \u041e\u043d \u0441\u0430\u043c \u043d\u0430\u0439\u0434\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 \u0438 \u0440\u0430\u0441\u043f\u0430\u0440\u0441\u0438\u0442 \u0435\u0433\u043e\n    data = chompjs.parse_js_object(target_script)\n\n    print(data) # \u042d\u0442\u043e \u0443\u0436\u0435 Python Dict\n</code></pre>"},{"location":"topic_02_hidden_json/#html","title":"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f \u041f\u043e\u0447\u0435\u043c\u0443 \u044d\u0442\u043e \u043b\u0443\u0447\u0448\u0435, \u0447\u0435\u043c \u043f\u0430\u0440\u0441\u0438\u0442\u044c HTML?","text":"<ol> <li>\u041f\u043e\u043b\u043d\u043e\u0442\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u0412 HTML \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043e \"\u0426\u0435\u043d\u0430 \u0441\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439\", \u0430 \u0432 JSON \u043b\u0435\u0436\u0430\u0442 \u043f\u043e\u043b\u044f <code>price_regular</code>, <code>price_discount</code>, <code>currency</code>, <code>vat_rate</code>. \u0422\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c \u0441\u044b\u0440\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0431\u0430\u0437\u044b.</li> <li>\u0422\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f: \u0412 HTML \"1 000 \u0440\u0443\u0431.\" \u2014 \u044d\u0442\u043e \u0441\u0442\u0440\u043e\u043a\u0430 \u0441 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u043c \u0438 \u043c\u0443\u0441\u043e\u0440\u043e\u043c. \u0412 JSON \u044d\u0442\u043e <code>1000</code> (integer). \u041d\u0435 \u043d\u0430\u0434\u043e \u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435.</li> <li>\u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c: \u0412\u0435\u0440\u0441\u0442\u043a\u0443 (CSS-\u043a\u043b\u0430\u0441\u0441\u044b) \u043c\u0435\u043d\u044f\u044e\u0442 \u0440\u0430\u0437 \u0432 \u043c\u0435\u0441\u044f\u0446. \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 (<code>props</code>) \u043c\u0435\u043d\u044f\u044e\u0442 \u0440\u0430\u0437 \u0432 \u0433\u043e\u0434, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u044d\u0442\u043e \u043b\u043e\u043c\u0430\u0435\u0442 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434.</li> </ol> <p>\u0420\u0435\u0437\u044e\u043c\u0435: \u041f\u0435\u0440\u0435\u0434 \u0442\u0435\u043c \u043a\u0430\u043a \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u043a\u043b\u0430\u0441\u0441\u044b <code>div</code>'\u043e\u0432, \u043f\u043e\u0442\u0440\u0430\u0442\u044c 5 \u043c\u0438\u043d\u0443\u0442 \u043d\u0430 \u043f\u043e\u0438\u0441\u043a <code>__NEXT_DATA__</code> \u0438\u043b\u0438 <code>window.__STATE__</code>. \u0415\u0441\u043b\u0438 \u043d\u0430\u0439\u0434\u0435\u0448\u044c \u2014 \u0441\u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0448\u044c 5 \u0447\u0430\u0441\u043e\u0432 \u043e\u0442\u043b\u0430\u0434\u043a\u0438.</p>"},{"location":"topic_03_protocols/","title":"\u0422\u0435\u043c\u0430 3: \u0421\u0435\u0442\u0435\u0432\u044b\u0435 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u044b: HTTP/1.1 vs HTTP/2 vs WebSockets. \u041f\u043e\u0447\u0435\u043c\u0443 \u0441\u0430\u0439\u0442 \u043c\u043e\u0436\u0435\u0442 \u0431\u0430\u043d\u0438\u0442\u044c \u0437\u0430 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0430?","text":"<p>\u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434, \u043f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c User-Agent \u043e\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0410\u0439\u0444\u043e\u043d\u0430, \u043d\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0441\u0435 \u0440\u0430\u0432\u043d\u043e \u043f\u043e\u0448\u043b\u0435\u0442 \u0442\u0435\u0431\u044f \u043d\u0430\u0445\u0435\u0440 (403 Forbidden). \u041f\u043e\u0447\u0435\u043c\u0443? \u041f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0442\u044b \u0441\u0442\u0443\u0447\u0438\u0448\u044c\u0441\u044f \u0432 \u0434\u0432\u0435\u0440\u044c \u043a\u0430\u043a \u0434\u0438\u043d\u043e\u0437\u0430\u0432\u0440.</p> <p>\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b \u2014 \u044d\u0442\u043e \u044f\u0437\u044b\u043a \u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u0415\u0441\u043b\u0438 \u0442\u044b \u0433\u043e\u0432\u043e\u0440\u0438\u0448\u044c \u043d\u0430 \u0441\u0442\u0430\u0440\u043e\u0441\u043b\u0430\u0432\u044f\u043d\u0441\u043a\u043e\u043c (HTTP/1.1) \u0441 \u0445\u0438\u043f\u0441\u0442\u0435\u0440\u0430\u043c\u0438 (Cloudflare), \u043e\u043d\u0438 \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u043d\u0438\u043c\u0430\u044e\u0442: \"\u0414\u0435\u0434, \u043f\u0435\u0439 \u0442\u0430\u0431\u043b\u0435\u0442\u043a\u0438, \u0442\u044b \u0431\u043e\u0442 \u043d\u0430 \u043f\u0438\u0442\u043e\u043d\u0435\".</p>"},{"location":"topic_03_protocols/#1-http11","title":"1. HTTP/1.1 \u2014 \"\u0414\u0435\u0434\u043e\u0432\u0441\u043a\u0438\u0439 \u043c\u0435\u0442\u043e\u0434\"","text":"<p>\u042d\u0442\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442 1999 \u0433\u043e\u0434\u0430.</p> <ul> <li>\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442: \u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442. \u041e\u0434\u0438\u043d \u0437\u0430\u043f\u0440\u043e\u0441 \u2014 \u043e\u0434\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 (\u0433\u0440\u0443\u0431\u043e \u0433\u043e\u0432\u043e\u0440\u044f). \u0411\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442 \u043e\u0447\u0435\u0440\u0435\u0434\u044c.</li> <li>\u041a\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442: \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>requests</code>. \u0414\u0430, \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>requests</code> \u043d\u0435 \u0443\u043c\u0435\u0435\u0442 \u0432 HTTP/2. \u0412\u043e\u043e\u0431\u0449\u0435.</li> <li>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430: \u0421\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u044b (Chrome, Safari) \u0412\u0421\u0415\u0413\u0414\u0410 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 HTTP/2 \u0438\u043b\u0438 HTTP/3, \u0435\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442.</li> <li>\u0414\u0435\u0442\u0435\u043a\u0442: \u0415\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0438\u0434\u0438\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u043e\u0442 \"Chrome 120\", \u043d\u043e \u043f\u043e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0443 HTTP/1.1 \u2014 \u044d\u0442\u043e \u043a\u0440\u0430\u0441\u043d\u044b\u0439 \u0444\u043b\u0430\u0433. \u042d\u0442\u043e 99% \u0431\u043e\u0442.</li> <li>\u041a\u043e\u0433\u0434\u0430 \u044e\u0437\u0430\u0442\u044c: \u041d\u0430 \u0441\u0442\u0430\u0440\u044b\u0445, \u0434\u044b\u0440\u044f\u0432\u044b\u0445 \u0441\u0430\u0439\u0442\u0430\u0445, \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u043f\u043e\u0440\u0442\u0430\u043b\u0430\u0445, \u0433\u0434\u0435 \u0430\u0434\u043c\u0438\u043d\u044b \u0441\u0430\u043c\u0438 \u0436\u0438\u0432\u0443\u0442 \u0432 90-\u0445.</li> </ul>"},{"location":"topic_03_protocols/#2-http2","title":"2. HTTP/2 \u2014 \"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u043d\u0430\u044f \u043c\u0430\u0433\u0438\u0441\u0442\u0440\u0430\u043b\u044c\"","text":"<p>\u042d\u0442\u043e \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b.</p> <ul> <li>\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442:<ul> <li>\u041c\u0443\u043b\u044c\u0442\u0438\u043f\u043b\u0435\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435: \u041f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044e \u043b\u0435\u0442\u044f\u0442 \u0441\u0440\u0430\u0437\u0443 100 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e (\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438, \u0441\u0442\u0438\u043b\u0438, JSON).</li> <li>\u0421\u0436\u0430\u0442\u0438\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 (HPACK): \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0441\u0436\u0438\u043c\u0430\u044e\u0442\u0441\u044f, \u0442\u0440\u0430\u0444\u0438\u043a \u043c\u0435\u043d\u044c\u0448\u0435.</li> </ul> </li> <li>\u041a\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442: \u0411\u0440\u0430\u0443\u0437\u0435\u0440\u044b. \u0418 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>httpx</code> (\u0435\u0441\u043b\u0438 \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0444\u043b\u0430\u0433).</li> <li>\u0417\u0430\u0447\u0435\u043c \u043f\u0430\u0440\u0441\u0435\u0440\u0443:<ol> <li>\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: \u0420\u0435\u0430\u043b\u044c\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u043d\u0430 \u0431\u043e\u043b\u044c\u0448\u043e\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u043c\u0435\u043b\u043a\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.</li> <li>\u041c\u0438\u043c\u0438\u043a\u0440\u0438\u044f (\u0421\u0430\u043c\u043e\u0435 \u0432\u0430\u0436\u043d\u043e\u0435): \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 HTTP/2 \u0434\u0435\u043b\u0430\u0435\u0442 \u0442\u0432\u043e\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u043e\u0445\u043e\u0436\u0438\u043c \u043d\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440. Cloudflare \u043c\u0435\u043d\u044c\u0448\u0435 \u0430\u0433\u0440\u0438\u0442\u0441\u044f.</li> </ol> </li> <li> <p>\u041a\u0430\u043a \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c:</p> <pre><code>import httpx\n\nclient = httpx.Client(http2=True)  # &lt;--- \u0412\u041e\u0422 \u042d\u0422\u0410 \u041c\u0410\u0413\u0418\u042f\nresp = client.get(\"&lt;https://cloudflare-protected.com&gt;\")\n</code></pre> </li> </ul>"},{"location":"topic_03_protocols/#3-websockets-wswss","title":"3. WebSockets (WS/WSS) \u2014 \"\u041f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440\"","text":"<p>\u042d\u0442\u043e \u0432\u043e\u043e\u0431\u0449\u0435 \u0434\u0440\u0443\u0433\u0430\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f. \u042d\u0442\u043e \u043d\u0435 \"\u0437\u0430\u043f\u0440\u043e\u0441-\u043e\u0442\u0432\u0435\u0442\", \u044d\u0442\u043e \"\u0442\u0440\u0443\u0431\u0430\".</p> <ul> <li>\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442: \u0422\u044b \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u0448\u044c\u0441\u044f (<code>Handshake</code>), \u0438 \u043a\u0430\u043d\u0430\u043b \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c. \u0421\u0435\u0440\u0432\u0435\u0440 \u0441\u0430\u043c \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u0435\u0442 \u0442\u0435\u0431\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f (\u043f\u0443\u0448\u0438), \u043a\u043e\u0433\u0434\u0430 \u0445\u043e\u0447\u0435\u0442. \u0422\u0435\u0431\u0435 \u043d\u0435 \u043d\u0430\u0434\u043e \u0434\u043e\u043b\u0431\u0438\u0442\u044c \u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 \"\u041d\u0443 \u0447\u0442\u043e, \u0446\u0435\u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0430\u0441\u044c?\".</li> <li>\u0413\u0434\u0435 \u0436\u0438\u0432\u0435\u0442:<ul> <li>\u0411\u0438\u0440\u0436\u0438 (Binance, MOEX) \u2014 \u043a\u043e\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u043b\u0435\u0442\u044f\u0442 \u0432 \u0440\u0435\u0430\u043b\u0442\u0430\u0439\u043c\u0435.</li> <li>\u0411\u0443\u043a\u043c\u0435\u043a\u0435\u0440\u044b \u2014 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b \u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u0443\u044e \u0441\u0435\u043a\u0443\u043d\u0434\u0443.</li> <li>\u0427\u0430\u0442\u044b \u2014 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f.</li> </ul> </li> <li>\u041a\u0430\u043a \u043f\u0430\u0440\u0441\u0438\u0442\u044c: \u041e\u0431\u044b\u0447\u043d\u044b\u0439 <code>httpx.get</code> \u0442\u0443\u0442 \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442. \u0422\u0435\u0431\u0435 \u043d\u0443\u0436\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>websockets</code> \u0438\u043b\u0438 <code>aiohttp</code> \u0438 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0446\u0438\u043a\u043b <code>while True</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043b\u0443\u0448\u0430\u0435\u0442 \u0442\u0440\u0443\u0431\u0443.</li> <li> <p>\u041f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>import asyncio\nimport websockets\n\nasync def listen():\n    url = \"wss://stream.binance.com:9443/ws/btcusdt@trade\"\n    async with websockets.connect(url) as ws:\n        while True:\n            msg = await ws.recv()\n            print(f\"\u041f\u0440\u0438\u043b\u0435\u0442\u0435\u043b\u043e: {msg}\")\n\nasyncio.run(listen())\n</code></pre> </li> </ul>"},{"location":"topic_03_protocols/#_1","title":"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f \u0420\u0435\u0437\u044e\u043c\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430: \u041a\u0430\u043a \u043d\u0435 \u0441\u043f\u0430\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0435?","text":"<ol> <li>\u0417\u0430\u0431\u0443\u0434\u044c \u043f\u0440\u043e <code>requests</code> \u043d\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u0445 \u0441\u0430\u0439\u0442\u0430\u0445. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 <code>requests</code> (HTTP/1.1) \u0441 User-Agent \u043e\u0442 Chrome \u2014 \u044d\u0442\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b \u0441\u0435\u0431\u0435 \u0432 \u043d\u043e\u0433\u0443. \u042d\u0442\u043e \u0433\u043b\u0430\u0432\u043d\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0442\u0443\u043f\u044b\u0445 \u0431\u0430\u043d\u043e\u0432.</li> <li>\u042e\u0437\u0430\u0439 <code>httpx</code> \u0441 <code>http2=True</code>. \u042d\u0442\u043e \u0434\u0435\u0448\u0435\u0432\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0432\u044b\u0441\u0438\u0442\u044c \"\u0442\u0440\u0430\u0441\u0442\" (\u0434\u043e\u0432\u0435\u0440\u0438\u0435) \u043a \u0442\u0432\u043e\u0435\u043c\u0443 \u0441\u043a\u0440\u0438\u043f\u0442\u0443.</li> <li>\u0412\u0438\u0434\u0438\u0448\u044c \"Live\" \u0434\u0430\u043d\u043d\u044b\u0435? \u0418\u0449\u0438 WebSockets. \u0415\u0441\u043b\u0438 \u0446\u0438\u0444\u0440\u044b \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0431\u0435\u0433\u0443\u0442, \u0430 \u0432 <code>Network -&gt; Fetch/XHR</code> \u0442\u0438\u0448\u0438\u043d\u0430 \u2014 \u0438\u0434\u0438 \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0443 <code>WS</code>. \u0422\u0430\u043c \u043b\u044c\u0435\u0442\u0441\u044f \u0447\u0438\u0441\u0442\u044b\u0439 \u043f\u043e\u0442\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0434\u0430\u0436\u0435 \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u043d\u0435 \u043d\u0430\u0434\u043e, \u043f\u0440\u043e\u0441\u0442\u043e \u0447\u0438\u0442\u0430\u0439 JSON.</li> </ol> <p>\u0411\u043b\u043e\u043a 1 (\u0422\u0435\u043e\u0440\u0438\u044f \u0436\u0435\u0440\u0442\u0432\u044b) \u0437\u0430\u043a\u0440\u044b\u0442. \u041c\u044b \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u043b\u0438 \u0422\u0438\u043f\u044b \u0441\u0430\u0439\u0442\u043e\u0432, \u0421\u043a\u0440\u044b\u0442\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u044b. \u0422\u0435\u043f\u0435\u0440\u044c \u0443 \u0442\u0435\u0431\u044f \u0435\u0441\u0442\u044c \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \"\u041a\u0443\u0434\u0430 \u043c\u044b \u043b\u0435\u0437\u0435\u043c\".</p>"},{"location":"topic_04_clients/","title":"\u0422\u0435\u043c\u0430 4: \u0421\u0435\u0442\u0435\u0432\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b: requests vs httpx vs aiohttp. \u041f\u043e\u0447\u0435\u043c\u0443 requests \u2014 \u044d\u0442\u043e \u043b\u0435\u0433\u0430\u0441\u0438, \u0438 \u0437\u0430\u0447\u0435\u043c \u043d\u0430\u043c \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u044c?","text":"<p>\u0412 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 \u0435\u0441\u0442\u044c \u0434\u0432\u0430 \u0433\u0440\u0435\u0445\u0430: \u0442\u0443\u043f\u043e\u0441\u0442\u044c (\u043f\u043b\u043e\u0445\u043e\u0439 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c) \u0438 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 (\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430). \u0412\u044b\u0431\u043e\u0440 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442, \u0431\u0443\u0434\u0435\u0442 \u0442\u0432\u043e\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u0441\u043f\u0430\u0442\u044c 90% \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0438\u043b\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c.</p>"},{"location":"topic_04_clients/#1-requests","title":"1. Requests \u2014 \"\u0421\u0442\u0430\u0440\u044b\u0439 \u0434\u043e\u0431\u0440\u044b\u0439 \u0442\u043e\u0440\u043c\u043e\u0437\"","text":"<p>\u042d\u0442\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0443\u0447\u0438\u043b\u0438\u0441\u044c \u043d\u0430\u0448\u0438 \u0434\u0435\u0434\u044b.</p> <ul> <li>\u0422\u0438\u043f: \u0421\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f (\u0411\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0430\u044f).</li> <li>\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442: \u0422\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b \u0437\u0430\u043f\u0440\u043e\u0441 -&gt; \u0421\u043a\u0440\u0438\u043f\u0442 \u0417\u0410\u041c\u0415\u0420 \u0438 \u0436\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0430. \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440 \u043a\u0443\u0440\u0438\u0442, \u043f\u0430\u043c\u044f\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u0430\u0438\u0432\u0430\u0435\u0442. \u041f\u043e\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043e\u0442\u0432\u0435\u0442\u0438\u0442 (\u0438\u043b\u0438 \u043d\u0435 \u043e\u0442\u0432\u0430\u043b\u0438\u0442\u0441\u044f \u043f\u043e \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u0443), \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043a\u043e\u0434\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f.</li> <li>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0422\u044b \u0437\u0430\u043a\u0430\u0437\u0430\u043b \u043f\u0438\u0446\u0446\u0443 \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 \u0438 \u0441\u0442\u043e\u0438\u0448\u044c \u0443 \u0432\u0445\u043e\u0434\u043d\u043e\u0439 \u0434\u0432\u0435\u0440\u0438 \u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u0440\u0442\u043e\u043c, \u043e\u0436\u0438\u0434\u0430\u044f \u043a\u0443\u0440\u044c\u0435\u0440\u0430. \u0422\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0448\u044c \u043d\u0438 \u0447\u0438\u0442\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0443, \u043d\u0438 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0422\u0412. \u0422\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u0436\u0434\u0435\u0448\u044c.</li> <li>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u0414\u043b\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \"\u0441\u043f\u0430\u0440\u0441\u0438\u0442\u044c 5 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0440\u0430\u0437 \u0432 \u0434\u0435\u043d\u044c\" \u2014 \u043f\u043e\u0439\u0434\u0435\u0442. \u0414\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 1000+ \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u2014 \u0441\u043c\u0435\u0440\u0442\u044c. 1000 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u043e 1 \u0441\u0435\u043a\u0443\u043d\u0434\u0435 = 16 \u043c\u0438\u043d\u0443\u0442 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f.</li> <li>\u041c\u0438\u043d\u0443\u0441: \u041d\u0435 \u0443\u043c\u0435\u0435\u0442 HTTP/2.</li> </ul>"},{"location":"topic_04_clients/#2-aiohttp","title":"2. Aiohttp \u2014 \"\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0432\u0435\u0439\u0435\u0440\"","text":"<p>\u042d\u0442\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442 \u0438\u043d\u0434\u0443\u0441\u0442\u0440\u0438\u0438 \u0434\u043b\u044f \u0432\u044b\u0441\u043e\u043a\u043e\u043d\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c.</p> <ul> <li>\u0422\u0438\u043f: \u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f (Non-blocking).</li> <li>\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442: \u0422\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b \u0437\u0430\u043f\u0440\u043e\u0441 -&gt; \u0421\u043a\u0440\u0438\u043f\u0442 \u041d\u0415 \u0416\u0414\u0415\u0422, \u0430 \u0438\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443. \u041a\u043e\u0433\u0434\u0430 \u043e\u0442\u0432\u0435\u0442 \u043f\u0440\u0438\u0434\u0435\u0442, \u0441\u043a\u0440\u0438\u043f\u0442 \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0435\u0433\u043e.</li> <li>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f: \u0422\u044b \u0437\u0430\u043a\u0430\u0437\u0430\u043b \u043f\u0438\u0446\u0446\u0443, \u043f\u043e\u043b\u043e\u0436\u0438\u043b \u0442\u0440\u0443\u0431\u043a\u0443 \u0438 \u043f\u043e\u0448\u0435\u043b \u0438\u0433\u0440\u0430\u0442\u044c \u0432 PlayStation. \u0417\u0430\u043a\u0430\u0437\u0430\u043b \u0441\u0443\u0448\u0438 \u2014 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b \u0438\u0433\u0440\u0430\u0442\u044c. \u041a\u0443\u0440\u044c\u0435\u0440\u044b \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e, \u0442\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u0431\u0438\u0440\u0430\u0435\u0448\u044c \u0435\u0434\u0443 \u0432 \u043f\u0435\u0440\u0435\u0440\u044b\u0432\u0430\u0445.</li> <li>\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: 1000 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u043e\u0447\u0442\u0438 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e. \u0412\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f = \u0432\u0440\u0435\u043c\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0430\u043c\u043e\u0433\u043e \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430. 16 \u043c\u0438\u043d\u0443\u0442 \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u0432 10 \u0441\u0435\u043a\u0443\u043d\u0434.</li> <li>\u041c\u0438\u043d\u0443\u0441: API \u0447\u0443\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u0435\u0435, \u0447\u0435\u043c \u0443 <code>requests</code>. \u041d\u0443\u0436\u043d\u043e \u0437\u043d\u0430\u0442\u044c <code>async/await</code>.</li> </ul>"},{"location":"topic_04_clients/#3-httpx","title":"3. Httpx \u2014 \"\u041d\u043e\u0432\u044b\u0439 \u041a\u043e\u0440\u043e\u043b\u044c\"","text":"<p>\u042d\u0442\u043e \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0437\u0430\u043c\u0435\u043d\u0430 <code>requests</code>, \u0432\u043e\u0431\u0440\u0430\u0432\u0448\u0430\u044f \u0432 \u0441\u0435\u0431\u044f \u0432\u0441\u0451 \u043b\u0443\u0447\u0448\u0435\u0435.</p> <ul> <li>\u0422\u0438\u043f: \u0413\u0438\u0431\u0440\u0438\u0434 (\u0443\u043c\u0435\u0435\u0442 \u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e, \u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e).</li> <li>\u041a\u0438\u043b\u043b\u0435\u0440-\u0444\u0438\u0447\u0430: \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 HTTP/2 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438. <code>aiohttp</code> \u0438 <code>requests</code> \u044d\u0442\u043e\u0433\u043e \u043d\u0435 \u0443\u043c\u0435\u044e\u0442 (\u0431\u0435\u0437 \u0442\u0430\u043d\u0446\u0435\u0432 \u0441 \u0431\u0443\u0431\u043d\u043e\u043c).</li> <li>API: \u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c \u0441 <code>requests</code>. \u041f\u0435\u0440\u0435\u0435\u0445\u0430\u0442\u044c \u043d\u0430 \u043d\u0435\u0433\u043e \u2014 \u0434\u0435\u043b\u043e 5 \u043c\u0438\u043d\u0443\u0442.</li> <li>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u042d\u0442\u043e \u043c\u043e\u0439 \u0432\u044b\u0431\u043e\u0440 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 2026 \u0433\u043e\u0434\u0443.</li> </ul>"},{"location":"topic_04_clients/#_1","title":"\u2694\ufe0f \u0421\u0420\u0410\u0412\u041d\u0415\u041d\u0418\u0415 \u0412 \u0411\u041e\u042e","text":"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430 Requests Aiohttp Httpx \u0420\u0435\u0436\u0438\u043c \u0422\u043e\u043b\u044c\u043a\u043e Sync \u0422\u043e\u043b\u044c\u043a\u043e Async Sync + Async \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c (1000 URL) \ud83d\udc0c \u0427\u0435\u0440\u0435\u043f\u0430\u0445\u0430 \ud83d\ude80 \u0420\u0430\u043a\u0435\u0442\u0430 \ud83d\ude80 \u0420\u0430\u043a\u0435\u0442\u0430 (\u0432 async \u0440\u0435\u0436\u0438\u043c\u0435) HTTP/2 \u274c \u041d\u0435\u0442 \u274c \u0421\u043b\u043e\u0436\u043d\u043e \u2705 \u0414\u0430 (<code>http2=True</code>) \u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u041b\u0435\u0433\u043a\u043e \u0421\u0440\u0435\u0434\u043d\u0435 \u041b\u0435\u0433\u043a\u043e \u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c \u041e\u0433\u0440\u043e\u043c\u043d\u0430\u044f (Legacy) \u0412\u044b\u0441\u043e\u043a\u0430\u044f (Prod) \u0420\u0430\u0441\u0442\u0435\u0442 (Modern)"},{"location":"topic_04_clients/#_2","title":"\ud83d\udc68\u200d\ud83d\udcbb \u041a\u041e\u0414: \u041f\u043e\u0447\u0443\u0432\u0441\u0442\u0432\u0443\u0439 \u0440\u0430\u0437\u043d\u0438\u0446\u0443","text":""},{"location":"topic_04_clients/#requests","title":"\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434 (Requests):","text":"<pre><code>import requests\nimport time\n\nstart = time.time()\n# \u041c\u044b \u0431\u0443\u0434\u0435\u043c \u0436\u0434\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e 3 \u0440\u0430\u0437\u0430\nfor i in range(3):\n    requests.get(\"&lt;https://httpbin.org/delay/2&gt;\") # \u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 2 \u0441\u0435\u043a\n    print(f\"\u0417\u0430\u043f\u0440\u043e\u0441 {i} \u0433\u043e\u0442\u043e\u0432\")\n\nprint(f\"\u0418\u0442\u043e\u0433: {time.time() - start:.2f} \u0441\u0435\u043a\")\n# \u0418\u0422\u041e\u0413: ~6.0+ \u0441\u0435\u043a\u0443\u043d\u0434. \u0423\u0436\u0430\u0441.\n</code></pre>"},{"location":"topic_04_clients/#httpx-aiohttp","title":"\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u0440\u0430\u0439 (Httpx / Aiohttp):","text":"<pre><code>import httpx\nimport asyncio\nimport time\n\nasync def main():\n    async with httpx.AsyncClient(http2=True) as client:\n        tasks = []\n        start = time.time()\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c 3 \u0437\u0430\u0434\u0430\u0447\u0438, \u043d\u043e \u041d\u0415 \u0436\u0434\u0435\u043c \u0438\u0445 \u0441\u0440\u0430\u0437\u0443\n        for i in range(3):\n            tasks.append(client.get(\"&lt;https://httpbin.org/delay/2&gt;\"))\n\n        # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u0441\u0435 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e!\n        responses = await asyncio.gather(*tasks)\n\n        print(f\"\u0418\u0442\u043e\u0433: {time.time() - start:.2f} \u0441\u0435\u043a\")\n        # \u0418\u0422\u041e\u0413: ~2.1 \u0441\u0435\u043a\u0443\u043d\u0434\u044b. \u0412 3 \u0440\u0430\u0437\u0430 \u0431\u044b\u0441\u0442\u0440\u0435\u0435!\n\nasyncio.run(main())\n</code></pre>"},{"location":"topic_04_clients/#_3","title":"\ud83e\udde0 \u0412\u044b\u0432\u043e\u0434 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430:","text":"<ol> <li>\u0415\u0441\u043b\u0438 \u0442\u044b \u043f\u0438\u0448\u0435\u0448\u044c \u0441\u043a\u0440\u0438\u043f\u0442 \"\u043d\u0430 \u043a\u043e\u043b\u0435\u043d\u043a\u0435\" \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0433\u0438\u043f\u043e\u0442\u0435\u0437\u0443 \u2014 \u0431\u0435\u0440\u0438 <code>requests</code> (\u0438\u043b\u0438 <code>httpx</code> \u0432 sync-\u0440\u0435\u0436\u0438\u043c\u0435), \u043d\u0435 \u043c\u0443\u0447\u0430\u0439\u0441\u044f.</li> <li>\u0415\u0441\u043b\u0438 \u0442\u044b \u0434\u0435\u043b\u0430\u0435\u0448\u044c \u043f\u0430\u0440\u0441\u0435\u0440 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b (\u043c\u0430\u0433\u0430\u0437\u0438\u043d\u044b, \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438) \u2014 \u0422\u041e\u041b\u042c\u041a\u041e Async.</li> <li>\u041c\u0435\u0436\u0434\u0443 <code>aiohttp</code> \u0438 <code>httpx</code>:<ul> <li>\u0411\u0435\u0440\u0438 <code>httpx</code>, \u0435\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u0439 (\u043d\u0443\u0436\u0435\u043d HTTP/2) \u0438\u043b\u0438 \u0442\u044b \u0445\u043e\u0447\u0435\u0448\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u043a\u043e\u0434.</li> <li>\u0411\u0435\u0440\u0438 <code>aiohttp</code>, \u0435\u0441\u043b\u0438 \u0442\u0435\u0431\u0435 \u043d\u0443\u0436\u043d\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \"\u0441\u044b\u0440\u0430\u044f\" \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u043e\u043d \u0447\u0443\u0442\u044c \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u043d\u0430 \u043e\u0431\u044a\u0435\u043c\u0430\u0445 \u0432 100\u043a+ \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432) \u0438 \u0442\u0435\u0431\u0435 \u043f\u043b\u0435\u0432\u0430\u0442\u044c \u043d\u0430 HTTP/2.</li> </ul> </li> </ol> <p>\u041c\u043e\u0439 \u0441\u043e\u0432\u0435\u0442: \u041d\u0430\u0447\u0438\u043d\u0430\u0439 \u0441\u0440\u0430\u0437\u0443 \u0441 <code>httpx</code> (Async). \u041f\u0440\u0438\u0432\u044b\u043a\u0430\u0439 \u043a \u0445\u043e\u0440\u043e\u0448\u0435\u043c\u0443.</p>"},{"location":"topic_05_parsers/","title":"\u0422\u0435\u043c\u0430 5: \u041f\u0430\u0440\u0441\u0435\u0440\u044b HTML: BeautifulSoup vs lxml vs Selectolax. \u041a\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u043d\u0430 \u0443\u0434\u043e\u0431\u043d\u0430\u044f BS4, \u0430 \u043a\u043e\u0433\u0434\u0430 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c lxml?","text":"<p>\u0418\u0442\u0430\u043a, \u0442\u044b \u0441\u043a\u0430\u0447\u0430\u043b HTML. \u0422\u0435\u043f\u0435\u0440\u044c \u044d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u043b\u0438\u043d\u043d\u0430\u044f, \u0442\u0443\u043f\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 \u043d\u0430 500 \u043a\u0438\u043b\u043e\u0431\u0430\u0439\u0442. \u0422\u0432\u043e\u044f \u0437\u0430\u0434\u0430\u0447\u0430 \u2014 \u043d\u0430\u0439\u0442\u0438 \u0432 \u044d\u0442\u043e\u0439 \u043a\u0443\u0447\u0435 \u043c\u0443\u0441\u043e\u0440\u0430 \u043e\u0434\u0438\u043d \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439 \u0431\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442 (\u0446\u0435\u043d\u0443). \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0443\u0436\u0435\u043d \u043f\u0430\u0440\u0441\u0435\u0440 \u2014 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0442\u0435\u043a\u0441\u0442 \u0432 \u0434\u0435\u0440\u0435\u0432\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 (DOM), \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u0445\u043e\u0434\u0438\u0442\u044c.</p> <p>\u0412\u044b\u0431\u043e\u0440 \u043f\u0430\u0440\u0441\u0435\u0440\u0430 \u2014 \u044d\u0442\u043e \u0432\u044b\u0431\u043e\u0440 \u043c\u0435\u0436\u0434\u0443 \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043e\u043c \u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e.</p>"},{"location":"topic_05_parsers/#1-beautifulsoup4-bs4","title":"1. BeautifulSoup4 (BS4) \u2014 \"\u0423\u044e\u0442\u043d\u044b\u0439 \u0434\u0438\u0432\u0430\u043d\"","text":"<p>\u042d\u0442\u043e \u0441\u0430\u043c\u0430\u044f \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430. \u041d\u0430 \u043d\u0435\u0439 \u043f\u0438\u0448\u0443\u0442 99% \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b\u043e\u0432.</p> <ul> <li>\u0421\u0443\u0442\u044c: \u042d\u0442\u043e \u043d\u0435 \u0441\u0430\u043c \u043f\u0430\u0440\u0441\u0435\u0440, \u044d\u0442\u043e \u043e\u0431\u0435\u0440\u0442\u043a\u0430. \u041e\u043d\u0430 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u043a\u0430\u043f\u043e\u0442\u043e\u043c \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0438\u0442\u043e\u043d\u043e\u0432\u0441\u043a\u0438\u0439 <code>html.parser</code> \u0438\u043b\u0438 \u0431\u044b\u0441\u0442\u0440\u044b\u0439 <code>lxml</code>.</li> <li>\u041f\u043b\u044e\u0441\u044b:<ul> <li>\u041d\u0435\u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e \u0443\u0434\u043e\u0431\u043d\u0430\u044f: <code>soup.find('div').text</code>. \u0427\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a.</li> <li>\u0412\u0441\u0435\u044f\u0434\u043d\u0430\u044f: \u0416\u0440\u0435\u0442 \u043b\u044e\u0431\u043e\u0439 \u043a\u0440\u0438\u0432\u043e\u0439, \u043f\u043e\u043b\u043e\u043c\u0430\u043d\u043d\u044b\u0439, \u043d\u0435\u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0439 HTML. \u041e\u043d\u0430 \u0441\u0430\u043c\u0430 \u0434\u043e\u0434\u0443\u043c\u0430\u0435\u0442, \u0433\u0434\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0442\u0435\u0433.</li> </ul> </li> <li>\u041c\u0438\u043d\u0443\u0441\u044b:<ul> <li>\u041c\u0435\u0434\u043b\u0435\u043d\u043d\u0430\u044f: \u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u043a\u0443\u0447\u0443 \u043f\u0438\u0442\u043e\u043d\u043e\u0432\u0441\u043a\u0438\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. \u0416\u0440\u0435\u0442 \u043f\u0430\u043c\u044f\u0442\u044c. \u041d\u0430 \u043e\u0431\u044a\u0435\u043c\u0430\u0445 100\u043a+ \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0442\u044b \u043f\u043e\u0441\u0442\u0430\u0440\u0435\u0435\u0448\u044c, \u043f\u043e\u043a\u0430 \u043e\u043d\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442.</li> </ul> </li> <li>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u0418\u0434\u0435\u0430\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u043d\u043e\u0432\u0438\u0447\u043a\u043e\u0432, \u043f\u0440\u043e\u0442\u043e\u0442\u0438\u043f\u043e\u0432 \u0438 \u0437\u0430\u0434\u0430\u0447 \"\u0441\u043f\u0430\u0440\u0441\u0438\u0442\u044c 100 \u0441\u0442\u0430\u0442\u0435\u0439\".</li> </ul>"},{"location":"topic_05_parsers/#2-lxml","title":"2. lxml \u2014 \"\u041f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u0442\u0430\u043d\u043e\u043a\"","text":"<p>\u042d\u0442\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442 \u0438\u043d\u0434\u0443\u0441\u0442\u0440\u0438\u0438. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u043d\u0430 C (libxml2).</p> <ul> <li>\u0421\u0443\u0442\u044c: \u0416\u0435\u0441\u0442\u043a\u0430\u044f, \u0431\u044b\u0441\u0442\u0440\u0430\u044f, \u043c\u043e\u0449\u043d\u0430\u044f.</li> <li>\u041a\u0438\u043b\u043b\u0435\u0440-\u0444\u0438\u0447\u0430: \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 XPath. \u042d\u0442\u043e \u044f\u0437\u044b\u043a \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a XML/HTML, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432 10 \u0440\u0430\u0437 \u043c\u043e\u0449\u043d\u0435\u0435 CSS-\u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u043e\u0432. \u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0441\u043a\u0430\u0437\u0430\u0442\u044c: \"\u0414\u0430\u0439 \u043c\u043d\u0435 \u0441\u0441\u044b\u043b\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432\u043d\u0443\u0442\u0440\u0438 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0434\u0438\u0432\u0430, \u0443 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0435\u0441\u0442\u044c \u0441\u043e\u0441\u0435\u0434 \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u043c '\u0426\u0435\u043d\u0430'\". CSS \u0442\u0430\u043a \u043d\u0435 \u0443\u043c\u0435\u0435\u0442.</li> <li>\u041f\u043b\u044e\u0441\u044b: \u041e\u0447\u0435\u043d\u044c \u0431\u044b\u0441\u0442\u0440\u0430\u044f.</li> <li>\u041c\u0438\u043d\u0443\u0441\u044b: API \u0447\u0443\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u0435\u0435 (\u0434\u0435\u0440\u0435\u0432\u044f\u043d\u043d\u043e\u0435).</li> <li>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u0412\u044b\u0431\u043e\u0440 \u043f\u0440\u043e\u0444\u0438. \u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u0435\u043d \u0441\u043b\u043e\u0436\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a (\u0432\u0432\u0435\u0440\u0445-\u0432\u043d\u0438\u0437 \u043f\u043e \u0434\u0435\u0440\u0435\u0432\u0443) \u2014 \u0442\u043e\u043b\u044c\u043a\u043e <code>lxml</code> + XPath.</li> </ul>"},{"location":"topic_05_parsers/#3-selectolax-1","title":"3. Selectolax \u2014 \"\u0411\u043e\u043b\u0438\u0434 \u0424\u043e\u0440\u043c\u0443\u043b\u044b-1\"","text":"<p>\u042d\u0442\u043e \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0439 \u0437\u0432\u0435\u0440\u044c. \u041e\u0431\u0435\u0440\u0442\u043a\u0430 \u043d\u0430\u0434 \u0434\u0432\u0438\u0436\u043a\u043e\u043c Modest (\u043d\u0430\u043f\u0438\u0441\u0430\u043d \u043d\u0430 C, \u0431\u0435\u0437 \u043b\u0438\u0448\u043d\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439).</p> <ul> <li>\u0421\u0443\u0442\u044c: \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u0446\u0435\u043d\u043e\u0439.</li> <li>\u041f\u043b\u044e\u0441\u044b:<ul> <li>\u0411\u0435\u0437\u0443\u043c\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u0430\u044f: \u0412 10-20 \u0440\u0430\u0437 \u0431\u044b\u0441\u0442\u0440\u0435\u0435 BeautifulSoup. \u041e\u043d\u0430 \u043f\u043e\u0447\u0442\u0438 \u043d\u0435 \u043d\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440.</li> <li>\u041b\u0435\u0433\u043a\u0430\u044f: \u041c\u0438\u043d\u0438\u043c\u0443\u043c \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f RAM.</li> </ul> </li> <li>\u041c\u0438\u043d\u0443\u0441\u044b: \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e CSS-\u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u044b. \u0415\u0441\u043b\u0438 \u0442\u0435\u0431\u0435 \u043d\u0443\u0436\u0435\u043d \u0441\u043b\u043e\u0436\u043d\u044b\u0439 XPath \u2014 \u0443\u0432\u044b. \u0427\u0443\u0442\u044c \u043c\u0435\u043d\u0435\u0435 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 API.</li> <li>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u0415\u0441\u043b\u0438 \u0442\u044b \u043f\u0430\u0440\u0441\u0438\u0448\u044c \u043c\u0438\u043b\u043b\u0438\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0441\u0442\u0430\u044f \u2014 \u044d\u0442\u043e \u0431\u0435\u0437\u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440.</li> </ul>"},{"location":"topic_05_parsers/#benchmark","title":"\u2694\ufe0f \u0422\u0415\u0421\u0422 \u041d\u0410 \u0421\u041a\u041e\u0420\u041e\u0421\u0422\u042c (Benchmark)","text":"<p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c, \u0447\u0442\u043e \u043c\u044b \u043f\u0430\u0440\u0441\u0438\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 Amazon (200 \u041a\u0411 HTML).</p> \u041f\u0430\u0440\u0441\u0435\u0440 \u0412\u0440\u0435\u043c\u044f \u043d\u0430 1 \u0441\u0442\u0440. \u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 CPU BeautifulSoup ~20.0 \u043c\u0441 \ud83d\udd25 \u0412\u044b\u0441\u043e\u043a\u0430\u044f lxml ~4.0 \u043c\u0441 \ud83d\udfe1 \u0421\u0440\u0435\u0434\u043d\u044f\u044f Selectolax ~0.8 \u043c\u0441 \ud83d\udfe2 \u041f\u043e\u0447\u0442\u0438 \u043d\u043e\u043b\u044c <p>\u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u043c\u0435\u0436\u0434\u0443 20\u043c\u0441 \u0438 0.8\u043c\u0441 \u043a\u0430\u0436\u0435\u0442\u0441\u044f \u0441\u043c\u0435\u0448\u043d\u043e\u0439? \u0423\u043c\u043d\u043e\u0436\u044c \u043d\u0430 1 000 000 \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <ul> <li>BS4: 5.5 \u0447\u0430\u0441\u043e\u0432 \u0447\u0438\u0441\u0442\u043e\u0433\u043e \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430.</li> <li>Selectolax: 13 \u043c\u0438\u043d\u0443\u0442.</li> </ul>"},{"location":"topic_05_parsers/#_1","title":"\ud83d\udc68\u200d\ud83d\udcbb \u041a\u041e\u0414: \u041f\u043e\u0447\u0443\u0432\u0441\u0442\u0432\u0443\u0439 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441","text":"<p>\u0417\u0430\u0434\u0430\u0447\u0430: \u0414\u043e\u0441\u0442\u0430\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a <code>&lt;h1&gt;</code> \u0441 \u043a\u043b\u0430\u0441\u0441\u043e\u043c <code>title</code>.</p>"},{"location":"topic_05_parsers/#beautifulsoup","title":"BeautifulSoup (\u0423\u0434\u043e\u0431\u043d\u043e)","text":"<pre><code>from bs4 import BeautifulSoup\nsoup = BeautifulSoup(html, \"lxml\")\n\n# \u041c\u0435\u0442\u043e\u0434\u044b pythonic-style\ntitle = soup.find(\"h1\", class_=\"title\").text\n</code></pre>"},{"location":"topic_05_parsers/#lxml-xpath","title":"lxml (\u041c\u043e\u0449\u043d\u043e - XPath)","text":"<pre><code>from lxml import html\ntree = html.fromstring(html_content)\n\n# XPath - \u043c\u043e\u0449\u044c. \"//\" - \u0438\u0441\u043a\u0430\u0442\u044c \u0432\u0435\u0437\u0434\u0435, \"@class\" - \u0430\u0442\u0440\u0438\u0431\u0443\u0442\n# \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0412\u0421\u0415\u0413\u0414\u0410 \u0441\u043f\u0438\u0441\u043e\u043a\ntitle = tree.xpath('//h1[@class=\"title\"]/text()')[0]\n</code></pre>"},{"location":"topic_05_parsers/#selectolax","title":"Selectolax (\u0411\u044b\u0441\u0442\u0440\u043e)","text":"<pre><code>from selectolax.parser import HTMLParser\ntree = HTMLParser(html_content)\n\n# CSS \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u044b only. \u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0447\u0443\u0442\u044c \u0441\u0442\u0440\u043e\u0436\u0435.\nnode = tree.css_first(\"h1.title\")\ntitle = node.text() if node else None\n</code></pre>"},{"location":"topic_05_parsers/#_2","title":"\ud83e\udde0 \u0412\u044b\u0432\u043e\u0434 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430:","text":"<ol> <li>\u041d\u0430\u0447\u0438\u043d\u0430\u0439 \u0441 BeautifulSoup. \u0421\u0435\u0440\u044c\u0435\u0437\u043d\u043e. \u041d\u0435 \u0432\u044b\u043f\u0435\u043d\u0434\u0440\u0438\u0432\u0430\u0439\u0441\u044f. \u041f\u043e\u043a\u0430 \u0442\u044b \u043f\u0438\u0448\u0435\u0448\u044c \u043b\u043e\u0433\u0438\u043a\u0443 \u0438 \u043e\u0442\u043b\u0430\u0436\u0438\u0432\u0430\u0435\u0448\u044c \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u044b \u2014 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u043e \u0432\u0430\u0436\u043d\u0435\u0435 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438.</li> <li>\u0423\u043f\u0435\u0440\u0441\u044f \u0432 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c? \u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0439\u0441\u044f \u043d\u0430 <code>Selectolax</code>. \u041f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440\u044b \u0437\u0430\u0439\u043c\u0435\u0442 10 \u043c\u0438\u043d\u0443\u0442, \u0430 \u043f\u0440\u0438\u0440\u043e\u0441\u0442 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0448\u044c \u043a\u043e\u043b\u043e\u0441\u0441\u0430\u043b\u044c\u043d\u044b\u0439.</li> <li>\u0421\u043b\u043e\u0436\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0442\u043a\u0430? \u0415\u0441\u043b\u0438 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0445\u0440\u0435\u043d \u043d\u0430\u0439\u0434\u0435\u0448\u044c (\u043d\u0435\u0442 \u043a\u043b\u0430\u0441\u0441\u043e\u0432, \u0442\u043e\u043b\u044c\u043a\u043e \"\u0442\u0440\u0435\u0442\u0438\u0439 <code>div</code> \u043f\u043e\u0441\u043b\u0435 \u043f\u044f\u0442\u043e\u0433\u043e <code>span</code>\") \u2014 \u0431\u0435\u0440\u0438 <code>lxml</code> \u0438 \u043f\u0438\u0448\u0438 XPath. \u042d\u0442\u043e \u0441\u043f\u0430\u0441\u0435\u0442 \u0442\u0432\u043e\u0438 \u043d\u0435\u0440\u0432\u044b.</li> </ol>"},{"location":"topic_06_browsers/","title":"\u0422\u0435\u043c\u0430 6: \u0411\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u0430\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f: Selenium vs Playwright. \u041f\u043e\u0447\u0435\u043c\u0443 \u0442\u044b \u043d\u0435\u043d\u0430\u0432\u0438\u0434\u0438\u0448\u044c \u0421\u0435\u043b\u0435\u043d\u0438\u0443\u043c \u0438 \u0447\u0435\u043c \u041f\u043b\u0435\u0439\u0440\u0430\u0439\u0442 \u043a\u0440\u0443\u0447\u0435?","text":"<p>\u0415\u0441\u043b\u0438 <code>httpx</code> \u2014 \u044d\u0442\u043e \u0441\u043d\u0430\u0439\u043f\u0435\u0440\u0441\u043a\u0430\u044f \u0432\u0438\u043d\u0442\u043e\u0432\u043a\u0430, \u0442\u043e \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043d\u0430\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u2014 \u044d\u0442\u043e \u0442\u0430\u043d\u043a. \u0413\u0440\u043e\u043c\u043a\u043e, \u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e, \u0436\u0440\u0435\u0442 \u043c\u043d\u043e\u0433\u043e \u0442\u043e\u043f\u043b\u0438\u0432\u0430, \u043d\u043e \u043f\u0440\u043e\u0435\u0437\u0436\u0430\u0435\u0442 \u0442\u0430\u043c, \u0433\u0434\u0435 \u043f\u0435\u0445\u043e\u0442\u0430 \u043b\u043e\u0436\u0438\u0442\u0441\u044f.</p> <p>\u041d\u043e \u0442\u0430\u043d\u043a\u0438 \u0431\u044b\u0432\u0430\u044e\u0442 \u0440\u0430\u0437\u043d\u044b\u0435. \u0415\u0441\u0442\u044c \u0422-34 \u0432\u0440\u0435\u043c\u0435\u043d \u0434\u0435\u0434\u043e\u0432 (Selenium), \u0430 \u0435\u0441\u0442\u044c \u0410\u0431\u0440\u0430\u043c\u0441 \u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u0438\u043a\u043e\u0439 (Playwright).</p>"},{"location":"topic_06_browsers/#1-selenium","title":"1. Selenium \u2014 \"\u0420\u0436\u0430\u0432\u043e\u0435 \u0412\u0435\u0434\u0440\u043e\"","text":"<p>\u0414\u0430\u0432\u0430\u0439 \u0447\u0435\u0441\u0442\u043d\u043e. Selenium \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0438 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c, \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043b\u0438 \u043a\u043d\u043e\u043f\u043a\u0430 \"\u041a\u0443\u043f\u0438\u0442\u044c\". \u0415\u0433\u043e \u043d\u0435 \u0434\u0435\u043b\u0430\u043b\u0438 \u0434\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u043c\u0438\u043b\u043b\u0438\u043e\u043d\u043e\u0432 \u0441\u0442\u0440\u0430\u043d\u0438\u0446.</p> <ul> <li>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 (WebDriver): \u042d\u0442\u043e \"\u0418\u0441\u043f\u043e\u0440\u0447\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\".<ul> <li>\u0422\u0432\u043e\u0439 \u043a\u043e\u0434 -&gt; \u0414\u0440\u0430\u0439\u0432\u0435\u0440 (exe-\u0444\u0430\u0439\u043b) -&gt; \u0411\u0440\u0430\u0443\u0437\u0435\u0440.</li> <li>\u042d\u0442\u0430 \u043f\u0440\u043e\u0441\u043b\u043e\u0439\u043a\u0430 \u0442\u043e\u0440\u043c\u043e\u0437\u0438\u0442, \u0433\u043b\u044e\u0447\u0438\u0442 \u0438 \u043f\u0430\u0434\u0430\u0435\u0442.</li> </ul> </li> <li>\u0413\u043b\u0430\u0432\u043d\u044b\u0435 \u0433\u0440\u0435\u0445\u0438:<ol> <li>\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u044c: \u041e\u043d \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442 \u043f\u043e\u0442\u043e\u043a. \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u043b 10 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u0432 \u2014 \u043f\u043e\u043b\u043e\u0436\u0438\u043b \u0441\u0435\u0440\u0432\u0435\u0440.</li> <li>Flaky (\u041d\u0435\u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c): \u0421\u0430\u043c\u0430\u044f \u0447\u0430\u0441\u0442\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u2014 <code>ElementNotVisibleException</code>. \u0422\u044b \u0438\u0449\u0435\u0448\u044c \u043a\u043d\u043e\u043f\u043a\u0443, \u0430 \u043e\u043d\u0430 \u0435\u0449\u0435 \u043d\u0435 \u0434\u043e\u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043b\u0430\u0441\u044c. \u041f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u0441\u0442\u044b\u043b\u0438: <code>time.sleep(5)</code> \u0438\u043b\u0438 \u0433\u0440\u043e\u043c\u043e\u0437\u0434\u043a\u0438\u0435 <code>WebDriverWait</code>.</li> <li>\u0414\u0435\u0442\u0435\u043a\u0442: \u0421\u0430\u0439\u0442\u044b \u043f\u0430\u043b\u044f\u0442 Selenium \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u0449\u0435\u043b\u0447\u043a\u0443 \u043f\u0430\u043b\u044c\u0446\u0435\u0432 (<code>navigator.webdriver = true</code>). \u041d\u0443\u0436\u043d\u043e \u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u0442\u0447\u0438, <code>undetected-chromedriver</code>, \u0442\u0430\u043d\u0446\u0435\u0432\u0430\u0442\u044c \u0441 \u0431\u0443\u0431\u043d\u043e\u043c.</li> <li>\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u0430\u043c\u0438: \u041e\u0434\u0438\u043d \u0431\u0440\u0430\u0443\u0437\u0435\u0440 = \u041e\u0434\u0438\u043d \u043f\u0440\u043e\u0444\u0438\u043b\u044c. \u0425\u043e\u0447\u0435\u0448\u044c 50 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u043a\u0443\u043a\u0430\u043c\u0438? \u0423 \u0442\u0435\u0431\u044f \u0441\u0433\u043e\u0440\u0438\u0442 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043a\u0430, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0442\u044b \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0448\u044c 50 \u043f\u043e\u043b\u043d\u044b\u0445 \u043a\u043e\u043f\u0438\u0439 \u0425\u0440\u043e\u043c\u0430.</li> </ol> </li> </ul> <p>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u0412 2026 \u0433\u043e\u0434\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Selenium \u0434\u043b\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u2014 \u044d\u0442\u043e \u043c\u0430\u0437\u043e\u0445\u0438\u0437\u043c. \u041e\u0441\u0442\u0430\u0432\u044c \u0435\u0433\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u043b\u0435\u0433\u0430\u0441\u0438-\u043a\u043e\u0434\u0430 2015 \u0433\u043e\u0434\u0430.</p>"},{"location":"topic_06_browsers/#2-playwright","title":"2. Playwright \u2014 \"\u041a\u0438\u0431\u0435\u0440\u043f\u0430\u043d\u043a \u0418\u043c\u043f\u043b\u0430\u043d\u0442\"","text":"<p>Microsoft \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043b\u0430 \u043d\u0430 \u0441\u0442\u0440\u0430\u0434\u0430\u043d\u0438\u044f \u0441 Selenium/Puppeteer \u0438 \u0441\u0434\u0435\u043b\u0430\u043b\u0430 \u0432\u0435\u0449\u044c.</p> <ul> <li>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430: \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b CDP (Chrome DevTools Protocol) \u0438\u043b\u0438 \u0435\u0433\u043e \u0430\u043d\u0430\u043b\u043e\u0433\u0438. \u041e\u0431\u0449\u0430\u0435\u0442\u0441\u044f \u0441 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e, \"\u043f\u043e \u0432\u0435\u043d\u0430\u043c\".</li> <li>\u041a\u0438\u043b\u043b\u0435\u0440-\u0444\u0438\u0447\u0438 \u0434\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430:<ol> <li>\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b (Contexts) \u2014 \u042d\u0422\u041e \u0413\u041b\u0410\u0412\u041d\u041e\u0415.<ul> <li>\u0422\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0448\u044c \u041e\u0414\u0418\u041d \u0438\u043d\u0441\u0442\u0430\u043d\u0441 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430.</li> <li>\u0412\u043d\u0443\u0442\u0440\u0438 \u043d\u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0435\u0448\u044c 100 \u0438\u0437\u043e\u043b\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \"\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u0432\" (\u043a\u0430\u043a \u0438\u043d\u043a\u043e\u0433\u043d\u0438\u0442\u043e-\u0432\u043a\u043b\u0430\u0434\u043a\u0438).</li> <li>\u041a\u0430\u0436\u0434\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 \u0438\u043c\u0435\u0435\u0442 \u0441\u0432\u043e\u0438 Cookies, \u0441\u0432\u043e\u0438 Proxy, \u0441\u0432\u043e\u0439 User-Agent.</li> <li>\u0418\u0442\u043e\u0433: \u042d\u043a\u043e\u043d\u043e\u043c\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438 \u0432 10 \u0440\u0430\u0437. \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u2014 \u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u044b.</li> </ul> </li> <li>Auto-Wait (\u0410\u0432\u0442\u043e-\u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435):<ul> <li>\u0422\u044b \u043f\u0438\u0448\u0435\u0448\u044c <code>page.click('button')</code>. Playwright \u0421\u0410\u041c \u0436\u0434\u0435\u0442, \u043f\u043e\u043a\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f, \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u043d\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0439, \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u043d\u0435\u0442 \u0434\u0432\u0438\u0433\u0430\u0442\u044c\u0441\u044f \u0438 \u0441\u0442\u0430\u043d\u0435\u0442 \u043a\u043b\u0438\u043a\u0430\u0431\u0435\u043b\u044c\u043d\u043e\u0439. \u041d\u0438\u043a\u0430\u043a\u0438\u0445 <code>time.sleep()</code>. \u0421\u043a\u0440\u0438\u043f\u0442\u044b \u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u0436\u0435\u043b\u0435\u0437\u043d\u044b\u043c\u0438.</li> </ul> </li> <li>\u041f\u0435\u0440\u0435\u0445\u0432\u0430\u0442 \u0441\u0435\u0442\u0438 (Network Interception):<ul> <li>\u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u0437\u0430\u043f\u0440\u0435\u0442\u0438\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a (<code>.png</code>, <code>.jpg</code>) \u0438 \u0448\u0440\u0438\u0444\u0442\u043e\u0432 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439. \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0433\u0440\u0443\u0437\u0438\u0442\u0441\u044f \u0432 5 \u0440\u0430\u0437 \u0431\u044b\u0441\u0442\u0440\u0435\u0435.</li> <li>\u0422\u044b \u043c\u043e\u0436\u0435\u0448\u044c \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u0442\u044c JSON-\u043e\u0442\u0432\u0435\u0442\u044b \u043e\u0442 API \u043f\u0440\u044f\u043c\u043e \u0438\u0437 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 (\u0433\u0438\u0431\u0440\u0438\u0434\u043d\u044b\u0439 \u043f\u0430\u0440\u0441\u0438\u043d\u0433).</li> </ul> </li> <li>\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u044c: <code>async/await</code> \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438.</li> </ol> </li> </ul>"},{"location":"topic_06_browsers/#_1","title":"\u2694\ufe0f \u0421\u0420\u0410\u0412\u041d\u0415\u041d\u0418\u0415 \u0412 \u0426\u0418\u0424\u0420\u0410\u0425","text":"\u0424\u0438\u0447\u0430 Selenium Playwright \u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0420\u0443\u0447\u043d\u043e\u0435 (\u0411\u043e\u043b\u044c\u043d\u043e) \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 (\u041c\u0430\u0433\u0438\u044f) \u0418\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u0441\u0435\u0441\u0441\u0438\u0439 \u041d\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 (\u0422\u044f\u0436\u0435\u043b\u043e) Browser Context (\u041b\u0435\u0433\u043a\u043e) \u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u044b/\u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u0427\u0435\u0440\u0435\u0437 \u043a\u043e\u0441\u0442\u044b\u043b\u0438 \u043f\u0440\u043e\u043a\u0441\u0438 \u041d\u0430\u0442\u0438\u0432\u043d\u043e, \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439 \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0430 \u041d\u0435\u0442 <code>playwright codegen</code> (\u0417\u0430\u043f\u0438\u0448\u0435\u0442 \u0442\u0432\u043e\u0438 \u043a\u043b\u0438\u043a\u0438) \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u044f\u0437\u044b\u043a\u043e\u0432 \u0412\u0441\u0435 Python, JS, C#, Java"},{"location":"topic_06_browsers/#_2","title":"\ud83d\udc68\u200d\ud83d\udcbb \u041a\u041e\u0414: \u041f\u043e\u0447\u0443\u0432\u0441\u0442\u0432\u0443\u0439 \u0431\u043e\u043b\u044c \u0438 \u043d\u0430\u0441\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435","text":""},{"location":"topic_06_browsers/#selenium","title":"Selenium (\u041a\u0430\u043a \u0434\u0435\u043b\u0430\u043b\u0438 \u0434\u0435\u0434\u044b)","text":"<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\ndriver = webdriver.Chrome() # \u0417\u0430\u043f\u0443\u0441\u043a \u0442\u044f\u0436\u0435\u043b\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\ndriver.get(\"&lt;https://site.com&gt;\")\n\n# \u0420\u0443\u043a\u043e\u043f\u0430\u0448\u043d\u044b\u0439 \u0431\u043e\u0439 \u0441 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435\u043c\ntry:\n    element = WebDriverWait(driver, 10).until(\n        EC.presence_of_element_located((By.ID, \"myDynamicElement\"))\n    )\n    element.click()\nfinally:\n    driver.quit()\n</code></pre>"},{"location":"topic_06_browsers/#playwright","title":"Playwright (\u041a\u0430\u043a \u0434\u0435\u043b\u0430\u044e\u0442 \u0441\u0435\u043d\u044c\u043e\u0440\u044b)","text":"<pre><code>import asyncio\nfrom playwright.async_api import async_playwright\n\nasync def main():\n    async with async_playwright() as p:\n        # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 1 \u0440\u0430\u0437\n        browser = await p.chromium.launch(headless=True)\n\n        # \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043b\u0435\u0433\u043a\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442 (\u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u043a\u0441\u0438 \u0442\u0443\u0442)\n        context = await browser.new_context(user_agent=\"Mozilla/5.0...\")\n\n        page = await context.new_page()\n\n        # \u0411\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0434\u043b\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438\n        await page.route(\"**/*.{png,jpg,jpeg}\", lambda route: route.abort())\n\n        await page.goto(\"&lt;https://site.com&gt;\")\n\n        # \u041e\u043d \u0441\u0430\u043c \u043f\u043e\u0434\u043e\u0436\u0434\u0435\u0442 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043d\u043e\u043f\u043a\u0438!\n        await page.click(\"#myDynamicElement\")\n\n        # \u041c\u043e\u0436\u043d\u043e \u0434\u0430\u0436\u0435 \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442\u0438\u0442\u044c \u043e\u0442\u0432\u0435\u0442 API\n        # async with page.expect_response(\"**/api/data\") as response:\n        #     data = await response.value.json()\n\n        await browser.close()\n\nasyncio.run(main())\n</code></pre>"},{"location":"topic_06_browsers/#_3","title":"\ud83e\udde0 \u0412\u044b\u0432\u043e\u0434 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430:","text":"<ol> <li>\u0415\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u2014 \u043d\u0435 \u044e\u0437\u0430\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0432\u043e\u043e\u0431\u0449\u0435 (\u0441\u043c. \u0411\u043b\u043e\u043a 1).</li> <li>\u0415\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u0441\u043b\u043e\u0436\u043d\u044b\u0439 (SPA, \u0437\u0430\u0449\u0438\u0442\u044b) \u2014 \u0441\u0442\u0430\u0432\u044c Playwright.</li> <li>\u0417\u0430\u0431\u0443\u0434\u044c Selenium \u043a\u0430\u043a \u0441\u0442\u0440\u0430\u0448\u043d\u044b\u0439 \u0441\u043e\u043d. \u0415\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u2014 \u0435\u0441\u043b\u0438 \u0442\u044b \u043f\u043e\u043f\u0430\u043b \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442, \u0433\u0434\u0435 \u0443\u0436\u0435 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043e 100 \u0442\u044b\u0441\u044f\u0447 \u0441\u0442\u0440\u043e\u043a \u043a\u043e\u0434\u0430 \u043d\u0430 Selenium, \u0438 \u0442\u0435\u0431\u0435 \u043f\u043b\u0430\u0442\u044f\u0442, \u0447\u0442\u043e\u0431\u044b \u0442\u044b \u0441\u0442\u0440\u0430\u0434\u0430\u043b.</li> </ol>"},{"location":"topic_07_drission/","title":"\u0422\u0435\u043c\u0430 7: \u0421\u043f\u0435\u0446\u043d\u0430\u0437: DrissionPage \u0438 curl_cffi. \u0427\u0442\u043e \u044d\u0442\u043e \u0437\u0430 \u0437\u0432\u0435\u0440\u0438 \u0438 \u043a\u043e\u0433\u0434\u0430 \u0438\u0445 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c?","text":"<p>\u0422\u044b \u0438\u0437\u0443\u0447\u0438\u043b <code>httpx</code> (\u043f\u0435\u0445\u043e\u0442\u0430) \u0438 <code>Playwright</code> (\u0442\u0430\u043d\u043a\u0438). \u041d\u043e \u0431\u044b\u0432\u0430\u0435\u0442 \u0442\u0430\u043a:</p> <ol> <li>\u0422\u044b \u0448\u043b\u0435\u0448\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u0447\u0435\u0440\u0435\u0437 <code>httpx</code> \u2014 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c 403 Forbidden.</li> <li>\u0422\u044b \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0448\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0447\u0435\u0440\u0435\u0437 <code>Playwright</code> \u2014 \u0442\u0435\u0431\u044f \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u0442 Captcha \u0438\u043b\u0438 \u0431\u0435\u043b\u044b\u0439 \u044d\u043a\u0440\u0430\u043d \u0441 \u043d\u0430\u0434\u043f\u0438\u0441\u044c\u044e \"Checking your browser...\".</li> </ol> <p>\u042d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u0438\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 WAF (Web Application Firewall) \u0442\u0438\u043f\u0430 Cloudflare, Akamai \u0438\u043b\u0438 Datadome. \u041e\u043d\u0438 \u043f\u0430\u043b\u044f\u0442 \u0442\u0435\u0431\u044f \u043d\u0435 \u043f\u043e IP, \u0430 \u043f\u043e \"\u043e\u0442\u043f\u0435\u0447\u0430\u0442\u043a\u0430\u043c\".</p> <p>\u0422\u0443\u0442 \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u0441\u043f\u0435\u0446\u043d\u0430\u0437.</p>"},{"location":"topic_07_drission/#1-curl_cffi-","title":"1. <code>curl_cffi</code> \u2014 \"\u041d\u0438\u043d\u0434\u0437\u044f-\u0445\u0430\u043c\u0435\u043b\u0435\u043e\u043d\"","text":"<p>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430: \u041a\u043e\u0433\u0434\u0430 Python (<code>requests</code>/<code>httpx</code>) \u0441\u0442\u0443\u0447\u0438\u0442\u0441\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440, \u043e\u043d \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 SSL. \u0423 \u043d\u0435\u0451 \u0435\u0441\u0442\u044c \u0441\u0432\u043e\u0439 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \"\u043f\u043e\u0447\u0435\u0440\u043a\" (TLS Fingerprint \u0438\u043b\u0438 JA3). \u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0438\u0434\u0438\u0442 \u044d\u0442\u043e\u0442 \u043f\u043e\u0447\u0435\u0440\u043a \u0438 \u0433\u043e\u0432\u043e\u0440\u0438\u0442: \"\u0410\u0433\u0430, \u044d\u0442\u043e \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0430 \u041f\u0438\u0442\u043e\u043d\u0435, \u0430 \u043d\u0435 Chrome. \u0411\u0430\u043d.\"</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435: <code>curl_cffi</code> \u2014 \u044d\u0442\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u0434\u043c\u0435\u043d\u044f\u0435\u0442 \u044d\u0442\u043e\u0442 \u043f\u043e\u0447\u0435\u0440\u043a. \u041e\u043d\u0430 \u043d\u0430 \u043d\u0438\u0437\u043a\u043e\u043c \u0443\u0440\u043e\u0432\u043d\u0435 (C-binding) \u0438\u043c\u0438\u0442\u0438\u0440\u0443\u0435\u0442 TLS-\u0440\u0443\u043a\u043e\u043f\u043e\u0436\u0430\u0442\u0438\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 (Chrome, Firefox, Safari).</p> <ul> <li>\u0422\u0438\u043f: HTTP-\u043a\u043b\u0438\u0435\u043d\u0442 (\u0431\u0435\u0437 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430).</li> <li>\u041a\u043e\u0433\u0434\u0430 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c:<ul> <li>\u0421\u0430\u0439\u0442 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435, \u043d\u043e \u0432 Python \u0434\u0430\u0435\u0442 403.</li> <li>\u041d\u0443\u0436\u043d\u0430 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c (\u0431\u0435\u0437 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433\u0430 JS), \u043d\u043e \u043e\u0431\u044b\u0447\u043d\u044b\u0435 \u043b\u0438\u0431\u044b \u043d\u0435 \u043f\u0443\u0441\u043a\u0430\u044e\u0442.</li> </ul> </li> <li>\u041a\u0430\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c: \u041e\u043d\u0430 \u043f\u043e\u0447\u0442\u0438 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043a\u043e\u043f\u0438\u0440\u0443\u0435\u0442 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 <code>requests</code>.</li> </ul> <pre><code>from curl_cffi import requests\n\n# impersonate=\"chrome110\" \u2014 \u044d\u0442\u043e \u043c\u0430\u0433\u0438\u044f.\n# \u041c\u044b \u0433\u043e\u0432\u043e\u0440\u0438\u043c: \"\u0412\u0435\u0434\u0438 \u0441\u0435\u0431\u044f \u043a\u0430\u043a Chrome \u0432\u0435\u0440\u0441\u0438\u0438 110\".\nresponse = requests.get(\n    \"&lt;https://tls.browserleaks.com/json&gt;\",\n    impersonate=\"chrome110\"\n)\n\nprint(response.json())\n# \u0421\u0435\u0440\u0432\u0435\u0440 \u0443\u0432\u0438\u0434\u0438\u0442, \u0447\u0442\u043e \u043a \u043d\u0435\u043c\u0443 \u043f\u0440\u0438\u0448\u0435\u043b \u0420\u0415\u0410\u041b\u042c\u041d\u042b\u0419 Chrome, \u0430 \u043d\u0435 python-\u0441\u043a\u0440\u0438\u043f\u0442.\n</code></pre> <ul> <li>\u0411\u043e\u043d\u0443\u0441: \u0423 \u043d\u0435\u0451 \u0435\u0441\u0442\u044c <code>AsyncSession</code> \u0434\u043b\u044f \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u0438.</li> </ul>"},{"location":"topic_07_drission/#2-drissionpage-","title":"2. <code>DrissionPage</code> \u2014 \"\u041a\u0438\u0431\u0435\u0440-\u043d\u0430\u0435\u043c\u043d\u0438\u043a\"","text":"<p>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430: <code>Selenium</code> \u0438 <code>Playwright</code> \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u0441\u043b\u0435\u0434\u044b \"\u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438\". \u0423 \u043d\u0438\u0445 \u0435\u0441\u0442\u044c \u0444\u043b\u0430\u0433\u0438 \u0442\u0438\u043f\u0430 <code>navigator.webdriver = true</code>. \u0421\u0430\u0439\u0442\u044b \u0432\u0438\u0434\u044f\u0442 \u044d\u0442\u0438 \u0444\u043b\u0430\u0433\u0438 \u0438 \u043a\u0438\u0434\u0430\u044e\u0442 \u043a\u0430\u043f\u0447\u0443. Playwright \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u044d\u0442\u043e \u0441\u043a\u0440\u044b\u0442\u044c (Stealth-\u043f\u043b\u0430\u0433\u0438\u043d\u044b), \u043d\u043e \u0433\u043e\u043d\u043a\u0430 \u0432\u043e\u043e\u0440\u0443\u0436\u0435\u043d\u0438\u0439 \u043d\u0435 \u043f\u0440\u0435\u043a\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435: <code>DrissionPage</code> \u2014 \u044d\u0442\u043e \u043a\u0438\u0442\u0430\u0439\u0441\u043a\u0430\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 (\u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043c\u0435\u0441\u0442\u0430\u043c\u0438... \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u0435\u0441\u043a\u0430\u044f, \u043d\u043e \u043a\u043e\u0434 \u043c\u043e\u0449\u043d\u044b\u0439). \u041e\u043d\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0447\u0435\u0440\u0435\u0437 CDP (Chrome DevTools Protocol), \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f Webdriver. \u042d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 \u0435\u0451 \u0433\u043e\u0440\u0430\u0437\u0434\u043e \u043c\u0435\u043d\u0435\u0435 \u0437\u0430\u043c\u0435\u0442\u043d\u043e\u0439 \u0434\u043b\u044f \u0430\u043d\u0442\u0438-\u0431\u043e\u0442 \u0441\u0438\u0441\u0442\u0435\u043c.</p> <ul> <li>\u041a\u0438\u043b\u043b\u0435\u0440-\u0444\u0438\u0447\u0430: \u0423\u043c\u0435\u0435\u0442 \u043d\u0430 \u043b\u0435\u0442\u0443 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u044c\u0441\u044f \u043c\u0435\u0436\u0434\u0443 \u0440\u0435\u0436\u0438\u043c\u043e\u043c Browser (\u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433) \u0438 \u0440\u0435\u0436\u0438\u043c\u043e\u043c Requests (\u0431\u044b\u0441\u0442\u0440\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b).</li> <li>\u041a\u043e\u0433\u0434\u0430 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c:<ul> <li>Cloudflare Turnstile (\u0433\u0430\u043b\u043e\u0447\u043a\u0430 \"\u042f \u043d\u0435 \u0440\u043e\u0431\u043e\u0442\") \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 Playwright.</li> <li>\u041d\u0443\u0436\u043d\u043e \u043a\u043b\u0438\u043a\u0430\u0442\u044c, \u043d\u043e Selenium \u043f\u0430\u043b\u0438\u0442\u0441\u044f.</li> </ul> </li> <li>\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441: \u041e\u0447\u0435\u043d\u044c \u043b\u0430\u043a\u043e\u043d\u0438\u0447\u043d\u044b\u0439, \u0432 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 Selenium.</li> </ul> <pre><code>from DrissionPage import ChromiumPage\n\n# \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\npage = ChromiumPage()\n\n# \u0418\u0434\u0435\u043c \u043d\u0430 \u0441\u0430\u0439\u0442 \u0441 \u0437\u0430\u0449\u0438\u0442\u043e\u0439\npage.get('&lt;https://nowsecure.nl&gt;')\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 Cloudflare \u0447\u0430\u0441\u0442\u043e \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u0430,\n# \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e DrissionPage \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u044b\u0448\u044c\u044e \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b,\n# \u0430 \u043d\u0435 \u0447\u0435\u0440\u0435\u0437 JS-\u0438\u043d\u044a\u0435\u043a\u0446\u0438\u0438.\n\n# \u041f\u0430\u0440\u0441\u0438\u043d\u0433 (\u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u043f\u043e\u0445\u043e\u0436 \u043d\u0430 \u0441\u043c\u0435\u0441\u044c BS4 \u0438 Selenium)\nele = page.ele('.callout')\nprint(ele.text)\n\npage.quit()\n</code></pre>"},{"location":"topic_07_drission/#_1","title":"\u2694\ufe0f \u0421\u0420\u0410\u0412\u041d\u0415\u041d\u0418\u0415 \u0421\u041f\u0415\u0426\u0421\u0420\u0415\u0414\u0421\u0422\u0412","text":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0421\u0443\u0442\u044c \u041f\u0440\u043e\u0442\u0438\u0432 \u043a\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c httpx/requests \u0427\u0435\u0441\u0442\u043d\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u041f\u0440\u043e\u0442\u0438\u0432 \u0441\u043b\u0430\u0431\u044b\u0445 \u0441\u0430\u0439\u0442\u043e\u0432 \u26a1 \u041c\u043e\u043b\u043d\u0438\u044f \u041b\u0435\u0433\u043a\u043e curl_cffi \u041f\u043e\u0434\u0434\u0435\u043b\u043a\u0430 TLS \u041f\u0440\u043e\u0442\u0438\u0432 Cloudflare (\u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432) \u26a1 \u041c\u043e\u043b\u043d\u0438\u044f \u041b\u0435\u0433\u043a\u043e Playwright \u0427\u0435\u0441\u0442\u043d\u044b\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u041f\u0440\u043e\u0442\u0438\u0432 SPA / JS-\u0441\u0430\u0439\u0442\u043e\u0432 \ud83d\udc22 \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u043e \u0421\u0440\u0435\u0434\u043d\u0435 DrissionPage \u0421\u0442\u0435\u043b\u0441-\u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u041f\u0440\u043e\u0442\u0438\u0432 Cloudflare (JS + Captcha) \ud83d\udc22 \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u043e \u0421\u0440\u0435\u0434\u043d\u0435"},{"location":"topic_07_drission/#_2","title":"\ud83e\udde0 \u0412\u044b\u0432\u043e\u0434 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430:","text":"<ol> <li>\u0422\u0432\u043e\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u0448\u0430\u0433: \u0412\u0441\u0435\u0433\u0434\u0430 \u043f\u0440\u043e\u0431\u0443\u0439 <code>httpx</code>.</li> <li>\u0415\u0441\u043b\u0438 403: \u041d\u0435 \u0441\u043f\u0435\u0448\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 <code>curl_cffi</code>. \u0415\u0441\u043b\u0438 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u2014 \u0442\u044b \u0441\u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043b \u043a\u0443\u0447\u0443 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432.</li> <li>\u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u0435\u043d JS \u0438 \u0437\u0430\u0449\u0438\u0442\u0430 \u043b\u044e\u0442\u0430\u044f: Playwright \u0441 \u043f\u043b\u0430\u0433\u0438\u043d\u043e\u043c <code>playwright-stealth</code> \u2014 \u044d\u0442\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442.</li> <li>\u0415\u0441\u043b\u0438 Playwright \u043d\u0435 \u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f (\u043a\u0430\u043f\u0447\u0438, \u0432\u0435\u0447\u043d\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438): \u0414\u043e\u0441\u0442\u0430\u0432\u0430\u0439 <code>DrissionPage</code>. \u0421\u0435\u0439\u0447\u0430\u0441 (\u0432 2024-2026) \u044d\u0442\u043e \"\u043c\u0435\u0442\u0430\" \u0434\u043b\u044f \u043f\u0440\u043e\u0431\u0438\u0432\u0430 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0437\u0430\u0449\u0438\u0442. \u041d\u043e \u043f\u043e\u043c\u043d\u0438: \u044d\u0442\u043e \u0442\u044f\u0436\u0435\u043b\u0430\u044f \u0430\u0440\u0442\u0438\u043b\u043b\u0435\u0440\u0438\u044f.</li> </ol> <p>\u0411\u043b\u043e\u043a 2 (\u0410\u0440\u0441\u0435\u043d\u0430\u043b) \u0437\u0430\u043a\u0440\u044b\u0442. \u0423 \u0442\u0435\u0431\u044f \u0435\u0441\u0442\u044c \u043f\u043e\u043b\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432: \u043e\u0442 \u043f\u0435\u0440\u043e\u0447\u0438\u043d\u043d\u043e\u0433\u043e \u043d\u043e\u0436\u0438\u043a\u0430 (<code>httpx</code>) \u0434\u043e \u0433\u0440\u0430\u043d\u0430\u0442\u043e\u043c\u0435\u0442\u0430 (<code>DrissionPage</code>).</p>"},{"location":"topic_08_reverse_api/","title":"\u0422\u0435\u043c\u0430 8: \u0420\u0435\u0432\u0435\u0440\u0441-\u0438\u043d\u0436\u0438\u043d\u0438\u0440\u0438\u043d\u0433 API: \u041a\u0430\u043a \u043d\u0430\u0439\u0442\u0438 \u0441\u043a\u0440\u044b\u0442\u043e\u0435 API \u0432 Network Tab, \u0438 \u043a\u0430\u043a\u0438\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 (Headers/Cookies) \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u0436\u043d\u044b?","text":"<p>\u0417\u0430\u043f\u043e\u043c\u043d\u0438: \u041f\u0430\u0440\u0441\u0438\u0442\u044c HTML \u2014 \u044d\u0442\u043e \u043a\u0430\u043a \u0432\u0437\u043b\u0430\u043c\u044b\u0432\u0430\u0442\u044c \u0434\u0432\u0435\u0440\u044c \u043b\u043e\u043c\u043e\u043c. \u0418\u0441\u043a\u0430\u0442\u044c API \u2014 \u044d\u0442\u043e \u043d\u0430\u0439\u0442\u0438 \u043a\u043b\u044e\u0447 \u043f\u043e\u0434 \u043a\u043e\u0432\u0440\u0438\u043a\u043e\u043c. \u0415\u0441\u043b\u0438 \u0442\u044b \u043d\u0430\u0443\u0447\u0438\u0448\u044c\u0441\u044f \u044d\u0442\u043e\u043c\u0443 \u043d\u0430\u0432\u044b\u043a\u0443, \u0442\u044b \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u043d\u0435\u0448\u044c \u0431\u044b\u0442\u044c \"\u043f\u0430\u0440\u0441\u0435\u0440\u043e\u043c\" \u0438 \u0441\u0442\u0430\u043d\u0435\u0448\u044c \"Reverse Engineer-\u043e\u043c\".</p> <p>\u0422\u0432\u043e\u044f \u0437\u0430\u0434\u0430\u0447\u0430: \u043d\u0430\u0439\u0442\u0438 \u0442\u043e\u0442 \u0441\u0430\u043c\u044b\u0439 HTTP-\u0437\u0430\u043f\u0440\u043e\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434 \u0441\u0430\u0439\u0442\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u0430 \u0431\u044d\u043a\u0435\u043d\u0434, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435.</p>"},{"location":"topic_08_reverse_api/#json","title":"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f \u0410\u041b\u0413\u041e\u0420\u0418\u0422\u041c: \u041e\u0445\u043e\u0442\u0430 \u043d\u0430 JSON","text":""},{"location":"topic_08_reverse_api/#1","title":"\u0428\u0430\u0433 1. \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0437\u0430\u0441\u0430\u0434\u044b","text":"<ol> <li>\u041e\u0442\u043a\u0440\u043e\u0439 \u0441\u0430\u0439\u0442 \u0432 Chrome/Firefox.</li> <li>\u041d\u0430\u0436\u043c\u0438 <code>F12</code> (DevTools) -&gt; \u0412\u043a\u043b\u0430\u0434\u043a\u0430 Network.</li> <li>\u0412\u0410\u0416\u041d\u041e: \u041f\u043e\u0441\u0442\u0430\u0432\u044c \u0433\u0430\u043b\u043e\u0447\u043a\u0443 Preserve log (\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0436\u0443\u0440\u043d\u0430\u043b).<ul> <li>\u0417\u0430\u0447\u0435\u043c: \u0415\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u0434\u0435\u043b\u0430\u0435\u0442 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442, \u043d\u0443\u0436\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u0447\u0435\u0437\u043d\u0443\u0442\u044c. \u042d\u0442\u0430 \u0433\u0430\u043b\u043e\u0447\u043a\u0430 \u043e\u0441\u0442\u0430\u0432\u0438\u0442 \u0435\u0433\u043e \u0432 \u0441\u043f\u0438\u0441\u043a\u0435.</li> </ul> </li> <li>\u0412\u0410\u0416\u041d\u041e: \u041f\u043e\u0441\u0442\u0430\u0432\u044c \u0433\u0430\u043b\u043e\u0447\u043a\u0443 Disable cache. \u041c\u044b \u0445\u043e\u0442\u0438\u043c \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \"\u043a\u0430\u043a \u0432 \u043f\u0435\u0440\u0432\u044b\u0439 \u0440\u0430\u0437\".</li> </ol>"},{"location":"topic_08_reverse_api/#2","title":"\u0428\u0430\u0433 2. \u041f\u0440\u043e\u0432\u043e\u043a\u0430\u0446\u0438\u044f","text":"<p>\u0421\u0430\u0439\u0442 \u043d\u0435 \u043e\u0442\u0434\u0430\u0441\u0442 \u0434\u0430\u043d\u043d\u044b\u0435, \u043f\u043e\u043a\u0430 \u0442\u044b \u043d\u0435 \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u0448\u044c.</p> <ul> <li>\u0415\u0441\u043b\u0438 \u044d\u0442\u043e \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432: \u043f\u0435\u0440\u0435\u0439\u0434\u0438 \u043d\u0430 2-\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443.</li> <li>\u0415\u0441\u043b\u0438 \u044d\u0442\u043e \u043f\u043e\u0438\u0441\u043a: \u0432\u0431\u0435\u0439 \u0441\u043b\u043e\u0432\u043e \u0438 \u043d\u0430\u0436\u043c\u0438 Enter.</li> <li>\u0415\u0441\u043b\u0438 \u044d\u0442\u043e \"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d\": \u043d\u0430\u0436\u043c\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443.</li> </ul>"},{"location":"topic_08_reverse_api/#3","title":"\u0428\u0430\u0433 3. \u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f \u043c\u0443\u0441\u043e\u0440\u0430","text":"<p>\u0412 Network \u0432\u044b\u0441\u044b\u043f\u0435\u0442\u0441\u044f 200 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 (\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438, \u0448\u0440\u0438\u0444\u0442\u044b, \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430). \u0422\u0435\u0431\u0435 \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0418\u0433\u043b\u0443.</p> <ol> <li>\u041d\u0430\u0436\u043c\u0438 \u0444\u0438\u043b\u044c\u0442\u0440 Fetch/XHR (\u044d\u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0434\u0430\u043d\u043d\u044b\u0445).</li> <li>\u0421\u043c\u043e\u0442\u0440\u0438 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043a\u0443 Name. \u0418\u0449\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430:<ul> <li><code>api</code>, <code>v1</code>, <code>v2</code></li> <li><code>search</code>, <code>query</code>, <code>list</code>, <code>catalog</code></li> <li><code>graphql</code> (\u044d\u0442\u043e \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u0430\u044f \u0442\u0435\u043c\u0430, \u043d\u043e \u0441\u0443\u0442\u044c \u0442\u0430 \u0436\u0435).</li> </ul> </li> <li>\u0421\u043c\u043e\u0442\u0440\u0438 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043a\u0443 Size. API-\u043e\u0442\u0432\u0435\u0442\u044b \u043e\u0431\u044b\u0447\u043d\u043e \u0432\u0435\u0441\u044f\u0442 \u043e\u0442 1KB \u0434\u043e 50KB. \u0415\u0441\u043b\u0438 \u0432\u0438\u0434\u0438\u0448\u044c 0B \u2014 \u044d\u0442\u043e \u043f\u0438\u043d\u0433.</li> </ol>"},{"location":"topic_08_reverse_api/#4-preview","title":"\u0428\u0430\u0433 4. \u0414\u043e\u043f\u0440\u043e\u0441 (Preview)","text":"<p>\u0422\u044b\u043a\u0430\u0439 \u043f\u043e \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c \u0438 \u0441\u043c\u043e\u0442\u0440\u0438 \u0432\u043a\u043b\u0430\u0434\u043a\u0443 Preview (\u0438\u043b\u0438 Response).</p> <ul> <li>\u0412\u0438\u0434\u0438\u0448\u044c HTML \u043a\u043e\u0434? \u041c\u0438\u043c\u043e.</li> <li>\u0412\u0438\u0434\u0438\u0448\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e JSON <code>{ \"products\": [...] }</code>? \u041f\u041e\u041f\u0410\u041b\u0421\u042f, \u0413\u0410\u0414.</li> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c, \u0447\u0442\u043e \u0432\u043d\u0443\u0442\u0440\u0438 \u043b\u0435\u0436\u0430\u0442 \u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u044b \u0432\u0438\u0434\u0438\u0448\u044c \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 (\u0446\u0435\u043d\u0430, \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435).</li> </ul>"},{"location":"topic_08_reverse_api/#python-","title":"\ud83e\uddea \u041b\u0410\u0411\u041e\u0420\u0410\u0422\u041e\u0420\u0418\u042f: \u041f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 Python-\u043a\u043e\u0434","text":"<p>\u0422\u044b \u043d\u0430\u0448\u0435\u043b \u0437\u0430\u043f\u0440\u043e\u0441. \u041d\u043e \u043e\u043d \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435. \u041a\u0430\u043a \u0437\u0430\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0435?</p>"},{"location":"topic_08_reverse_api/#copy-as-curl","title":"\u041c\u0435\u0442\u043e\u0434 \"Copy as cURL\" (\u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442)","text":"<ol> <li>\u041f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 Network -&gt; Copy -&gt; Copy as cURL (bash).</li> <li>\u0418\u0434\u0435\u0448\u044c \u043d\u0430 \u0441\u0430\u0439\u0442 curlconverter.com (\u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0448\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0443\u044e \u0442\u0443\u043b\u0437\u0443).</li> <li>\u0412\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0448\u044c cURL.</li> <li>\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u043a\u043e\u0434 \u043d\u0430 Python <code>requests</code> / <code>httpx</code>.</li> </ol>"},{"location":"topic_08_reverse_api/#sanitization","title":"\u0427\u0438\u0441\u0442\u043a\u0430 \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 (Sanitization)","text":"<p>\u0411\u0440\u0430\u0443\u0437\u0435\u0440 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043a\u0443\u0447\u0443 \u043c\u0443\u0441\u043e\u0440\u0430. \u0422\u0432\u043e\u044f \u0437\u0430\u0434\u0430\u0447\u0430 \u2014 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c, \u0447\u0442\u043e\u0431\u044b \u0441\u0435\u0440\u0432\u0435\u0440 \u0442\u0435\u0431\u044f \u043f\u0443\u0441\u0442\u0438\u043b.</p> <p>\u0427\u0435\u043a-\u043b\u0438\u0441\u0442 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 (Headers):</p> <ol> <li><code>User-Agent</code> (\u041e\u0411\u042f\u0417\u0410\u0422\u0415\u041b\u042c\u041d\u041e):<ul> <li>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c\u0441\u044f \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c. \u0411\u0435\u0437 \u044d\u0442\u043e\u0433\u043e \u2014 \u0431\u0430\u043d \u0441\u0440\u0430\u0437\u0443.</li> <li>\u041f\u0440\u0438\u043c\u0435\u0440: <code>Mozilla/5.0 (Windows NT 10.0; Win64; x64)...</code></li> </ul> </li> <li><code>Authorization</code> / <code>X-API-Key</code> (\u041a\u0420\u0418\u0422\u0418\u0427\u041d\u041e):<ul> <li>\u0415\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043b\u043e\u0433\u0438\u043d\u0430 \u0438\u043b\u0438 \u0442\u043e\u043a\u0435\u043d\u044b.</li> <li>\u0418\u0449\u0438 \u0434\u043b\u0438\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0442\u0438\u043f\u0430 <code>Bearer eyJhbGciOiJIUz...</code>. \u042d\u0442\u043e\u0442 \u0442\u043e\u043a\u0435\u043d \u2014 \u0442\u0432\u043e\u0439 \u043f\u0440\u043e\u043f\u0443\u0441\u043a. \u0427\u0430\u0441\u0442\u043e \u043e\u043d \u0436\u0438\u0432\u0435\u0442 \u043f\u0430\u0440\u0443 \u0447\u0430\u0441\u043e\u0432.</li> </ul> </li> <li><code>Cookie</code> (\u0421\u041b\u041e\u0416\u041d\u041e):<ul> <li>\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u043a\u0443\u043a\u0430\u043c\u0438 \u0438\u0437 \u043a\u043e\u0434\u0430. \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442? \u041e\u0442\u043b\u0438\u0447\u043d\u043e, \u0441\u0430\u0439\u0442 \u0431\u0435\u0437\u0437\u0430\u0449\u0438\u0442\u0435\u043d.</li> <li>\u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442? \u0417\u043d\u0430\u0447\u0438\u0442, \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0441\u0435\u0441\u0441\u0438\u044e. \u041f\u0440\u0438\u0434\u0435\u0442\u0441\u044f \u0441\u043b\u0430\u0442\u044c \u043a\u0443\u043a\u0438.</li> </ul> </li> <li><code>Referer</code> / <code>Origin</code> (\u0412\u0410\u0416\u041d\u041e):<ul> <li>\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0442: \"\u0422\u044b \u043f\u0440\u0438\u0448\u0435\u043b \u0441 \u043d\u0430\u0448\u0435\u0433\u043e \u0441\u0430\u0439\u0442\u0430 \u0438\u043b\u0438 \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430?\".</li> <li>\u0412\u0441\u0435\u0433\u0434\u0430 \u0441\u0442\u0430\u0432\u044c <code>Referer</code> \u0440\u0430\u0432\u043d\u044b\u043c \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0441\u0430\u0439\u0442\u0430.</li> </ul> </li> <li><code>Content-Type</code> (\u0422\u041e\u041b\u042c\u041a\u041e \u0414\u041b\u042f POST):<ul> <li>\u0415\u0441\u043b\u0438 \u0448\u043b\u0435\u0448\u044c JSON (<code>application/json</code>) \u0438\u043b\u0438 \u0444\u043e\u0440\u043c\u0443 (<code>application/x-www-form-urlencoded</code>). \u0415\u0441\u043b\u0438 \u043f\u0435\u0440\u0435\u043f\u0443\u0442\u0430\u0435\u0448\u044c \u2014 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043f\u043e\u0439\u043c\u0435\u0442 \u0442\u0432\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435.</li> </ul> </li> </ol>"},{"location":"topic_08_reverse_api/#_1","title":"\ud83e\udde0 \u041f\u0420\u0418\u041c\u0415\u0420 \u0418\u0417 \u0416\u0418\u0417\u041d\u0418","text":"<p>\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c, \u0442\u044b \u043f\u0430\u0440\u0441\u0438\u0448\u044c \"M-Video\" (\u0443\u0441\u043b\u043e\u0432\u043d\u043e).</p> <ol> <li>\u0412 Network \u043d\u0430\u0448\u0435\u043b \u0437\u0430\u043f\u0440\u043e\u0441: <code>POST /api/v2/product/list</code>.</li> <li>\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043b cURL. \u0422\u0430\u043c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 \u043d\u0430 2 \u043a\u0438\u043b\u043e\u043c\u0435\u0442\u0440\u0430.</li> <li>\u041d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \"\u0440\u0430\u0437\u0434\u0435\u0432\u0430\u0442\u044c\" \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 Python:</li> </ol> <pre><code>import httpx\n\nurl = \"&lt;https://api.site.com/v2/product/list&gt;\"\n\n# 1. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0440\u043e\u0431\u0443\u0435\u043c \u041c\u0418\u041d\u0418\u041c\u0423\u041c\nheaders = {\n    \"User-Agent\": \"Mozilla/5.0 ...\", # \u0411\u0435\u0437 \u044d\u0442\u043e\u0433\u043e \u043d\u0438\u043a\u0443\u0434\u0430\n    # \"Cookie\": \"session_id=123...\" # \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0411\u0415\u0417 \u043a\u0443\u043a!\n}\n\n# 2. \u0421\u043c\u043e\u0442\u0440\u0438\u043c Payload (\u0447\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c)\npayload = {\n    \"categoryId\": \"123\",\n    \"offset\": 0,\n    \"limit\": 24\n}\n\nresponse = httpx.post(url, json=payload, headers=headers)\n\nif response.status_code == 200:\n    print(\"\u0423\u0440\u0430, \u043e\u0442\u043a\u0440\u044b\u0442\u043e\u0435 API!\")\n    print(response.json())\nelif response.status_code == 403:\n    print(\"\u0427\u0435\u0440\u0442, \u043d\u0443\u0436\u043d\u044b \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438.\")\n    # \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c Referer, \u043f\u043e\u0442\u043e\u043c Cookie, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442\n</code></pre>"},{"location":"topic_08_reverse_api/#_2","title":"\ud83d\udca1 \u041b\u0430\u0439\u0444\u0445\u0430\u043a \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430: \u041f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f","text":"<p>\u0412 Payload \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0438\u043b\u0438 \u0432 URL) \u0432\u0441\u0435\u0433\u0434\u0430 \u0438\u0449\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0449\u0438\u0435 \u0437\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b:</p> <ul> <li><code>page</code>: 1, 2, 3...</li> <li><code>offset</code>: 0, 24, 48... (\u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435)</li> <li><code>cursor</code>: \"eyJ...\" (\u0441\u0442\u0440\u043e\u043a\u0430-\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u043f\u0430\u0447\u043a\u0443).</li> </ul> <p>\u0422\u0432\u043e\u0439 \u043f\u0430\u0440\u0441\u0435\u0440 \u2014 \u044d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0446\u0438\u043a\u043b <code>for</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u0435\u043d\u044f\u0435\u0442 \u044d\u0442\u0443 \u0446\u0438\u0444\u0440\u0443 \u0438 \u0448\u043b\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 API. \u042d\u0442\u043e \u0432 1000 \u0440\u0430\u0437 \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u0438 \u043d\u0430\u0434\u0435\u0436\u043d\u0435\u0435, \u0447\u0435\u043c \u043a\u043b\u0438\u043a\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 \"\u0414\u0430\u043b\u0435\u0435\" \u0432 Selenium.</p>"},{"location":"topic_09_antibot/","title":"\u0422\u0435\u043c\u0430 9: \u0410\u043d\u0442\u0438-\u0431\u043e\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u044b: \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 TLS Fingerprint (JA3), \u0438 \u043f\u043e\u0447\u0435\u043c\u0443 \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0438\u0434\u0438\u0442, \u0447\u0442\u043e \u044f \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0430 Python, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u044f \u043f\u043e\u0434\u043c\u0435\u043d\u0438\u043b User-Agent?","text":"<p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e: \u0422\u044b \u043a\u0443\u043f\u0438\u043b \u044d\u043b\u0438\u0442\u043d\u044b\u0435 \u043f\u0440\u043e\u043a\u0441\u0438. \u0422\u044b \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u043b <code>User-Agent</code> \u043e\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e Chrome. \u0422\u044b \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043b \u0432\u0441\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u043e\u0434\u0438\u043d \u0432 \u043e\u0434\u0438\u043d. \u0422\u044b \u0448\u043b\u0435\u0448\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0430\u0439\u0442... \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c 403 Forbidden \u0438\u043b\u0438 \u0432\u0435\u0447\u043d\u0443\u044e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 Cloudflare.</p> <p>\u041f\u043e\u0447\u0435\u043c\u0443? \u041f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0442\u044b \u043f\u043e\u0434\u0434\u0435\u043b\u0430\u043b \"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\" (User-Agent), \u043d\u043e \"\u041f\u043e\u0445\u043e\u0434\u043a\u0430\" (TLS Handshake) \u0432\u044b\u0434\u0430\u0435\u0442 \u0432 \u0442\u0435\u0431\u0435 \u0440\u043e\u0431\u043e\u0442\u0430.</p>"},{"location":"topic_09_antibot/#1-tls-handshake","title":"1. \u041a\u0430\u043a \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u043e (TLS Handshake)","text":"<p>\u041a\u043e\u0433\u0434\u0430 \u0442\u0432\u043e\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 (\u0438\u043b\u0438 \u0441\u043a\u0440\u0438\u043f\u0442) \u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u0442\u0441\u044f \u0441 \u0441\u0430\u0439\u0442\u043e\u043c \u043f\u043e HTTPS, \u043f\u0435\u0440\u0432\u043e\u0435, \u0447\u0442\u043e \u043e\u043d \u0434\u0435\u043b\u0430\u0435\u0442 \u2014 \u044d\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0430\u043a\u0435\u0442 ClientHello. \u042d\u0442\u043e \u043a\u0430\u043a \u043f\u0440\u043e\u0442\u044f\u043d\u0443\u0442\u044c \u0440\u0443\u043a\u0443 \u0434\u043b\u044f \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f. \u0412 \u044d\u0442\u043e\u043c \u043f\u0430\u043a\u0435\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442 \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0443: \"\u041f\u0440\u0438\u0432\u0435\u0442! \u042f \u0443\u043c\u0435\u044e \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0432\u043e\u0442 \u0442\u0430\u043a:\"</p> <ol> <li>Cipher Suites: \u041a\u0430\u043a\u0438\u0435 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u044b \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e (AES, ChaCha20...).</li> <li>TLS Version: TLS 1.2 \u0438\u043b\u0438 1.3.</li> <li>Extensions: \u0412\u0441\u044f\u043a\u0438\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0438\u0447\u0438 (Supported Groups, EC Point Formats, ALPN...).</li> </ol> <p>\u0421\u0423\u0422\u042c \u041f\u0420\u041e\u0411\u041b\u0415\u041c\u042b:</p> <ul> <li>Chrome \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u043e\u0434\u043d\u0438 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u044b \u0438 \u0432 \u0441\u0442\u0440\u043e\u0433\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435.</li> <li>Python (\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>ssl</code> + <code>requests</code>) \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u0441\u043e\u0432\u0441\u0435\u043c \u0434\u0440\u0443\u0433\u043e\u0439, \u043a\u0443\u0446\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u043e\u0432 \u0438 \u0432 \u0434\u0440\u0443\u0433\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435.</li> </ul>"},{"location":"topic_09_antibot/#2-ja3-fingerprint","title":"2. \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 JA3 Fingerprint?","text":"<p>\u0410\u0434\u043c\u0438\u043d\u044b (Cloudflare, Akamai) \u043f\u0440\u0438\u0434\u0443\u043c\u0430\u043b\u0438 \u0445\u0438\u0442\u0440\u0443\u044e \u0448\u0442\u0443\u043a\u0443. \u041e\u043d\u0438 \u0431\u0435\u0440\u0443\u0442 \u0432\u0435\u0441\u044c \u044d\u0442\u043e\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0438\u0437 <code>ClientHello</code>, \u0441\u043a\u043b\u0435\u0438\u0432\u0430\u044e\u0442 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u0438 \u0445\u0435\u0448\u0438\u0440\u0443\u044e\u0442 (MD5). \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u043f\u0435\u0447\u0430\u0442\u043e\u043a \u2014 JA3.</p> <ul> <li>\u0423 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0433\u043e Chrome \u043e\u0442\u043f\u0435\u0447\u0430\u0442\u043e\u043a \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u0434\u0438\u043d (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: <code>cd08e31494f9531f560d64c695473da9</code>).</li> <li>\u0423 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e Python requests \u043e\u043d \u0434\u0440\u0443\u0433\u043e\u0439 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: <code>54328bd3642ff550a241459a03975051</code>).</li> </ul> <p>\u041b\u043e\u0432\u0443\u0448\u043a\u0430 \u0437\u0430\u0445\u043b\u043e\u043f\u044b\u0432\u0430\u0435\u0442\u0441\u044f: \u0421\u0435\u0440\u0432\u0435\u0440 \u0441\u043c\u043e\u0442\u0440\u0438\u0442:</p> <ol> <li>User-Agent: \"\u042f Chrome \u043d\u0430 Windows!\"</li> <li>JA3 Hash: \"\u042f Python \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0430 Linux!\"</li> <li>\u0412\u0435\u0440\u0434\u0438\u043a\u0442: \u041d\u0415\u0421\u041e\u0412\u041f\u0410\u0414\u0415\u041d\u0418\u0415 -&gt; \u0411\u041e\u0422 -&gt; \u0411\u0410\u041d.</li> </ol> <p>\u0418\u043c\u0435\u043d\u043d\u043e \u043f\u043e\u044d\u0442\u043e\u043c\u0443 <code>requests</code> \u0438 <code>aiohttp</code> \u0431\u0435\u0441\u043f\u043e\u043b\u0435\u0437\u043d\u044b \u043f\u0440\u043e\u0442\u0438\u0432 \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u044b\u0445 \u0437\u0430\u0449\u0438\u0442. \u041e\u043d\u0438 \u043d\u0435 \u0443\u043c\u0435\u044e\u0442 \u043c\u0435\u043d\u044f\u0442\u044c \u0441\u0432\u043e\u044e \"\u043f\u043e\u0445\u043e\u0434\u043a\u0443\" (\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b SSL), \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 OpenSSL, \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u0443\u044e \u0432 Python.</p>"},{"location":"topic_09_antibot/#3-ciphers-impersonation","title":"3. \u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u041f\u043e\u0434\u043c\u0435\u043d\u0430 \u043e\u0442\u043f\u0435\u0447\u0430\u0442\u043a\u0430 (Ciphers Impersonation)","text":"<p>\u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0439\u0442\u0438 \u0444\u0435\u0439\u0441-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c, \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u0434\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442, \u043d\u043e \u0438 \u043d\u0430\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u0436\u0430\u0442\u044c \u0440\u0443\u043a\u0443 \"\u043f\u043e-\u043f\u0430\u0446\u0430\u043d\u0441\u043a\u0438\", \u043a\u0430\u043a Chrome. \u041e\u0431\u044b\u0447\u043d\u044b\u0439 Python \u044d\u0442\u043e\u0433\u043e \u043d\u0435 \u0443\u043c\u0435\u0435\u0442. \u041d\u0430\u043c \u043d\u0443\u0436\u043d\u044b \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0441\u0432\u043e\u0439 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 SSL-\u0434\u0432\u0438\u0436\u043e\u043a.</p>"},{"location":"topic_09_antibot/#no1-curl_cffi","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u21161: <code>curl_cffi</code> (\u0422\u043e\u043f \u0432\u044b\u0431\u043e\u0440)","text":"<p>\u042d\u0442\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043c\u043e\u0434\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e <code>curl</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443\u043c\u0435\u0435\u0442 \u043f\u0440\u0438\u0442\u0432\u043e\u0440\u044f\u0442\u044c\u0441\u044f \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430\u043c\u0438 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 TLS.</p> <pre><code>from curl_cffi import requests\n\n# impersonate=\"chrome120\" \u2014 \u044d\u0442\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0430:\n# \"\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0439 \u043f\u0430\u043a\u0435\u0442 ClientHello \u0422\u041e\u0427\u041d\u041e \u0442\u0430\u043a \u0436\u0435, \u043a\u0430\u043a Chrome 120\"\nresponse = requests.get(\n    \"&lt;https://tls.browserleaks.com/json&gt;\",\n    impersonate=\"chrome120\"\n)\n\n# \u0421\u0435\u0440\u0432\u0435\u0440 \u0443\u0432\u0438\u0434\u0438\u0442 JA3 \u043e\u0442 Chrome.\n# User-Agent \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u0438\u0442 \u0441\u0430\u043c\u0430 (\u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0445\u0440\u043e\u043c\u0443).\nprint(response.json())\n</code></pre>"},{"location":"topic_09_antibot/#no2-tls_client","title":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u21162: <code>tls_client</code>","text":"<p>\u042d\u0442\u043e Python-\u043e\u0431\u0435\u0440\u0442\u043a\u0430 \u043d\u0430\u0434 Go-\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u043e\u0439. \u0422\u043e\u0436\u0435 \u043c\u043e\u0449\u043d\u0430\u044f, \u043d\u043e <code>curl_cffi</code> \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u0435\u0435.</p>"},{"location":"topic_09_antibot/#tls","title":"\ud83e\uddea \u0414\u0418\u0410\u0413\u041d\u041e\u0421\u0422\u0418\u041a\u0410: \u041a\u0430\u043a \u043f\u043e\u043d\u044f\u0442\u044c, \u0447\u0442\u043e \u043c\u0435\u043d\u044f \u0431\u0430\u043d\u044f\u0442 \u043f\u043e TLS?","text":"<p>\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0442\u0435\u0441\u0442.</p> <ol> <li>\u0412\u043e\u0437\u044c\u043c\u0438 \u0441\u0430\u0439\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0442\u0435\u0431\u044f \u043d\u0435 \u043f\u0443\u0441\u043a\u0430\u0435\u0442.</li> <li>\u0421\u0434\u0435\u043b\u0430\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0447\u0435\u0440\u0435\u0437 \u043e\u0431\u044b\u0447\u043d\u044b\u0439 <code>requests</code> (\u0441 \u043f\u043e\u0434\u043c\u0435\u043d\u043e\u0439 User-Agent).<ul> <li>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: 403?</li> </ul> </li> <li>\u0421\u0434\u0435\u043b\u0430\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0447\u0435\u0440\u0435\u0437 <code>curl_cffi</code> \u0441 <code>impersonate=\"chrome\"</code>.<ul> <li>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: 200 OK?</li> </ul> </li> </ol> <p>\u0412\u044b\u0432\u043e\u0434: \u0415\u0441\u043b\u0438 \u043f\u0443\u043d\u043a\u0442 3 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b \u2014 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0431\u044b\u043b\u0430 \u0438\u043c\u0435\u043d\u043d\u043e \u0432 TLS Fingerprint. \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u043b\u0443\u0431.</p>"},{"location":"topic_09_antibot/#_1","title":"\ud83e\udde0 \u0420\u0435\u0437\u044e\u043c\u0435 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430:","text":"<p>\u0412 2026 \u0433\u043e\u0434\u0443 \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u0435 \u0441\u0430\u0439\u0442\u044b (Avito, Amazon, Cloudflare-sites) \u043e\u0431\u044b\u0447\u043d\u044b\u043c <code>requests</code> \u2014 \u044d\u0442\u043e \u0442\u0440\u0430\u0442\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438. \u0415\u0441\u043b\u0438 \u0432\u0438\u0434\u0438\u0448\u044c \u0437\u0430\u0449\u0438\u0442\u0443 \u2014 \u0441\u0440\u0430\u0437\u0443 \u0431\u0435\u0440\u0438 <code>curl_cffi</code>. \u042d\u0442\u043e \u0441\u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0442 \u0442\u0435\u0431\u0435 \u0447\u0430\u0441\u044b \u0433\u0430\u0434\u0430\u043d\u0438\u044f \"\u043f\u043e\u0447\u0435\u043c\u0443 \u043c\u0435\u043d\u044f \u0437\u0430\u0431\u0430\u043d\u0438\u043b\u0438\".</p>"},{"location":"topic_10_proxy/","title":"\u0422\u0435\u043c\u0430 10: \u041f\u0440\u043e\u043a\u0441\u0438 \u0438 \u0420\u043e\u0442\u0430\u0446\u0438\u044f: \u041a\u0430\u043a\u0438\u0435 \u0431\u044b\u0432\u0430\u044e\u0442 \u043f\u0440\u043e\u043a\u0441\u0438 (Residental vs Server) \u0438 \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043c\u0435\u043d\u044f\u0442\u044c IP, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0441\u043f\u0430\u043b\u0438\u0442\u044c\u0441\u044f?","text":"<p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c, \u0447\u0442\u043e \u0442\u044b \u0433\u0440\u0430\u0431\u0438\u0448\u044c \u0431\u0430\u043d\u043a. \u0422\u044b \u043d\u0430\u0434\u0435\u043b \u043c\u0430\u0441\u043a\u0443 (User-Agent), \u043d\u0430\u0443\u0447\u0438\u043b\u0441\u044f \u0445\u043e\u0434\u0438\u0442\u044c \u043a\u0430\u043a \u043e\u0445\u0440\u0430\u043d\u043d\u0438\u043a (TLS Fingerprint), \u043d\u043e... \u0442\u044b \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0448\u044c \u0432 \u0431\u0430\u043d\u043a \u043a\u0430\u0436\u0434\u044b\u0435 5 \u0441\u0435\u043a\u0443\u043d\u0434 \u0447\u0435\u0440\u0435\u0437 \u043e\u0434\u043d\u0443 \u0438 \u0442\u0443 \u0436\u0435 \u0434\u0432\u0435\u0440\u044c. \u041e\u0445\u0440\u0430\u043d\u043d\u0438\u043a \u043d\u0435 \u0442\u0443\u043f\u043e\u0439. \u041e\u043d \u043f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u043a\u0440\u043e\u0435\u0442 \u044d\u0442\u0443 \u0434\u0432\u0435\u0440\u044c.</p> <p>IP-\u0430\u0434\u0440\u0435\u0441 \u2014 \u044d\u0442\u043e \u0442\u0432\u043e\u0439 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0432\u0445\u043e\u0434. \u0427\u0442\u043e\u0431\u044b \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u043d\u043e, \u0442\u0435\u0431\u0435 \u043d\u0443\u0436\u043d\u043e \u043c\u0435\u043d\u044f\u0442\u044c \"\u0434\u0432\u0435\u0440\u0438\" \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e.</p>"},{"location":"topic_10_proxy/#1","title":"1. \u041f\u0438\u0440\u0430\u043c\u0438\u0434\u0430 \u041f\u0440\u043e\u043a\u0441\u0438 (\u0422\u0438\u043f\u044b)","text":"<p>\u041d\u0435 \u0432\u0441\u0435 IP \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u044b. \u0415\u0441\u0442\u044c \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u044f.</p>"},{"location":"topic_10_proxy/#1-datacenter","title":"\u0423\u0440\u043e\u0432\u0435\u043d\u044c 1: Datacenter (\u0421\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0435) \u2014 \"\u0414\u0435\u0448\u0435\u0432\u043e \u0438 \u0441\u0435\u0440\u0434\u0438\u0442\u043e\"","text":"<p>\u042d\u0442\u043e IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0445\u043e\u0441\u0442\u0438\u043d\u0433\u043e\u0432 (AWS, DigitalOcean, Hetzner).</p> <ul> <li>\u041f\u043b\u044e\u0441\u044b: \u0414\u0435\u0448\u0435\u0432\u044b\u0435, \u0431\u0435\u0437\u0443\u043c\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u044b\u0435, \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u044b\u0435.</li> <li>\u041c\u0438\u043d\u0443\u0441\u044b: \u0423 \u043d\u0438\u0445 \u043d\u0430 \u043b\u0431\u0443 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043e \"\u042f \u0421\u0415\u0420\u0412\u0415\u0420\". \u0421\u0430\u0439\u0442\u044b \u0432\u0438\u0434\u044f\u0442, \u0447\u0442\u043e IP \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442 \u0434\u0430\u0442\u0430-\u0446\u0435\u043d\u0442\u0440\u0443, \u0430 \u0436\u0438\u0432\u044b\u0435 \u043b\u044e\u0434\u0438 \u043d\u0435 \u0441\u0438\u0434\u044f\u0442 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432.</li> <li>\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435: \u0418\u0434\u0435\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0441\u0430\u0439\u0442\u043e\u0432 \u0431\u0435\u0437 \u0437\u0430\u0449\u0438\u0442\u044b. \u0414\u043b\u044f Avito \u0438\u043b\u0438 Google \u2014 \u043c\u0443\u0441\u043e\u0440, \u0437\u0430\u0431\u0430\u043d\u044f\u0442 \u043f\u043e\u0434\u0441\u0435\u0442\u044c\u044e \u0441\u0440\u0430\u0437\u0443.</li> </ul>"},{"location":"topic_10_proxy/#2-residential","title":"\u0423\u0440\u043e\u0432\u0435\u043d\u044c 2: Residential (\u0420\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u0441\u043a\u0438\u0435) \u2014 \"\u041c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u043e\u0434 \u0441\u043e\u0441\u0435\u0434\u0430\"","text":"<p>\u042d\u0442\u043e IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043b\u044e\u0434\u0435\u0439 (\u0434\u043e\u043c\u0430\u0448\u043d\u0438\u0439 Wi-Fi). \u041a\u0430\u043a \u043e\u043d\u0438 \u0438\u0445 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442? \u041e\u0431\u044b\u0447\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 VPN-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0448\u0438\u0432\u0430\u044e\u0442 \u044e\u0437\u0435\u0440\u0430\u043c SDK: \"\u0422\u044b \u044e\u0437\u0430\u0435\u0448\u044c VPN \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e, \u0430 \u043c\u044b \u044e\u0437\u0430\u0435\u043c \u0442\u0432\u043e\u0439 \u043a\u0430\u043d\u0430\u043b \u043a\u0430\u043a \u043f\u0440\u043e\u043a\u0441\u0438\".</p> <ul> <li>\u041f\u043b\u044e\u0441\u044b: \u0412\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u043a\u0430\u043a \u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0412\u0430\u0441\u044f \u0438\u0437 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0430. \u0422\u0440\u0430\u0441\u0442 (\u0434\u043e\u0432\u0435\u0440\u0438\u0435) \u0432\u044b\u0441\u043e\u043a\u0438\u0439.</li> <li>\u041c\u0438\u043d\u0443\u0441\u044b: \u0414\u043e\u0440\u043e\u0433\u0438\u0435 (\u043f\u0440\u043e\u0434\u0430\u044e\u0442\u0441\u044f \u0437\u0430 \u0433\u0438\u0433\u0430\u0431\u0430\u0439\u0442\u044b \u0442\u0440\u0430\u0444\u0438\u043a\u0430). \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u0435\u0435 (\u043a\u0430\u043d\u0430\u043b \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0412\u0430\u0441\u0438). \u041c\u043e\u0433\u0443\u0442 \u043e\u0442\u0432\u0430\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u043b\u044e\u0431\u043e\u0439 \u043c\u043e\u043c\u0435\u043d\u0442, \u0435\u0441\u043b\u0438 \u0412\u0430\u0441\u044f \u0432\u044b\u043a\u043b\u044e\u0447\u0438\u043b \u0440\u043e\u0443\u0442\u0435\u0440.</li> <li>\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435: \u0417\u043e\u043b\u043e\u0442\u0430\u044f \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0430 \u0434\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u0445 \u0441\u0430\u0439\u0442\u043e\u0432.</li> </ul>"},{"location":"topic_10_proxy/#3-mobile","title":"\u0423\u0440\u043e\u0432\u0435\u043d\u044c 3: Mobile (\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0435) \u2014 \"\u0420\u0435\u0436\u0438\u043c \u0411\u043e\u0433\u0430\"","text":"<p>\u042d\u0442\u043e IP-\u0430\u0434\u0440\u0435\u0441\u0430 \u0441\u043e\u0442\u043e\u0432\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 (4G/5G).</p> <ul> <li>\u0421\u0443\u0442\u044c (CGNAT): \u0423 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 \u043c\u0430\u043b\u043e IPv4 \u0430\u0434\u0440\u0435\u0441\u043e\u0432. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u0437\u0430 \u043e\u0434\u043d\u0438\u043c IP \u043c\u043e\u0436\u0435\u0442 \u0441\u0438\u0434\u0435\u0442\u044c 1000 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043b\u044e\u0434\u0435\u0439.</li> <li>\u041f\u043e\u0447\u0435\u043c\u0443 \u044d\u0442\u043e \u043a\u0440\u0443\u0442\u043e: \u0421\u0430\u0439\u0442 \u0411\u041e\u0418\u0422\u0421\u042f \u0431\u0430\u043d\u0438\u0442\u044c \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 IP. \u0415\u0441\u043b\u0438 \u043e\u043d \u0437\u0430\u0431\u0430\u043d\u0438\u0442 \u044d\u0442\u043e\u0442 IP, \u043e\u043d \u043e\u0442\u0440\u0435\u0436\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u0442\u044b\u0441\u044f\u0447\u0435 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432.</li> <li>\u041f\u043b\u044e\u0441\u044b: \u041f\u043e\u0447\u0442\u0438 \u0431\u0435\u0441\u0441\u043c\u0435\u0440\u0442\u043d\u044b\u0435.</li> <li>\u041c\u0438\u043d\u0443\u0441\u044b: \u041e\u0447\u0435\u043d\u044c \u0434\u043e\u0440\u043e\u0433\u0438\u0435.</li> <li>\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435: Instagram, Facebook, \u0441\u0430\u043c\u044b\u0435 \u043b\u044e\u0442\u044b\u0435 \u0437\u0430\u0449\u0438\u0442\u044b.</li> </ul>"},{"location":"topic_10_proxy/#2-ip","title":"2. \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u0420\u043e\u0442\u0430\u0446\u0438\u0438: \u041a\u0430\u043a \u043c\u0435\u043d\u044f\u0442\u044c IP?","text":"<p>\u0423 \u0442\u0435\u0431\u044f \u0435\u0441\u0442\u044c \u0434\u0432\u0430 \u043f\u0443\u0442\u0438, \u043a\u0430\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u043a\u0441\u0438 \u0432 \u043a\u043e\u0434\u0435.</p>"},{"location":"topic_10_proxy/#gateway","title":"\u041f\u0443\u0442\u044c \u0410: Gateway (\u0420\u043e\u0442\u0430\u0446\u0438\u044f \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435)","text":"<p>\u0422\u044b \u043f\u043e\u043a\u0443\u043f\u0430\u0435\u0448\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u0443\u043b\u0443 \u043f\u0440\u043e\u043a\u0441\u0438. \u0422\u0435\u0431\u0435 \u0434\u0430\u044e\u0442 \u043e\u0434\u0438\u043d \u0430\u0434\u0440\u0435\u0441 (Gateway), \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 <code>proxy.provider.com:8000</code>. \u041a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437, \u043a\u043e\u0433\u0434\u0430 \u0442\u044b \u0448\u043b\u0435\u0448\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u044d\u0442\u043e\u0442 \u0430\u0434\u0440\u0435\u0441, \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0441\u0430\u043c \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0435\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u043d\u043e\u0432\u044b\u0439 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 IP \u0438\u0437 \u043f\u0443\u043b\u0430.</p> <ul> <li>\u041a\u043e\u0434: \u042d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u0439. \u0422\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u0434\u043e\u043b\u0431\u0438\u0448\u044c \u0432 \u043e\u0434\u043d\u0443 \u0434\u044b\u0440\u043a\u0443.</li> <li>\u041f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f: \u0421\u0431\u043e\u0440\u0430 \u043e\u0431\u0449\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 (\u0446\u0435\u043d\u044b, \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438), \u0433\u0434\u0435 \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f.</li> </ul>"},{"location":"topic_10_proxy/#sticky-session","title":"\u041f\u0443\u0442\u044c \u0411: Sticky Session (\u041b\u0438\u043f\u043a\u0430\u044f \u0441\u0435\u0441\u0441\u0438\u044f)","text":"<p>\u0415\u0441\u043b\u0438 \u0442\u0435\u0431\u0435 \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u0438 \u0445\u043e\u0434\u0438\u0442\u044c \u043f\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0443, \u0442\u0435\u0431\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043c\u0435\u043d\u044f\u0442\u044c IP \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u043a\u043b\u0438\u043a\u0435 (\u0441\u0430\u0439\u0442 \u043e\u0445\u0440\u0435\u043d\u0435\u0435\u0442, \u0447\u0442\u043e \u0442\u044b \u0437\u0430 \u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u043b\u0441\u044f \u0438\u0437 \u0422\u043e\u043a\u0438\u043e \u0432 \u041f\u0430\u0440\u0438\u0436). \u0422\u0435\u0431\u0435 \u043d\u0443\u0436\u043d\u043e \"\u043f\u0440\u0438\u043b\u0438\u043f\u043d\u0443\u0442\u044c\" \u043a \u043e\u0434\u043d\u043e\u043c\u0443 IP \u043d\u0430 \u0432\u0440\u0435\u043c\u044f \u0441\u0435\u0441\u0441\u0438\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430 10 \u043c\u0438\u043d\u0443\u0442).</p> <ul> <li>\u041a\u0430\u043a \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442\u0441\u044f: \u041e\u0431\u044b\u0447\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 username \u043f\u0440\u043e\u043a\u0441\u0438.<ul> <li>\u0417\u0430\u043f\u0440\u043e\u0441 1: <code>user-session-123:pass@host:port</code> -&gt; IP A</li> <li>\u0417\u0430\u043f\u0440\u043e\u0441 2: <code>user-session-123:pass@host:port</code> -&gt; IP A (\u0442\u043e\u0442 \u0436\u0435!)</li> <li>\u0417\u0430\u043f\u0440\u043e\u0441 3: <code>user-session-456:pass@host:port</code> -&gt; IP B (\u043d\u043e\u0432\u044b\u0439 \u044e\u0437\u0435\u0440 = \u043d\u043e\u0432\u044b\u0439 IP)</li> </ul> </li> </ul>"},{"location":"topic_10_proxy/#3","title":"3. \ud83d\udc68\u200d\ud83d\udcbb \u041a\u041e\u0414: \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043f\u0440\u043e\u043a\u0441\u0438","text":"<p>\u0412 <code>httpx</code> (\u0438 <code>requests</code>, \u0438 <code>curl_cffi</code>) \u043f\u0440\u043e\u043a\u0441\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u044e\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0441\u043b\u043e\u0432\u0430\u0440\u044c <code>proxies</code>.</p> <pre><code>import httpx\n\n# \u0424\u043e\u0440\u043c\u0430\u0442: protocol://user:pass@host:port\nPROXY_URL = \"&lt;http://myuser:mypassword@gate.proxyservice.com:8000&gt;\"\n\n# \u0414\u043b\u044f httpx \u043f\u0440\u043e\u043a\u0441\u0438 \u0437\u0430\u0434\u0430\u044e\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 'mounts' \u0438\u043b\u0438 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 'proxy' (\u0432 \u043d\u043e\u0432\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u044f\u0445)\n# \u0421\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431:\nproxies = {\n    \"http://\": PROXY_URL,\n    \"https://\": PROXY_URL,\n}\n\n# 1. \u0420\u043e\u0442\u0430\u0446\u0438\u044f \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435 (\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c)\nwith httpx.Client(proxies=proxies) as client:\n    resp = client.get(\"&lt;https://httpbin.org/ip&gt;\")\n    print(f\"\u041c\u043e\u0439 IP: {resp.json()['origin']}\")\n    # \u0412\u044b\u0432\u0435\u0434\u0435\u0442 IP \u043f\u0440\u043e\u043a\u0441\u0438, \u0430 \u043d\u0435 \u0442\u0432\u043e\u0439\n\n# 2. \u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e + \u0420\u043e\u0442\u0430\u0446\u0438\u044f\nasync def fetch_with_proxy():\n    async with httpx.AsyncClient(proxies=proxies) as client:\n        resp = await client.get(\"&lt;https://httpbin.org/ip&gt;\")\n        print(resp.text)\n</code></pre>"},{"location":"topic_10_proxy/#_1","title":"\ud83e\udde0 \u0421\u043e\u0432\u0435\u0442\u044b \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430:","text":"<ol> <li>\u041d\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0439 \u0441\u043f\u0438\u0441\u043a\u0438 \u043f\u0440\u043e\u043a\u0441\u0438 (txt \u0444\u0430\u0439\u043b\u044b). \u042d\u0442\u043e \u043f\u0440\u043e\u0448\u043b\u044b\u0439 \u0432\u0435\u043a. 90% \u0438\u0437 \u043d\u0438\u0445 \u043c\u0435\u0440\u0442\u0432\u044b. \u041f\u043e\u043a\u0443\u043f\u0430\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u043a Gateway (\u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0442\u0438\u043f\u0430 Bright Data, Smartproxy, Soax, Webshare). \u0422\u044b \u043f\u043b\u0430\u0442\u0438\u0448\u044c \u0437\u0430 \u0442\u0440\u0430\u0444\u0438\u043a, \u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441.</li> <li>\u042d\u043a\u043e\u043d\u043e\u043c\u044c \u0442\u0440\u0430\u0444\u0438\u043a. \u0415\u0441\u043b\u0438 \u044e\u0437\u0430\u0435\u0448\u044c \u0440\u0435\u0437\u0438\u0434\u0435\u043d\u0442\u043e\u0432 (\u043e\u043d\u0438 \u0434\u043e\u0440\u043e\u0433\u0438\u0435), \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u0438 \u0448\u0440\u0438\u0444\u0442\u043e\u0432 (\u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432 Playwright). \u0422\u044b \u043f\u043b\u0430\u0442\u0438\u0448\u044c \u0437\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0433\u0438\u0433\u0430\u0431\u0430\u0439\u0442. \u0417\u0430\u0447\u0435\u043c \u0442\u0435\u0431\u0435 \u043a\u0430\u0447\u0430\u0442\u044c \u0431\u0430\u043d\u043d\u0435\u0440 \u043d\u0430 5\u041c\u0411?</li> <li>\u041e\u0448\u0438\u0431\u043a\u0430 407 (Proxy Authentication Required): \u0417\u043d\u0430\u0447\u0438\u0442, \u0442\u044b \u0437\u0430\u0431\u044b\u043b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0439 IP \u0432 \"\u0431\u0435\u043b\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a\" \u0432 \u043f\u0430\u043d\u0435\u043b\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u043a\u0441\u0438-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430, \u043b\u0438\u0431\u043e \u043e\u0448\u0438\u0431\u0441\u044f \u0432 \u043b\u043e\u0433\u0438\u043d\u0435/\u043f\u0430\u0440\u043e\u043b\u0435.</li> </ol> <p>\u0411\u043b\u043e\u043a 3 (\u0412\u0437\u043b\u043e\u043c) \u0437\u0430\u043a\u0440\u044b\u0442. \u041c\u044b \u043d\u0430\u0443\u0447\u0438\u043b\u0438\u0441\u044c \u043b\u043e\u043c\u0430\u0442\u044c API, \u043f\u043e\u0434\u0434\u0435\u043b\u044b\u0432\u0430\u0442\u044c TLS \u0438 \u043c\u0435\u043d\u044f\u0442\u044c \u043c\u0430\u0441\u043a\u0438 (IP). \u0422\u0435\u043f\u0435\u0440\u044c \u0442\u044b \u0443\u043c\u0435\u0435\u0448\u044c \u0434\u043e\u0431\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435. \u041d\u043e \u043a\u0430\u043a \u0438\u0445 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u0440\u0435\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0432 \u043f\u043e\u043c\u043e\u0439\u043a\u0443?</p>"},{"location":"topic_11_pydantic/","title":"\u0422\u0435\u043c\u0430 11: \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u0430\u043d\u043d\u044b\u0445: \u041f\u043e\u0447\u0435\u043c\u0443 dict \u2014 \u044d\u0442\u043e \u0437\u043b\u043e, \u0438 \u0437\u0430\u0447\u0435\u043c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Pydantic \u0434\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430?","text":"<p>\u041d\u043e\u0432\u0438\u0447\u043a\u0438 \u043b\u044e\u0431\u044f\u0442 \u0441\u043b\u043e\u0432\u0430\u0440\u0438 (<code>dict</code>). \"\u041e, \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0435\u0440\u043d\u0443\u043b JSON, \u044f \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u044e <code>data = response.json()</code> \u0438 \u0431\u0443\u0434\u0443 \u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u043f\u043e \u043a\u043b\u044e\u0447\u0430\u043c!\"</p> <p>\u042d\u0442\u043e \u043c\u0438\u043d\u0430 \u0437\u0430\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f. \u041f\u043e\u043a\u0430 \u0441\u043a\u0440\u0438\u043f\u0442 \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439 \u2014 \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442. \u041a\u043e\u0433\u0434\u0430 \u0441\u043a\u0440\u0438\u043f\u0442 \u0440\u0430\u0437\u0440\u0430\u0441\u0442\u0430\u0435\u0442\u0441\u044f, \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u044e\u0442 \u043a\u043e\u0434 \u0432 \u043f\u043e\u043c\u043e\u0439\u043a\u0443, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c.</p>"},{"location":"topic_11_pydantic/#1-dict","title":"1. \u041f\u043e\u0447\u0435\u043c\u0443 <code>dict</code> \u2014 \u044d\u0442\u043e \u0431\u043e\u043b\u044c? (\u0421\u0438\u043d\u0434\u0440\u043e\u043c \"\u0423\u0433\u0430\u0434\u0430\u0439 \u041a\u043b\u044e\u0447\")","text":"<p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c \u043a\u043e\u0434:</p> <pre><code>def process_item(item):\n    # \u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 item? \u0421\u043b\u043e\u0432\u0430\u0440\u044c. \u041a\u0430\u043a\u0438\u0435 \u0442\u0430\u043c \u043a\u043b\u044e\u0447\u0438? \u0425\u0417.\n    # \u041d\u0430\u0434\u043e \u043b\u0435\u0437\u0442\u044c \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0438\u043b\u0438 \u043f\u0440\u0438\u043d\u0442\u043e\u0432\u0430\u0442\u044c item, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c.\n\n    # \u041e\u0448\u0438\u0431\u043a\u0430 1: \u041e\u043f\u0435\u0447\u0430\u0442\u043a\u0430 \u0432 \u043a\u043b\u044e\u0447\u0435. \u0423\u0437\u043d\u0430\u0435\u0448\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435.\n    name = item['title'] # \u0410 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0441\u043c\u0435\u043d\u0438\u043b\u0438 \u043a\u043b\u044e\u0447 \u043d\u0430 'name' -&gt; KeyError\n\n    # \u041e\u0448\u0438\u0431\u043a\u0430 2: \u0422\u0438\u043f\u044b \u0434\u0430\u043d\u043d\u044b\u0445.\n    price = item['price'] # \u041f\u0440\u0438\u0448\u043b\u043e \"1000 \u0440\u0443\u0431\" (str), \u0430 \u0442\u044b \u0436\u0434\u0430\u043b 1000 (int)\n    total = price * 2     # \"1000 \u0440\u0443\u04311000 \u0440\u0443\u0431\" -&gt; \u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0435 \u0443\u043f\u0430\u043b, \u043d\u043e \u0434\u0430\u043d\u043d\u044b\u0435 \u043c\u0443\u0441\u043e\u0440.\n</code></pre> <p>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b:</p> <ol> <li>\u041d\u0435\u0442 \u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f (Autocomplete): IDE \u043d\u0435 \u0437\u043d\u0430\u0435\u0442, \u0447\u0442\u043e \u043b\u0435\u0436\u0438\u0442 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u0435. \u0422\u044b \u043f\u0438\u0448\u0435\u0448\u044c \u043a\u043e\u0434 \u0432\u0441\u043b\u0435\u043f\u0443\u044e.</li> <li>\u041d\u0435\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438: \u0422\u044b \u0442\u0430\u0449\u0438\u0448\u044c \u0433\u0440\u044f\u0437\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (\u043f\u0440\u043e\u0431\u0435\u043b\u044b, <code>null</code>, \u0441\u0442\u0440\u043e\u043a\u0438 \u0432\u043c\u0435\u0441\u0442\u043e \u0447\u0438\u0441\u0435\u043b) \u0433\u043b\u0443\u0431\u043e\u043a\u043e \u0432 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0443 \u0438 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445.</li> <li>\u0425\u0440\u0443\u043f\u043a\u043e\u0441\u0442\u044c: \u0421\u043c\u0435\u043d\u0438\u043b\u0441\u044f API \u2014 \u0432\u0441\u0451 \u0443\u043f\u0430\u043b\u043e \u0432 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445.</li> </ol>"},{"location":"topic_11_pydantic/#2-pydantic","title":"2. Pydantic \u2014 \"\u0416\u0435\u043b\u0435\u0437\u043e\u0431\u0435\u0442\u043e\u043d\u043d\u044b\u0439 \u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\"","text":"<p>Pydantic \u2014 \u044d\u0442\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0437\u0430\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u0437\u0430 \u0431\u0430\u0437\u0430\u0440. \u0422\u044b \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0448\u044c \u0421\u0445\u0435\u043c\u0443 (\u043a\u043b\u0430\u0441\u0441), \u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0441\u0430\u043c\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442, \u0447\u0438\u0441\u0442\u0438\u0442 \u0438 \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u0443\u0435\u0442 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u043c\u0443\u0441\u043e\u0440.</p>"},{"location":"topic_11_pydantic/#_1","title":"\u041a\u0430\u043a \u044d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442:","text":"<pre><code>from pydantic import BaseModel, HttpUrl, field_validator\nfrom typing import Optional\n\n# \u041c\u044b \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u041a\u041e\u041d\u0422\u0420\u0410\u041a\u0422.\n# \u0415\u0441\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u2014 \u043e\u043d\u0438 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0443\u0442 \u0434\u0430\u043b\u044c\u0448\u0435 \u043f\u043e\u0440\u043e\u0433\u0430.\nclass Product(BaseModel):\n    id: int                   # \u0421\u0430\u043c \u0441\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0435\u0442 \"123\" \u0432 123\n    title: str\n    price: float              # \u0421\u0430\u043c \u0441\u0434\u0435\u043b\u0430\u0435\u0442 float\n    url: HttpUrl              # \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442, \u0447\u0442\u043e \u044d\u0442\u043e \u0432\u0430\u043b\u0438\u0434\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430\n    is_available: bool = True # \u0414\u0435\u0444\u043e\u043b\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\n\n    # \u041c\u043e\u0436\u043d\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0438 \u0447\u0438\u0441\u0442\u0438\u043b\u044c\u0449\u0438\u043a\u0438 (Validators)\n    @field_validator('title')\n    def clean_title(cls, v):\n        return v.strip().upper() # \u0423\u0431\u0440\u0430\u043b\u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u043a\u0430\u043f\u0441\u043e\u043c\n\n# --- \u0412 \u0411\u041e\u042e ---\n\nraw_data = {\n    \"id\": \"555\",             # \u0421\u0442\u0440\u043e\u043a\u0430!\n    \"title\": \"  iphone  \",   # \u041f\u0440\u043e\u0431\u0435\u043b\u044b!\n    \"price\": 100.50,\n    \"url\": \"&lt;https://apple.com&gt;\"\n}\n\n# \u041c\u0430\u0433\u0438\u044f:\nitem = Product(**raw_data)\n\nprint(item.id)     # 555 (int) - \u0422\u0438\u043f \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d!\nprint(item.title)  # \"IPHONE\" - \u041e\u0447\u0438\u0449\u0435\u043d\u043e!\nprint(item.price)  # 100.5 (float)\n\n# IDE \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442: item. (\u0438 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0442 \u043f\u043e\u043b\u044f id, title, price)\n</code></pre>"},{"location":"topic_11_pydantic/#3-pydantic","title":"3. \u041f\u043e\u0447\u0435\u043c\u0443 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 Pydantic?","text":"<ol> <li>Fail Fast (\u041f\u0430\u0434\u0430\u0439 \u0431\u044b\u0441\u0442\u0440\u043e): \u0415\u0441\u043b\u0438 \u0441\u0430\u0439\u0442 \u0438\u0437\u043c\u0435\u043d\u0438\u043b API \u0438 \u043d\u0430\u0447\u0430\u043b \u0441\u043b\u0430\u0442\u044c \u0446\u0435\u043d\u0443 \u043a\u0430\u043a <code>null</code>, Pydantic \u0432\u044b\u043a\u0438\u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \u0441\u0440\u0430\u0437\u0443 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430. \u0422\u044b \u0443\u0437\u043d\u0430\u0435\u0448\u044c \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435 \u043d\u0430 \u044d\u0442\u0430\u043f\u0435 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430, \u0430 \u043d\u0435 \u043a\u043e\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0448\u044c \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0411\u0414 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0448\u044c \u043a\u0440\u0430\u0448.</li> <li>IDE \u2014 \u0442\u0432\u043e\u0439 \u0434\u0440\u0443\u0433: \u041a\u043e\u0433\u0434\u0430 \u0442\u044b \u043f\u0438\u0448\u0435\u0448\u044c <code>item.price</code>, IDE \u0437\u043d\u0430\u0435\u0442, \u0447\u0442\u043e \u044d\u0442\u043e <code>float</code>. \u041e\u043d\u0430 \u043f\u043e\u0434\u0441\u0432\u0435\u0442\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0443, \u0435\u0441\u043b\u0438 \u0442\u044b \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u0448\u044c \u0441\u0434\u0435\u043b\u0430\u0442\u044c <code>item.price.upper()</code>. \u0412 \u0441\u043b\u043e\u0432\u0430\u0440\u044f\u0445 IDE \u043c\u043e\u043b\u0447\u0438\u0442 \u043a\u0430\u043a \u043f\u0430\u0440\u0442\u0438\u0437\u0430\u043d.</li> <li> <p>\u0412\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c (Nesting): JSON \u0447\u0430\u0441\u0442\u043e \u0431\u044b\u0432\u0430\u0435\u0442 \u0441\u043b\u043e\u0436\u043d\u044b\u043c (\u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432, \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438). \u041d\u0430 Pydantic \u044d\u0442\u043e \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u0440\u0430\u0441\u0438\u0432\u043e:</p> <pre><code>class Variant(BaseModel):\n    color: str\n    size: str\n\nclass Product(BaseModel):\n    name: str\n    variants: list[Variant] # \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432, \u0430 \u043d\u0435 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439!\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0442\u044b \u043e\u0431\u0440\u0430\u0449\u0430\u0435\u0448\u044c\u0441\u044f <code>product.variants[0].color</code>. \u0427\u0438\u0441\u0442\u043e\u0442\u0430.</p> </li> <li> <p>\u042d\u043a\u0441\u043f\u043e\u0440\u0442: \u041d\u0443\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 \u0444\u0430\u0439\u043b? <code>item.model_dump_json()</code> \u2014 \u0438 \u0443 \u0442\u0435\u0431\u044f \u0433\u043e\u0442\u043e\u0432\u0430\u044f JSON-\u0441\u0442\u0440\u043e\u043a\u0430. <code>item.model_dump()</code> \u2014 \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0432 MongoDB.</p> </li> </ol>"},{"location":"topic_11_pydantic/#_2","title":"\ud83e\udde0 \u0420\u0435\u0437\u044e\u043c\u0435:","text":"<ul> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>dict</code> \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u0435\u0436\u0434\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438 \u2014 \u044d\u0442\u043e \u0433\u043e\u0432\u043d\u043e\u043a\u043e\u0434.</li> <li>\u041b\u044e\u0431\u043e\u0439 \u043f\u0430\u0440\u0441\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 \u0444\u0430\u0439\u043b\u0430 <code>models.py</code>, \u0433\u0434\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u044b \u043a\u043b\u0430\u0441\u0441\u044b \u0434\u0430\u043d\u043d\u044b\u0445.</li> <li>\u041f\u0430\u0440\u0441\u0438\u043d\u0433 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0442\u0430\u043a:<ol> <li>\u041f\u043e\u043b\u0443\u0447\u0438\u043b \u0433\u0440\u044f\u0437\u043d\u044b\u0439 HTML/JSON.</li> <li>\u0412\u044b\u0442\u0430\u0449\u0438\u043b \u0441\u044b\u0440\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435.</li> <li>\u0422\u0443\u0442 \u0436\u0435 \u0437\u0430\u043f\u0438\u0445\u043d\u0443\u043b \u0438\u0445 \u0432 Pydantic-\u043c\u043e\u0434\u0435\u043b\u044c.</li> <li>\u0414\u0430\u043b\u044c\u0448\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0448\u044c \u0422\u041e\u041b\u042c\u041a\u041e \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u043c\u043e\u0434\u0435\u043b\u0438.</li> </ol> </li> </ul>"},{"location":"topic_12_architecture/","title":"\u0422\u0435\u043c\u0430 12: \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u043f\u0430\u0440\u0441\u0435\u0440\u0430: \u041a\u0430\u043a \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434 (Producer/Consumer), \u0447\u0442\u043e\u0431\u044b \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u043c\u0438\u043b\u043b\u0438\u043e\u043d\u044b \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0438 \u043d\u0435 \u0442\u0435\u0440\u044f\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0441\u0431\u043e\u0435?","text":"<p>\u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u043d\u043e\u0432\u0438\u0447\u043a\u043e\u0432 \u043f\u0438\u0448\u0435\u0442 \u043f\u0430\u0440\u0441\u0435\u0440\u044b \u0442\u0430\u043a:</p> <pre><code># \u041f\u0423\u0422\u042c \u0421\u041c\u0415\u0420\u0422\u041d\u0418\u041a\u0410\nurls = [...] # \u0421\u043f\u0438\u0441\u043e\u043a \u043d\u0430 \u043c\u0438\u043b\u043b\u0438\u043e\u043d \u0441\u0441\u044b\u043b\u043e\u043a \u0432 \u043f\u0430\u043c\u044f\u0442\u0438\nresults = []\n\nfor url in urls:\n    html = get(url)   # \u0416\u0434\u0435\u043c \u0441\u0435\u0442\u044c\n    data = parse(html) # \u0416\u0434\u0435\u043c \u043f\u0440\u043e\u0446\n    results.append(data) # \u0416\u0434\u0435\u043c \u043f\u043e\u043a\u0430 \u043f\u0430\u043c\u044f\u0442\u044c \u043f\u0435\u0440\u0435\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f\n\nsave(results) # \u0415\u0441\u043b\u0438 \u0441\u043a\u0440\u0438\u043f\u0442 \u0443\u043f\u0430\u0434\u0435\u0442 \u043d\u0430 999 999 \u0441\u0442\u0440\u043e\u043a\u0435 \u2014 \u0442\u044b \u043f\u043e\u0442\u0435\u0440\u044f\u043b \u0432\u0441\u0451.\n</code></pre> <p>\u042d\u0442\u043e \u043b\u0438\u043d\u0435\u0439\u043d\u0430\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430.</p> <ol> <li>\u041f\u0430\u043c\u044f\u0442\u044c: \u0421\u043f\u0438\u0441\u043e\u043a <code>urls</code> \u0436\u0440\u0435\u0442 RAM. \u0421\u043f\u0438\u0441\u043e\u043a <code>results</code> \u0436\u0440\u0435\u0442 RAM.</li> <li>\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c: \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440 \u043f\u0440\u043e\u0441\u0442\u0430\u0438\u0432\u0430\u0435\u0442, \u043f\u043e\u043a\u0430 \u043a\u0430\u0447\u0430\u0435\u0442 \u0441\u0435\u0442\u044c. \u0421\u0435\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u0430\u0438\u0432\u0430\u0435\u0442, \u043f\u043e\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440.</li> <li>\u041e\u0442\u043a\u0430\u0437\u043e\u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u043e\u0441\u0442\u044c: \u041d\u043e\u043b\u044c. \u041e\u0448\u0438\u0431\u043a\u0430 = \u043a\u0440\u0430\u0448 = \u043f\u043e\u0442\u0435\u0440\u044f \u0432\u0441\u0435\u0433\u043e.</li> </ol>"},{"location":"topic_12_architecture/#1-producer-consumer","title":"1. \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430: \u041a\u043e\u043d\u0432\u0435\u0439\u0435\u0440 (Producer / Consumer)","text":"<p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c \u0437\u0430\u0432\u043e\u0434.</p> <ul> <li>Producer (\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a): \u0427\u0443\u0432\u0430\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043a\u0438\u0434\u0430\u0435\u0442 \u0434\u0435\u0442\u0430\u043b\u0438 \u043d\u0430 \u043b\u0435\u043d\u0442\u0443 \u043a\u043e\u043d\u0432\u0435\u0439\u0435\u0440\u0430. \u041e\u043d \u0431\u044b\u0441\u0442\u0440\u044b\u0439 (\u043f\u0440\u043e\u0441\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u0441\u044b\u043b\u043a\u0438).</li> <li>Queue (\u041e\u0447\u0435\u0440\u0435\u0434\u044c): \u0421\u0430\u043c\u0430 \u043b\u0435\u043d\u0442\u0430 \u043a\u043e\u043d\u0432\u0435\u0439\u0435\u0440\u0430. \u0411\u0443\u0444\u0435\u0440, \u0433\u0434\u0435 \u043b\u0435\u0436\u0430\u0442 \u0437\u0430\u0434\u0430\u0447\u0438.</li> <li>Consumers (\u0412\u043e\u0440\u043a\u0435\u0440\u044b/\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0438): 50 \u043a\u0438\u0442\u0430\u0439\u0446\u0435\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0445\u0432\u0430\u0442\u0430\u044e\u0442 \u0434\u0435\u0442\u0430\u043b\u0438 \u0441 \u043b\u0435\u043d\u0442\u044b \u0438 \u0441\u043e\u0431\u0438\u0440\u0430\u044e\u0442 \u0410\u0439\u0444\u043e\u043d\u044b. \u0415\u0441\u043b\u0438 \u043e\u0434\u0438\u043d \u043a\u0438\u0442\u0430\u0435\u0446 \u0437\u0430\u0431\u043e\u043b\u0435\u043b (\u043e\u0448\u0438\u0431\u043a\u0430), \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 49 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442.</li> </ul> <p>\u0412 \u0447\u0435\u043c \u043a\u0430\u0439\u0444:</p> <ol> <li>\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u044c: \u041c\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c 1 \u043f\u0440\u043e\u0434\u044e\u0441\u0435\u0440\u0430 \u0438 50 \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e.</li> <li>Backpressure (\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0434\u0430\u0432\u043b\u0435\u043d\u0438\u044f): \u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0435 \u0434\u0430\u0435\u0442 \u0432\u043e\u0440\u043a\u0435\u0440\u0430\u043c \u0437\u0430\u0445\u043b\u0435\u0431\u043d\u0443\u0442\u044c\u0441\u044f. \u041e\u043d\u0438 \u0431\u0435\u0440\u0443\u0442 \u0440\u043e\u0432\u043d\u043e \u0441\u0442\u043e\u043b\u044c\u043a\u043e, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u043e\u0433\u0443\u0442 \u043f\u0435\u0440\u0435\u0432\u0430\u0440\u0438\u0442\u044c.</li> <li>\u0418\u0437\u043e\u043b\u044f\u0446\u0438\u044f: \u0421\u0431\u043e\u0440 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0438\u0445 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u044b.</li> </ol>"},{"location":"topic_12_architecture/#2-asyncio","title":"2. \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0430 <code>asyncio</code> (\u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442)","text":"<p>\u0412 Python \u0435\u0441\u0442\u044c \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 <code>asyncio.Queue</code>. \u042d\u0442\u043e \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p> <p>\u0412\u043e\u0442 \u0448\u0430\u0431\u043b\u043e\u043d \u0431\u043e\u0435\u0432\u043e\u0433\u043e \u043f\u0430\u0440\u0441\u0435\u0440\u0430:</p> <pre><code>import asyncio\nimport httpx\nfrom random import randint\n\n# \u041e\u0447\u0435\u0440\u0435\u0434\u044c \u0437\u0430\u0434\u0430\u0447 (\u0441\u0441\u044b\u043b\u043e\u043a)\nqueue = asyncio.Queue()\n\n# --- 1. PRODUCER (\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0441\u0441\u044b\u043b\u043e\u043a) ---\nasync def producer():\n    print(\"\ud83d\udc68\u200d\ud83c\udfed \u041f\u0440\u043e\u0434\u044e\u0441\u0435\u0440: \u041d\u0430\u0447\u0438\u043d\u0430\u044e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438...\")\n    for i in range(100):\n        # \u0412 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0442\u0443\u0442 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u0435 \u0438\u0437 \u0411\u0414, \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f ID, \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f\n        url = f\"&lt;https://api.site.com/items/{i}&gt;\"\n        await queue.put(url) # \u041a\u043b\u0430\u0434\u0435\u043c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c\n\n    print(\"\ud83d\udc68\u200d\ud83c\udfed \u041f\u0440\u043e\u0434\u044e\u0441\u0435\u0440: \u0412\u0441\u0435 \u0441\u0441\u044b\u043b\u043a\u0438 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438.\")\n\n# --- 2. CONSUMER (\u0412\u043e\u0440\u043a\u0435\u0440) ---\nasync def worker(worker_id: int):\n    print(f\"\ud83e\udd16 \u0412\u043e\u0440\u043a\u0435\u0440 {worker_id}: \u0413\u043e\u0442\u043e\u0432 \u043a \u0442\u0440\u0443\u0434\u0443\")\n\n    async with httpx.AsyncClient() as client:\n        while True:\n            # \u0411\u0435\u0440\u0435\u043c \u0437\u0430\u0434\u0430\u0447\u0443 \u0438\u0437 \u043e\u0447\u0435\u0440\u0435\u0434\u0438.\n            # \u0415\u0441\u043b\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u0443\u0441\u0442\u0430 - \u0432\u043e\u0440\u043a\u0435\u0440 \u0441\u043f\u0438\u0442 \u0438 \u0436\u0434\u0435\u0442.\n            url = await queue.get()\n\n            try:\n                # --- \u0422\u0423\u0422 \u0412\u0421\u042f \u0420\u0410\u0411\u041e\u0422\u0410 ---\n                # print(f\"\ud83e\udd16 \u0412\u043e\u0440\u043a\u0435\u0440 {worker_id} \u043a\u0430\u0447\u0430\u0435\u0442 {url}\")\n                await asyncio.sleep(randint(1, 3)) # \u0418\u043c\u0438\u0442\u0430\u0446\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430\n                # data = parse(response)\n                # save_to_db(data) # \u041f\u0438\u0448\u0435\u043c \u0441\u0440\u0430\u0437\u0443! \u041d\u0435 \u043a\u043e\u043f\u0438\u043c \u0432 \u043f\u0430\u043c\u044f\u0442\u0438!\n                # -----------------------\n            except Exception as e:\n                print(f\"\ud83d\udd25 \u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 {url}: {e}\")\n                # \u0412\u0430\u0436\u043d\u043e: \u043c\u043e\u0436\u043d\u043e \u0432\u0435\u0440\u043d\u0443\u0442\u044c url \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0438\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u043b\u043e\u0433 \u043e\u0448\u0438\u0431\u043e\u043a\n            finally:\n                # \u0421\u043e\u043e\u0431\u0449\u0430\u0435\u043c \u043e\u0447\u0435\u0440\u0435\u0434\u0438, \u0447\u0442\u043e \u0437\u0430\u0434\u0430\u0447\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430\n                queue.task_done()\n\n# --- 3. ORCHESTRATOR (\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f) ---\nasync def main():\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043f\u0440\u043e\u0434\u044e\u0441\u0435\u0440\u0430 (\u043e\u043d \u043d\u0430\u043f\u043e\u043b\u043d\u0438\u0442 \u043e\u0447\u0435\u0440\u0435\u0434\u044c)\n    prod_task = asyncio.create_task(producer())\n\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c 5 \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432 (\u043e\u043d\u0438 \u043d\u0430\u0447\u043d\u0443\u0442 \u0440\u0430\u0437\u0433\u0440\u0435\u0431\u0430\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c)\n    workers = [asyncio.create_task(worker(i)) for i in range(5)]\n\n    # \u0416\u0434\u0435\u043c, \u043f\u043e\u043a\u0430 \u043f\u0440\u043e\u0434\u044e\u0441\u0435\u0440 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442 \u043d\u0430\u043a\u0438\u0434\u044b\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438\n    await prod_task\n\n    # \u0416\u0434\u0435\u043c, \u043f\u043e\u043a\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043e\u043f\u0443\u0441\u0442\u0435\u0435\u0442 (\u0432\u043e\u0440\u043a\u0435\u0440\u044b \u0432\u0441\u0451 \u0434\u043e\u0434\u0435\u043b\u0430\u044e\u0442)\n    print(\"\u23f3 \u0416\u0434\u0435\u043c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438...\")\n    await queue.join()\n\n    # \u041e\u0442\u043c\u0435\u043d\u044f\u0435\u043c \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432 (\u043e\u043d\u0438 \u0432 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e\u043c \u0446\u0438\u043a\u043b\u0435 while True)\n    for w in workers:\n        w.cancel()\n\n    print(\"\u2705 \u0420\u0430\u0431\u043e\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430!\")\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre>"},{"location":"topic_12_architecture/#3","title":"3. \u041f\u043e\u0447\u0435\u043c\u0443 \u044d\u0442\u043e \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0421\u0435\u043d\u044c\u043e\u0440\u0430?","text":"<ol> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043d\u0430 \u043b\u0435\u0442\u0443: \u0412\u043d\u0443\u0442\u0440\u0438 <code>worker</code> \u043c\u044b \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f (<code>save_to_db</code> \u0438\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u0432 CSV) \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e.<ul> <li>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: \u0415\u0441\u043b\u0438 \u0432\u044b\u043a\u043b\u044e\u0447\u0430\u0442 \u0441\u0432\u0435\u0442 \u043d\u0430 500-\u0439 \u0441\u0441\u044b\u043b\u043a\u0435, \u0443 \u0442\u0435\u0431\u044f \u0432 \u0431\u0430\u0437\u0435 \u0431\u0443\u0434\u0435\u0442 \u043b\u0435\u0436\u0430\u0442\u044c 499 \u0442\u043e\u0432\u0430\u0440\u043e\u0432. \u0422\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u0435\u0448\u044c.</li> </ul> </li> <li>\u041c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u043c\u043e\u0441\u0442\u044c: \u0425\u043e\u0447\u0435\u0448\u044c \u0431\u044b\u0441\u0442\u0440\u0435\u0435? \u041f\u043e\u043c\u0435\u043d\u044f\u0439 <code>range(5)</code> \u043d\u0430 <code>range(50)</code>. \u041a\u043e\u0434 \u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0435 \u043d\u0430\u0434\u043e.</li> <li>Graceful Shutdown: <code>queue.join()</code> \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442, \u0447\u0442\u043e \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0435 \u0432\u044b\u0439\u0434\u0435\u0442, \u043f\u043e\u043a\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u0430.</li> </ol>"},{"location":"topic_12_architecture/#level-up-celery-rabbitmq","title":"\u26a0\ufe0f Level Up: \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f \u043e\u0447\u0435\u0440\u0435\u0434\u044c (Celery / RabbitMQ)","text":"<p>\u0415\u0441\u043b\u0438 <code>asyncio.Queue</code> \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u043f\u0430\u043c\u044f\u0442\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u043a\u0440\u0438\u043f\u0442\u0430. \u0415\u0441\u043b\u0438 \u0441\u043a\u0440\u0438\u043f\u0442 \u0443\u043f\u0430\u0434\u0435\u0442 \u2014 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043f\u0440\u043e\u043f\u0430\u0434\u0435\u0442. \u0414\u043b\u044f \u043e\u0447\u0435\u043d\u044c \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c (\u043c\u0438\u043b\u043b\u0438\u043e\u043d\u044b \u0441\u0442\u0440\u0430\u043d\u0438\u0446, \u0440\u0430\u0437\u043d\u044b\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u044b) \u0432\u043c\u0435\u0441\u0442\u043e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0431\u0440\u043e\u043a\u0435\u0440\u044b: RabbitMQ, Redis, Kafka. \u041d\u043e \u0434\u043b\u044f 99% \u0437\u0430\u0434\u0430\u0447 (\u0434\u043e 10 \u043c\u043b\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446) <code>asyncio.Queue</code> + \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u0411\u0414 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e.</p> <p>\u0420\u0435\u0437\u044e\u043c\u0435: \u041d\u0438\u043a\u0430\u043a\u0438\u0445 \u0441\u043f\u0438\u0441\u043a\u043e\u0432 <code>results = []</code>. \u0415\u0441\u0442\u044c \u041e\u0447\u0435\u0440\u0435\u0434\u044c. \u0415\u0441\u0442\u044c \u0412\u043e\u0440\u043a\u0435\u0440\u044b. \u0412\u043e\u0440\u043a\u0435\u0440 \u0432\u0437\u044f\u043b -&gt; \u0421\u0434\u0435\u043b\u0430\u043b -&gt; \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u043b -&gt; \u0417\u0430\u0431\u044b\u043b. \u0422\u043e\u043b\u044c\u043a\u043e \u0442\u0430\u043a.</p> <p>\u0411\u043b\u043e\u043a 4 (\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430) \u0437\u0430\u043a\u0440\u044b\u0442. \u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0438 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0430\u0436\u043d\u043e\u043c\u0443 \u0431\u043b\u043e\u043a\u0443 \u2014 \u0411\u043b\u043e\u043a 5: \u041b\u043e\u0433\u0438\u0441\u0442\u0438\u043a\u0430 \u0438 \u0414\u043e\u0441\u0442\u0443\u043f.</p>"},{"location":"topic_13_auth/","title":"\u0422\u0435\u043c\u0430 13: \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0438 \u0421\u0435\u0441\u0441\u0438\u0438: \u041a\u0430\u043a \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0430\u0439\u0442, \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c Cookies \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u044e \u0436\u0438\u0432\u043e\u0439?","text":"<p>\u041d\u043e\u0432\u0438\u0447\u043a\u0438 \u0434\u0443\u043c\u0430\u044e\u0442 \u0442\u0430\u043a: \"\u0427\u0442\u043e\u0431\u044b \u0441\u043f\u0430\u0440\u0441\u0438\u0442\u044c \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442, \u044f \u0431\u0443\u0434\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435\". \u042d\u0442\u043e \u0431\u0430\u043d. \u0421\u0435\u0440\u0432\u0435\u0440 \u0443\u0432\u0438\u0434\u0438\u0442, \u0447\u0442\u043e \u0442\u044b \"\u0432\u0445\u043e\u0434\u0438\u0448\u044c \u0432 \u0434\u0432\u0435\u0440\u044c\" 100 \u0440\u0430\u0437 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0443. \u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u043b\u044e\u0434\u0438 \u0442\u0430\u043a \u043d\u0435 \u0434\u0435\u043b\u0430\u044e\u0442.</p> <p>\u0412 \u0432\u0435\u0431\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u041d\u043e\u0447\u043d\u043e\u0433\u043e \u041a\u043b\u0443\u0431\u0430:</p> <ol> <li>\u0422\u044b \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0448\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0444\u0435\u0439\u0441-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044e (\u041b\u043e\u0433\u0438\u043d/\u041f\u0430\u0440\u043e\u043b\u044c).</li> <li>\u0422\u0435\u0431\u0435 \u0441\u0442\u0430\u0432\u044f\u0442 \u043f\u0435\u0447\u0430\u0442\u044c \u043d\u0430 \u0440\u0443\u043a\u0443 (Cookie / Token).</li> <li>\u0412 \u0431\u0430\u0440\u0435 \u0442\u044b \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0448\u044c \u043f\u0435\u0447\u0430\u0442\u044c, \u0430 \u043d\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442.</li> </ol> <p>\u0422\u0432\u043e\u044f \u0437\u0430\u0434\u0430\u0447\u0430 \u2014 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0435\u0447\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0438 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0435\u0451, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0441\u043c\u043e\u0435\u0442\u0441\u044f.</p>"},{"location":"topic_13_auth/#1-session-client","title":"1. \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442: \u0421\u0435\u0441\u0441\u0438\u044f (<code>Session</code> / <code>Client</code>)","text":"<p>\u0412 <code>requests</code> \u0438 <code>httpx</code> \u0435\u0441\u0442\u044c \u043f\u043e\u043d\u044f\u0442\u0438\u0435 \u0421\u0435\u0441\u0441\u0438\u0438. \u042d\u0442\u043e \u043e\u0431\u044a\u0435\u043a\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u043c\u0435\u0435\u0442 \"\u043f\u0430\u043c\u044f\u0442\u044c\". \u0415\u0441\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438\u0441\u043b\u0430\u043b Cookies \u0432 \u043f\u0435\u0440\u0432\u043e\u043c \u043e\u0442\u0432\u0435\u0442\u0435, \u0421\u0435\u0441\u0441\u0438\u044f \u0437\u0430\u043f\u043e\u043c\u043d\u0438\u0442 \u0438\u0445 \u0438 \u0441\u0430\u043c\u0430 \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u0438\u0442 \u0432\u043e \u0432\u0442\u043e\u0440\u043e\u0439, \u0442\u0440\u0435\u0442\u0438\u0439 \u0438 \u0434\u0435\u0441\u044f\u0442\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441.</p> <ul> <li> <p>\u0411\u0435\u0437 \u0441\u0435\u0441\u0441\u0438\u0438 (\u041f\u043b\u043e\u0445\u043e):</p> <pre><code>httpx.get(url) # \u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u043b\u0435\u0442\u0435\u043b, \u043a\u0443\u043a\u0438 \u043f\u0440\u0438\u0448\u043b\u0438 \u0438... \u043f\u043e\u0442\u0435\u0440\u044f\u043b\u0438\u0441\u044c.\nhttpx.get(url) # \u0421\u0435\u0440\u0432\u0435\u0440 \u0441\u043d\u043e\u0432\u0430 \u0441\u0447\u0438\u0442\u0430\u0435\u0442 \u0442\u0435\u0431\u044f \u0447\u0443\u0436\u0430\u043a\u043e\u043c.\n</code></pre> </li> <li> <p>\u0421 \u0441\u0435\u0441\u0441\u0438\u0435\u0439 (\u0425\u043e\u0440\u043e\u0448\u043e):</p> <pre><code>client = httpx.Client()\nclient.post(login_url, data={...}) # \u041a\u0443\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0441\u044c \u0432\u043d\u0443\u0442\u0440\u0438 client\nclient.get(profile_url) # \u041a\u0443\u043a\u0438 \u043f\u043e\u043b\u0435\u0442\u0435\u043b\u0438 \u0441\u0430\u043c\u0438. \u0421\u0435\u0440\u0432\u0435\u0440 \u0443\u0437\u043d\u0430\u043b \u0442\u0435\u0431\u044f.\n</code></pre> </li> </ul>"},{"location":"topic_13_auth/#2-csrf-token","title":"2. \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u041b\u043e\u0432\u0443\u0448\u043a\u0430: CSRF Token","text":"<p>\u0422\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0448\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d/\u043f\u0430\u0440\u043e\u043b\u044c, \u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c 403. \u041f\u043e\u0447\u0435\u043c\u0443? \u041f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0432\u0445\u043e\u0434\u0430 \u0431\u044b\u043b \u0441\u043a\u0440\u044b\u0442\u044b\u0439 \u043a\u043e\u0434 (CSRF Token), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043b \u043b\u0438\u0447\u043d\u043e \u0434\u043b\u044f \u0442\u0435\u0431\u044f.</p> <p>\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u0445\u043e\u0434\u0430:</p> <ol> <li>GET \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043b\u043e\u0433\u0438\u043d\u0430.</li> <li>\u041f\u0430\u0440\u0441\u0438\u043c HTML, \u0438\u0449\u0435\u043c \u0441\u043a\u0440\u044b\u0442\u043e\u0435 \u043f\u043e\u043b\u0435: <code>&lt;input type=\"hidden\" name=\"csrf_token\" value=\"a1b2c3...\"&gt;</code>.</li> <li>POST \u0437\u0430\u043f\u0440\u043e\u0441 \u0441 \u043b\u043e\u0433\u0438\u043d\u043e\u043c, \u043f\u0430\u0440\u043e\u043b\u0435\u043c \u0418 \u042d\u0422\u0418\u041c \u0422\u041e\u041a\u0415\u041d\u041e\u041c.</li> </ol>"},{"location":"topic_13_auth/#3-persisting-cookies","title":"3. \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \"\u041b\u0438\u0446\u0430\" (Persisting Cookies)","text":"<p>\u041f\u0430\u0440\u0441\u0435\u0440 \u0443\u043f\u0430\u043b. \u0422\u044b \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0448\u044c \u0435\u0433\u043e. \u041e\u043d \u0441\u043d\u043e\u0432\u0430 \u043b\u0435\u0437\u0435\u0442 \u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f. \u042d\u0442\u043e \u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e. \u0421\u0435\u043d\u044c\u043e\u0440 \u0434\u0435\u043b\u0430\u0435\u0442 \u0442\u0430\u043a: \u0417\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u043b\u0441\u044f -&gt; \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u043b \u043a\u0443\u043a\u0438 \u0432 \u0444\u0430\u0439\u043b. \u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0435 -&gt; \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u043b \u043a\u0443\u043a\u0438 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430.</p>"},{"location":"topic_13_auth/#_1","title":"\ud83d\udc68\u200d\ud83d\udcbb \u041a\u041e\u0414: \u0411\u043e\u0435\u0432\u043e\u0439 \u041a\u043b\u0430\u0441\u0441 \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438","text":"<p>\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u043d\u0430 <code>httpx</code>. \u042d\u0442\u043e\u0442 \u043a\u043e\u0434 \u0443\u043c\u0435\u0435\u0442 \u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f, \u043e\u0431\u0445\u043e\u0434\u0438\u0442\u044c CSRF \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u044e.</p> <pre><code>import httpx\nimport json\nimport os\nfrom bs4 import BeautifulSoup\n\nclass AuthSession:\n    def __init__(self, cookies_file=\"cookies.json\"):\n        self.client = httpx.Client(http2=True)\n        self.client.headers.update({\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\"\n        })\n        self.cookies_file = cookies_file\n\n    def load_cookies(self):\n        \"\"\"\u041f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0435\u0447\u0430\u0442\u044c \u0438\u0437 \u0444\u0430\u0439\u043b\u0430\"\"\"\n        if os.path.exists(self.cookies_file):\n            with open(self.cookies_file, 'r') as f:\n                cookies = json.load(f)\n                # \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043a\u0443\u043a\u0438 \u0432 \u043a\u043b\u0438\u0435\u043d\u0442\n                for name, value in cookies.items():\n                    self.client.cookies.set(name, value)\n            return True\n        return False\n\n    def save_cookies(self):\n        \"\"\"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u043f\u0435\u0447\u0430\u0442\u044c \u043d\u0430 \u0434\u0438\u0441\u043a\"\"\"\n        cookies_dict = {c.name: c.value for c in self.client.cookies}\n        with open(self.cookies_file, 'w') as f:\n            json.dump(cookies_dict, f)\n\n    def login(self, url, username, password):\n        # 1. \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c, \u0436\u0438\u0432\u0430 \u043b\u0438 \u0441\u0442\u0430\u0440\u0430\u044f \u0441\u0435\u0441\u0441\u0438\u044f\n        if self.load_cookies():\n            # \u0414\u0435\u043b\u0430\u0435\u043c \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c\n            resp = self.client.get(\"&lt;https://site.com/profile&gt;\")\n            if resp.status_code == 200 and username in resp.text:\n                print(\"\u2705 \u0421\u0442\u0430\u0440\u044b\u0435 \u043a\u0443\u043a\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442! \u041b\u043e\u0433\u0438\u043d \u043d\u0435 \u043d\u0443\u0436\u0435\u043d.\")\n                return True\n            else:\n                print(\"\u26a0\ufe0f \u041a\u0443\u043a\u0438 \u043f\u0440\u043e\u0442\u0443\u0445\u043b\u0438. \u041b\u043e\u0433\u0438\u043d\u0438\u043c\u0441\u044f \u0437\u0430\u043d\u043e\u0432\u043e...\")\n\n        # 2. GET \u0437\u0430\u043f\u0440\u043e\u0441 \u0437\u0430 CSRF \u0442\u043e\u043a\u0435\u043d\u043e\u043c\n        login_page = self.client.get(url)\n        soup = BeautifulSoup(login_page.text, \"lxml\")\n\n        # \u0418\u0449\u0435\u043c \u0441\u043a\u0440\u044b\u0442\u044b\u0439 \u0442\u043e\u043a\u0435\u043d (\u0438\u043c\u044f \u043f\u043e\u043b\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0441\u0430\u0439\u0442\u0430: csrf, _token, authenticity_token)\n        csrf_token = soup.find(\"input\", {\"name\": \"csrf_token\"})\n        token_value = csrf_token[\"value\"] if csrf_token else None\n\n        # 3. \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435\n        payload = {\n            \"username\": username,\n            \"password\": password,\n        }\n        if token_value:\n            payload[\"csrf_token\"] = token_value\n\n        # 4. POST \u0437\u0430\u043f\u0440\u043e\u0441 (\u0412\u0445\u043e\u0434\u0438\u043c)\n        # \u0412\u0430\u0436\u043d\u043e: \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0442\u043e\u0442 \u0436\u0435 self.client!\n        resp = self.client.post(url, data=payload)\n\n        if resp.status_code == 200 or resp.status_code == 302:\n            print(\"\ud83c\udf89 \u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u0432\u0445\u043e\u0434!\")\n            self.save_cookies() # \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0435\u0435\n            return True\n        else:\n            print(\"\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430:\", resp.status_code)\n            return False\n\n# \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\nsession = AuthSession()\nsession.login(\"&lt;https://site.com/login&gt;\", \"admin\", \"12345\")\n\n# \u0414\u0430\u043b\u044c\u0448\u0435 \u043f\u0430\u0440\u0441\u0438\u043c \u0447\u0435\u0440\u0435\u0437 session.client\nresponse = session.client.get(\"&lt;https://site.com/secret-data&gt;\")\n</code></pre>"},{"location":"topic_13_auth/#4-bearer-token-jwt","title":"4. \u041d\u044e\u0430\u043d\u0441: Bearer Token (JWT)","text":"<p>\u041d\u0430 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0441\u0430\u0439\u0442\u0430\u0445 (SPA) \u0432\u043c\u0435\u0441\u0442\u043e \u043a\u0443\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 Token. \u0421\u0435\u0440\u0432\u0435\u0440 \u0432 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043b\u043e\u0433\u0438\u043d \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u0435\u0442 JSON: <code>{\"access_token\": \"eyJhbG...\"}</code>.</p> <p>\u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c:</p> <ol> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u0438 \u044d\u0442\u043e\u0442 \u0442\u043e\u043a\u0435\u043d \u0432 \u0444\u0430\u0439\u043b (\u043a\u0430\u043a \u0441\u0442\u0440\u043e\u043a\u0443).</li> <li> <p>\u041f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0439 \u0435\u0433\u043e \u0432 \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438, \u0430 \u043d\u0435 \u0432 \u043a\u0443\u043a\u0438:</p> <pre><code>headers = {\n    \"Authorization\": f\"Bearer {saved_token}\"\n}\nclient.get(url, headers=headers)\n</code></pre> </li> </ol>"},{"location":"topic_13_auth/#_2","title":"\ud83e\udde0 \u0420\u0435\u0437\u044e\u043c\u0435 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430:","text":"<ol> <li>\u041d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043b\u043e\u0433\u0438\u043d\u044c\u0441\u044f \u0432 \u0446\u0438\u043a\u043b\u0435.</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 <code>httpx.Client()</code> \u0438\u043b\u0438 <code>requests.Session()</code>, \u0447\u0442\u043e\u0431\u044b \u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0441\u0442\u0435\u0439\u0442.</li> <li>\u0412\u0441\u0435\u0433\u0434\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0439 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 CSRF \u0442\u043e\u043a\u0435\u043d\u0430 \u043f\u0435\u0440\u0435\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044f.</li> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0439 \u043a\u0443\u043a\u0438/\u0442\u043e\u043a\u0435\u043d\u044b \u0432 \u0444\u0430\u0439\u043b. \u0422\u0432\u043e\u0439 \u043f\u0430\u0440\u0441\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0443\u043c\u0435\u0442\u044c \"\u043f\u0440\u043e\u0441\u044b\u043f\u0430\u0442\u044c\u0441\u044f\" \u0443\u0436\u0435 \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0435\u043d\u043d\u044b\u043c.</li> </ol>"},{"location":"topic_14_storage/","title":"\u0422\u0435\u043c\u0430 14: \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445: CSV, JSON \u0438\u043b\u0438 \u0411\u0430\u0437\u0430 \u0414\u0430\u043d\u043d\u044b\u0445? \u041a\u0430\u043a \u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0430 \u0434\u0438\u0441\u043a \u0438 \u043d\u0435 \u0442\u043e\u0440\u043c\u043e\u0437\u0438\u0442\u044c \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0441\u0435\u0440?","text":"<p>\u0422\u044b \u043d\u0430\u043f\u0438\u0441\u0430\u043b \u043f\u0430\u0440\u0441\u0435\u0440-\u0440\u0430\u043a\u0435\u0442\u0443. \u041e\u043d \u043a\u0430\u0447\u0430\u0435\u0442 1000 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0443. \u0418 \u0442\u0443\u0442 \u0442\u044b \u043f\u0438\u0448\u0435\u0448\u044c:</p> <pre><code>with open('data.txt', 'a') as f:  # &lt;--- \u0422\u041e\u0420\u041c\u041e\u0417\u041d\u041e\u0419 \u041f\u0410\u0420\u0410\u0428\u042e\u0422\n    f.write(data)\n</code></pre> <p>\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e, \u0442\u044b \u0443\u0431\u0438\u043b \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0441\u0442\u044c. \u041e\u0431\u044b\u0447\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0444\u0430\u0439\u043b (<code>open</code>) \u2014 \u044d\u0442\u043e \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f. \u041f\u043e\u043a\u0430 \u0436\u0435\u0441\u0442\u043a\u0438\u0439 \u0434\u0438\u0441\u043a (\u0434\u0430\u0436\u0435 SSD) \u043a\u0440\u0443\u0442\u0438\u0442 \u0431\u043b\u0438\u043d\u0430\u043c\u0438 \u0438\u043b\u0438 \u043f\u0438\u0448\u0435\u0442 \u044f\u0447\u0435\u0439\u043a\u0438, \u0442\u0432\u043e\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u0441\u0442\u043e\u0438\u0442. \u0412\u0435\u0441\u044c Event Loop \u0432\u0441\u0442\u0430\u0435\u0442 \u043a\u043e\u043b\u043e\u043c.</p> <p>\u0422\u0432\u043e\u044f \u0437\u0430\u0434\u0430\u0447\u0430: \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u043f\u0430\u0440\u0441\u0435\u0440 \u044d\u0442\u043e\u0433\u043e \u0434\u0430\u0436\u0435 \u043d\u0435 \u0437\u0430\u043c\u0435\u0447\u0430\u043b.</p>"},{"location":"topic_14_storage/#1","title":"1. \u0411\u0438\u0442\u0432\u0430 \u0424\u043e\u0440\u043c\u0430\u0442\u043e\u0432","text":""},{"location":"topic_14_storage/#json","title":"JSON (\u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0439) \u2014 \"\u041b\u043e\u0432\u0443\u0448\u043a\u0430 \u043f\u0430\u043c\u044f\u0442\u0438\"","text":"<p><code>[ {item1}, {item2}, ... ]</code></p> <ul> <li>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430: \u0427\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 JSON, \u0442\u0435\u0431\u0435 \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0412\u0421\u0415 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043f\u0430\u043c\u044f\u0442\u0438, \u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043a\u043e\u043d\u0446\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c <code>json.dump()</code>.</li> <li>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: \u0415\u0441\u043b\u0438 \u0442\u044b \u043f\u0430\u0440\u0441\u0438\u0448\u044c \u043c\u0438\u043b\u043b\u0438\u043e\u043d \u0442\u043e\u0432\u0430\u0440\u043e\u0432, \u0443 \u0442\u0435\u0431\u044f \u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043a\u0430 (OOM Kill), \u0438 \u0441\u043a\u0440\u0438\u043f\u0442 \u0443\u043c\u0440\u0435\u0442, \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0432 \u043d\u0438 \u0431\u0430\u0439\u0442\u0430.</li> </ul>"},{"location":"topic_14_storage/#json-lines-jsonl","title":"JSON Lines (.jsonl) \u2014 \"\u0412\u044b\u0431\u043e\u0440 \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u0430\"","text":"<p><code>{item1}{item2}</code></p> <ul> <li>\u0421\u0443\u0442\u044c: \u041a\u0430\u0436\u0434\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u2014 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0439 JSON-\u043e\u0431\u044a\u0435\u043a\u0442.</li> <li>\u041f\u043b\u044e\u0441\u044b:<ol> <li>Append-only: \u041c\u043e\u0436\u043d\u043e \u0434\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u043f\u043e \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u0432 \u043a\u043e\u043d\u0435\u0446 \u0444\u0430\u0439\u043b\u0430 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e.</li> <li>\u041d\u0430\u0434\u0435\u0436\u043d\u043e\u0441\u0442\u044c: \u0421\u043a\u0440\u0438\u043f\u0442 \u0443\u043f\u0430\u043b \u043d\u0430 \u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0435? \u0412\u0441\u0451, \u0447\u0442\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043e \u2014 \u0446\u0435\u043b\u043e.</li> <li>\u041f\u043e\u0442\u043e\u043a\u043e\u0432\u043e\u0441\u0442\u044c: \u041b\u0435\u0433\u043a\u043e \u0447\u0438\u0442\u0430\u0442\u044c \u043f\u043e \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435, \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044f \u0444\u0430\u0439\u043b \u0432 \u043f\u0430\u043c\u044f\u0442\u044c \u0446\u0435\u043b\u0438\u043a\u043e\u043c.</li> </ol> </li> </ul>"},{"location":"topic_14_storage/#csv","title":"CSV \u2014 \"\u0414\u043b\u044f \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u043e\u0432\"","text":"<ul> <li>\u041f\u043b\u044e\u0441\u044b: \u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 Excel.</li> <li>\u041c\u0438\u043d\u0443\u0441\u044b: \u0410\u0434 \u0441 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c\u044e. \u041a\u0430\u043a \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a \u0432 \u043e\u0434\u043d\u0443 \u044f\u0447\u0435\u0439\u043a\u0443? \u0427\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e? \u041a\u0430\u0432\u044b\u0447\u043a\u0438? \u042d\u0442\u043e \u0431\u043e\u043b\u044c. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043f\u043b\u043e\u0441\u043a\u0438\u0445 \u0442\u0430\u0431\u043b\u0438\u0446.</li> </ul>"},{"location":"topic_14_storage/#sqlite-postgresql","title":"\u0411\u0430\u0437\u044b \u0414\u0430\u043d\u043d\u044b\u0445 (SQLite / PostgreSQL)","text":"<ul> <li>SQLite: \u0415\u0441\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 &lt; 5 \u043c\u043b\u043d \u0441\u0442\u0440\u043e\u043a \u0438 \u0442\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0448\u044c \u043e\u0434\u0438\u043d. \u0424\u0430\u0439\u043b \u0431\u0430\u0437\u044b \u043b\u0435\u0436\u0438\u0442 \u0440\u044f\u0434\u043e\u043c. \u0411\u044b\u0441\u0442\u0440\u043e, \u043d\u0430\u0434\u0435\u0436\u043d\u043e (ACID).</li> <li>PostgreSQL: \u0415\u0441\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u043d\u043e\u0433\u043e, \u0438\u043b\u0438 \u043f\u0430\u0440\u0441\u0435\u0440 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e.</li> </ul>"},{"location":"topic_14_storage/#2-batching","title":"2. \u0422\u0435\u0445\u043d\u0438\u043a\u0430: \u0411\u0443\u0444\u0435\u0440\u0438\u0437\u0430\u0446\u0438\u044f (Batching)","text":"<p>\u041d\u0435 \u043f\u0438\u0448\u0438 \u043d\u0430 \u0434\u0438\u0441\u043a \u043a\u0430\u0436\u0434\u044b\u0439 \u0442\u043e\u0432\u0430\u0440. \u042d\u0442\u043e \u0438\u0437\u043d\u0430\u0441\u0438\u043b\u0443\u0435\u0442 \u0434\u0438\u0441\u043a (IOPS). \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439 \u0431\u0443\u0444\u0435\u0440.</p> <ol> <li>\u041a\u043e\u043f\u0438\u0448\u044c \u0442\u043e\u0432\u0430\u0440\u044b \u0432 \u043f\u0430\u043c\u044f\u0442\u0438 (\u0441\u043f\u0438\u0441\u043e\u043a).</li> <li>\u041d\u0430\u0431\u0440\u0430\u043b\u043e\u0441\u044c 100 \u0448\u0442\u0443\u043a (\u0438\u043b\u0438 1000)?</li> <li>\u0421\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u0448\u044c \u043f\u0430\u0447\u043a\u043e\u0439 (Flush) \u043d\u0430 \u0434\u0438\u0441\u043a \u0438\u043b\u0438 \u0432 \u0411\u0414.</li> <li>\u041e\u0447\u0438\u0449\u0430\u0435\u0448\u044c \u043f\u0430\u043c\u044f\u0442\u044c.</li> </ol>"},{"location":"topic_14_storage/#3","title":"3. \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b: \u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c","text":"<p>\u0427\u0442\u043e\u0431\u044b \u043d\u0435 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0438\u043a\u043b \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0438\u0441\u0438, \u043d\u0443\u0436\u043d\u044b \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043b\u0438\u0431\u044b:</p> <ul> <li>\u0424\u0430\u0439\u043b\u044b: <code>aiofiles</code></li> <li>SQLite: <code>aiosqlite</code></li> <li>Postgres: <code>asyncpg</code> (\u0441\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u0434\u0440\u0430\u0439\u0432\u0435\u0440 \u0432 \u043c\u0438\u0440\u0435 Python)</li> </ul>"},{"location":"topic_14_storage/#jsonl-buffer","title":"\ud83d\udc68\u200d\ud83d\udcbb \u041a\u041e\u0414: \u0423\u043c\u043d\u044b\u0439 \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u043e\u0440 (JSONL + Buffer)","text":"<p>\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u043a\u043b\u0430\u0441\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043a\u043e\u043f\u0438\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u0442 \u0438\u0445 \u0432 <code>data.jsonl</code>.</p> <pre><code>import asyncio\nimport aiofiles\nimport json\nfrom typing import List, Dict\n\nclass AsyncJsonlSaver:\n    def __init__(self, filename: str, batch_size: int = 100):\n        self.filename = filename\n        self.batch_size = batch_size\n        self.buffer: List[Dict] = []\n\n    async def add(self, item: Dict):\n        \"\"\"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0442\u043e\u0432\u0430\u0440 \u0432 \u0431\u0443\u0444\u0435\u0440. \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u043e\u043d - \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u043c.\"\"\"\n        self.buffer.append(item)\n        if len(self.buffer) &gt;= self.batch_size:\n            await self.flush()\n\n    async def flush(self):\n        \"\"\"\u041f\u0438\u0448\u0435\u043c \u0431\u0443\u0444\u0435\u0440 \u043d\u0430 \u0434\u0438\u0441\u043a \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\"\"\"\n        if not self.buffer:\n            return\n\n        # \u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0444\u0430\u0439\u043b \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 'append' (\u0434\u043e\u0437\u0430\u043f\u0438\u0441\u044c)\n        async with aiofiles.open(self.filename, mode='a', encoding='utf-8') as f:\n            # \u0424\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043a\u0443\u0441\u043e\u043a \u0442\u0435\u043a\u0441\u0442\u0430\n            lines = [json.dumps(item, ensure_ascii=False) for item in self.buffer]\n            blob = \"\\\\n\".join(lines) + \"\\\\n\"\n\n            # \u041f\u0438\u0448\u0435\u043c \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043a\u0443\u0441\u043e\u043a\n            await f.write(blob)\n\n        print(f\"\ud83d\udcbe \u0421\u0431\u0440\u043e\u0441\u0438\u043b {len(self.buffer)} \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0430 \u0434\u0438\u0441\u043a.\")\n        self.buffer.clear() # \u0427\u0438\u0441\u0442\u0438\u043c \u0431\u0443\u0444\u0435\u0440\n\n# --- \u0418\u0421\u041f\u041e\u041b\u042c\u0417\u041e\u0412\u0410\u041d\u0418\u0415 \u0412 \u041f\u0410\u0420\u0421\u0415\u0420\u0415 ---\n\nasync def main():\n    saver = AsyncJsonlSaver(\"products.jsonl\", batch_size=50)\n\n    # \u0418\u043c\u0438\u0442\u0430\u0446\u0438\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430\n    for i in range(105):\n        item = {\"id\": i, \"name\": f\"\u0422\u043e\u0432\u0430\u0440 {i}\", \"price\": 100 + i}\n        # \u042d\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e, \u0437\u0430\u043f\u0438\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 50 \u0438 100 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0435\n        await saver.add(item)\n\n    # \u0412\u0410\u0416\u041d\u041e: \u0412 \u043a\u043e\u043d\u0446\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u043d\u0443\u0436\u043d\u043e \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043e\u0441\u0442\u0430\u0442\u043a\u0438 (\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 5 \u0442\u043e\u0432\u0430\u0440\u043e\u0432)\n    await saver.flush()\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre>"},{"location":"topic_14_storage/#_1","title":"\ud83e\udde0 \u0424\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u043f\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440\u0430","text":"<p>\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e. \u0422\u044b \u043f\u0440\u043e\u0448\u0435\u043b \u043f\u0443\u0442\u044c \u043e\u0442 \"\u041a\u0430\u043a \u0441\u043f\u0430\u0440\u0441\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0443\" \u0434\u043e \"\u041a\u0430\u043a \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u044b\u0439 \u0445\u0430\u0440\u0432\u0435\u0441\u0442\u0435\u0440 \u0434\u0430\u043d\u043d\u044b\u0445\".</p> <p>\u0423 \u0442\u0435\u0431\u044f \u0435\u0441\u0442\u044c \u0432\u0441\u0435 \u043a\u0430\u0440\u0442\u044b:</p> <ol> <li>\u0420\u0430\u0437\u0432\u0435\u0434\u043a\u0430: \u0422\u044b \u0437\u043d\u0430\u0435\u0448\u044c \u043f\u0440\u043e SSR/CSR \u0438 \u0441\u043a\u0440\u044b\u0442\u044b\u0435 JSON-\u044b.</li> <li>\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b: \u0422\u044b \u0432\u044b\u043a\u0438\u043d\u0443\u043b <code>requests</code> \u0438 \u0432\u0437\u044f\u043b <code>httpx</code>. \u0422\u044b \u0437\u043d\u0430\u0435\u0448\u044c \u043f\u0440\u043e <code>Playwright</code> \u0438 <code>DrissionPage</code>.</li> <li>\u0412\u0437\u043b\u043e\u043c: \u0422\u044b \u0443\u043c\u0435\u0435\u0448\u044c \u0438\u0441\u043a\u0430\u0442\u044c API \u0438 \u043f\u043e\u0434\u0434\u0435\u043b\u044b\u0432\u0430\u0442\u044c TLS-\u043e\u0442\u043f\u0435\u0447\u0430\u0442\u043a\u0438.</li> <li>\u041a\u043e\u0434: \u0422\u0432\u043e\u0439 \u043f\u0430\u0440\u0441\u0435\u0440 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0439 (Producer/Consumer), \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 (Pydantic) \u0438 \u043f\u0438\u0448\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0430\u0442\u0447\u0430\u043c\u0438.</li> </ol> <p>\u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0434\u0430\u043b\u044c\u0448\u0435? \u0418\u0434\u0438 \u0438 \u0441\u043f\u0430\u0440\u0441\u0438 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0435. \u0422\u0435\u043e\u0440\u0438\u044f \u0431\u0435\u0437 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u043c\u0435\u0440\u0442\u0432\u0430. \u0412\u043e\u0437\u044c\u043c\u0438 \u0441\u0430\u0439\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0442\u0435\u0431\u044f \u0431\u0435\u0441\u0438\u0442, \u0438 \u0432\u044b\u0442\u0430\u0449\u0438 \u0438\u0437 \u043d\u0435\u0433\u043e \u0434\u0430\u043d\u043d\u044b\u0435. \u041d\u0430\u0442\u043a\u043d\u0435\u0448\u044c\u0441\u044f \u043d\u0430 \u0431\u0430\u043d \u2014 \u0432\u0441\u043f\u043e\u043c\u043d\u0438 \u043f\u0440\u043e \u043f\u0440\u043e\u043a\u0441\u0438 \u0438 TLS. \u0423\u043f\u0440\u0435\u0448\u044c\u0441\u044f \u0432 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u2014 \u0432\u0441\u043f\u043e\u043c\u043d\u0438 \u043f\u0440\u043e \u043f\u0440\u043e\u0444\u0430\u0439\u043b\u0438\u043d\u0433 \u0438 Selectolax.</p>"}]}